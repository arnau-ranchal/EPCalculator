import{t,e as n,a as e,n as i,A as r,m as o,b as a,c as s,d as c,f as l,g as f,p as u,r as h,q as d,s as p,I as g,h as y,v as b,i as m,j as v,k as _,l as x,o as w,u as k,w as M,x as $,y as T,z as A,B as S,C as E,D as N,E as L,F as C,G as z,H as D,J as F,K as P,L as O,M as U,N as j,O as R,P as I,Q as B,R as q,S as H,T as W,U as Y,V,W as X,X as Z,Y as G}from"./utils-BUjqgfU3.js";function J(t){return t}var K=1e-6;function Q(t){return"translate("+t+",0)"}function tt(t){return n=>+t(n)}function nt(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function et(){return!this.__axis}function rt(t,n){var e=[],i=null,r=null,o=6,a=6,s=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l="y",f=Q;function u(t){var u=null==i?n.ticks?n.ticks.apply(n,e):n.domain():i,h=null==r?n.tickFormat?n.tickFormat.apply(n,e):J:r,d=Math.max(o,0)+s,p=n.range(),g=+p[0]+c,y=+p[p.length-1]+c,b=(n.bandwidth?nt:tt)(n.copy(),c),m=t.selection?t.selection():t,v=m.selectAll(".domain").data([null]),_=m.selectAll(".tick").data(u,n).order(),x=_.exit(),w=_.enter().append("g").attr("class","tick"),k=_.select("line"),M=_.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(w),k=k.merge(w.append("line").attr("stroke","currentColor").attr("y2",1*o)),M=M.merge(w.append("text").attr("fill","currentColor").attr(l,1*d).attr("dy","0.71em")),t!==m&&(v=v.transition(t),_=_.transition(t),k=k.transition(t),M=M.transition(t),x=x.transition(t).attr("opacity",K).attr("transform",function(t){return isFinite(t=b(t))?f(t+c):this.getAttribute("transform")}),w.attr("opacity",K).attr("transform",function(t){var n=this.parentNode.__axis;return f((n&&isFinite(n=n(t))?n:b(t))+c)})),x.remove(),v.attr("d",a?"M"+g+","+1*a+"V"+c+"H"+y+"V"+1*a:"M"+g+","+c+"H"+y),_.attr("opacity",1).attr("transform",function(t){return f(b(t)+c)}),k.attr("y2",1*o),M.attr(l,1*d).text(h),m.filter(et).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),m.each(function(){this.__axis=b})}return u.scale=function(t){return arguments.length?(n=t,u):n},u.ticks=function(){return e=Array.from(arguments),u},u.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),u):e.slice()},u.tickValues=function(t){return arguments.length?(i=null==t?null:Array.from(t),u):i&&i.slice()},u.tickFormat=function(t){return arguments.length?(r=t,u):r},u.tickSize=function(t){return arguments.length?(o=a=+t,u):o},u.tickSizeInner=function(t){return arguments.length?(o=+t,u):o},u.tickSizeOuter=function(t){return arguments.length?(a=+t,u):a},u.tickPadding=function(t){return arguments.length?(s=+t,u):s},u.offset=function(t){return arguments.length?(c=+t,u):c},u}var ot={value:()=>{}};function at(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new st(i)}function st(t){this._=t}function ct(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function lt(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=ot,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}st.prototype=at.prototype={constructor:st,on:function(t,n){var e,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<s;)if(e=(t=o[a]).type)r[e]=lt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=lt(r[e],t.name,null);return this}for(;++a<s;)if((e=(t=o[a]).type)&&(e=ct(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new st(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,r=new Array(e),o=0;o<e;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(i=this._[t]).length;o<e;++o)i[o].value.apply(n,r)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};var ft="http://www.w3.org/1999/xhtml";const ut={svg:"http://www.w3.org/2000/svg",xhtml:ft,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ht(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),ut.hasOwnProperty(n)?{space:ut[n],local:t}:t}function dt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ft&&n.documentElement.namespaceURI===ft?n.createElement(t):n.createElementNS(e,t)}}function pt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gt(t){var n=ht(t);return(n.local?pt:dt)(n)}function yt(){}function bt(t){return null==t?yt:function(){return this.querySelector(t)}}function mt(){return[]}function vt(t){return null==t?mt:function(){return this.querySelectorAll(t)}}function _t(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}function xt(t){return function(){return this.matches(t)}}function wt(t){return function(n){return n.matches(t)}}var kt=Array.prototype.find;function Mt(){return this.firstElementChild}var $t=Array.prototype.filter;function Tt(){return Array.from(this.children)}function At(t){return new Array(t.length)}function St(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Et(t,n,e,i,r,o){for(var a,s=0,c=n.length,l=o.length;s<l;++s)(a=n[s])?(a.__data__=o[s],i[s]=a):e[s]=new St(t,o[s]);for(;s<c;++s)(a=n[s])&&(r[s]=a)}function Nt(t,n,e,i,r,o,a){var s,c,l,f=new Map,u=n.length,h=o.length,d=new Array(u);for(s=0;s<u;++s)(c=n[s])&&(d[s]=l=a.call(c,c.__data__,s,n)+"",f.has(l)?r[s]=c:f.set(l,c));for(s=0;s<h;++s)l=a.call(t,o[s],s,o)+"",(c=f.get(l))?(i[s]=c,c.__data__=o[s],f.delete(l)):e[s]=new St(t,o[s]);for(s=0;s<u;++s)(c=n[s])&&f.get(d[s])===c&&(r[s]=c)}function Lt(t){return t.__data__}function Ct(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function zt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Dt(t){return function(){this.removeAttribute(t)}}function Ft(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pt(t,n){return function(){this.setAttribute(t,n)}}function Ot(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ut(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function jt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Rt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function It(t){return function(){this.style.removeProperty(t)}}function Bt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function qt(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Ht(t,n){return t.style.getPropertyValue(n)||Rt(t).getComputedStyle(t,null).getPropertyValue(n)}function Wt(t){return function(){delete this[t]}}function Yt(t,n){return function(){this[t]=n}}function Vt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Xt(t){return t.trim().split(/^|\s+/)}function Zt(t){return t.classList||new Gt(t)}function Gt(t){this._node=t,this._names=Xt(t.getAttribute("class")||"")}function Jt(t,n){for(var e=Zt(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function Kt(t,n){for(var e=Zt(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function Qt(t){return function(){Jt(this,t)}}function tn(t){return function(){Kt(this,t)}}function nn(t,n){return function(){(n.apply(this,arguments)?Jt:Kt)(this,t)}}function en(){this.textContent=""}function rn(t){return function(){this.textContent=t}}function on(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function an(){this.innerHTML=""}function sn(t){return function(){this.innerHTML=t}}function cn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function ln(){this.nextSibling&&this.parentNode.appendChild(this)}function fn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function un(){return null}function hn(){var t=this.parentNode;t&&t.removeChild(this)}function dn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function pn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function gn(t){return function(){var n=this.__on;if(n){for(var e,i=0,r=-1,o=n.length;i<o;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++r]=e:this.removeEventListener(e.type,e.listener,e.options);++r?n.length=r:delete this.__on}}}function yn(t,n,e){return function(){var i,r=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),void(i.value=n);this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function bn(t,n,e){var i=Rt(t),r=i.CustomEvent;"function"==typeof r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function mn(t,n){return function(){return bn(this,t,n)}}function vn(t,n){return function(){return bn(this,t,n.apply(this,arguments))}}St.prototype={constructor:St,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Gt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var _n=[null];function xn(t,n){this._groups=t,this._parents=n}function wn(){return new xn([[document.documentElement]],_n)}function kn(t){return"string"==typeof t?new xn([[document.querySelector(t)]],[document.documentElement]):new xn([[t]],_n)}function Mn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function $n(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Tn(){}xn.prototype=wn.prototype={constructor:xn,select:function(t){"function"!=typeof t&&(t=bt(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a,s=n[r],c=s.length,l=i[r]=new Array(c),f=0;f<c;++f)(o=s[f])&&(a=t.call(o,o.__data__,f,s))&&("__data__"in o&&(a.__data__=o.__data__),l[f]=a);return new xn(i,this._parents)},selectAll:function(t){t="function"==typeof t?_t(t):vt(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var a,s=n[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),r.push(a));return new xn(i,r)},selectChild:function(t){return this.select(null==t?Mt:function(t){return function(){return kt.call(this.children,t)}}("function"==typeof t?t:wt(t)))},selectChildren:function(t){return this.selectAll(null==t?Tt:function(t){return function(){return $t.call(this.children,t)}}("function"==typeof t?t:wt(t)))},filter:function(t){"function"!=typeof t&&(t=xt(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a=n[r],s=a.length,c=i[r]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new xn(i,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Lt);var e,i=n?Nt:Et,r=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,s=new Array(a),c=new Array(a),l=new Array(a),f=0;f<a;++f){var u=r[f],h=o[f],d=h.length,p=Ct(t.call(u,u&&u.__data__,f,r)),g=p.length,y=c[f]=new Array(g),b=s[f]=new Array(g);i(u,h,y,b,l[f]=new Array(d),p,n);for(var m,v,_=0,x=0;_<g;++_)if(m=y[_]){for(_>=x&&(x=_+1);!(v=b[x])&&++x<g;);m._next=v||null}}return(s=new xn(s,r))._enter=c,s._exit=l,s},enter:function(){return new xn(this._enter||this._groups.map(At),this._parents)},exit:function(){return new xn(this._exit||this._groups.map(At),this._parents)},join:function(t,n,e){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=n&&(r=n(r))&&(r=r.selection()),null==e?o.remove():e(o),i&&r?i.merge(r).order():r},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,a=Math.min(r,o),s=new Array(r),c=0;c<a;++c)for(var l,f=e[c],u=i[c],h=f.length,d=s[c]=new Array(h),p=0;p<h;++p)(l=f[p]||u[p])&&(d[p]=l);for(;c<r;++c)s[c]=e[c];return new xn(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,r=t[n],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=zt);for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var a,s=e[o],c=s.length,l=r[o]=new Array(c),f=0;f<c;++f)(a=s[f])&&(l[f]=a);l.sort(n)}return new xn(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r,o=n[e],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,n){var e=ht(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?Ft:Dt:"function"==typeof n?e.local?jt:Ut:e.local?Ot:Pt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?It:"function"==typeof n?qt:Bt)(t,n,null==e?"":e)):Ht(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Wt:"function"==typeof n?Vt:Yt)(t,n)):this.node()[t]},classed:function(t,n){var e=Xt(t+"");if(arguments.length<2){for(var i=Zt(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof n?nn:n?Qt:tn)(e,n))},text:function(t){return arguments.length?this.each(null==t?en:("function"==typeof t?on:rn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?an:("function"==typeof t?cn:sn)(t)):this.node().innerHTML},raise:function(){return this.each(ln)},lower:function(){return this.each(fn)},append:function(t){var n="function"==typeof t?t:gt(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:gt(t),i=null==n?un:"function"==typeof n?n:bt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(hn)},clone:function(t){return this.select(t?pn:dn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var i,r,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=n?yn:gn,i=0;i<a;++i)this.each(s(o[i],n,e));return this}var s=this.node().__on;if(s)for(var c,l=0,f=s.length;l<f;++l)for(i=0,c=s[l];i<a;++i)if((r=o[i]).type===c.type&&r.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?vn:mn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i,r=t[n],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}};var An=.7,Sn=1/An,En="\\s*([+-]?\\d+)\\s*",Nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cn=/^#([0-9a-f]{3,8})$/,zn=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),Dn=new RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),Fn=new RegExp(`^rgba\\(${En},${En},${En},${Nn}\\)$`),Pn=new RegExp(`^rgba\\(${Ln},${Ln},${Ln},${Nn}\\)$`),On=new RegExp(`^hsl\\(${Nn},${Ln},${Ln}\\)$`),Un=new RegExp(`^hsla\\(${Nn},${Ln},${Ln},${Nn}\\)$`),jn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Rn(){return this.rgb().formatHex()}function In(){return this.rgb().formatRgb()}function Bn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Cn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?qn(n):3===e?new Vn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Hn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Hn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=zn.exec(t))?new Vn(n[1],n[2],n[3],1):(n=Dn.exec(t))?new Vn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Fn.exec(t))?Hn(n[1],n[2],n[3],n[4]):(n=Pn.exec(t))?Hn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=On.exec(t))?Qn(n[1],n[2]/100,n[3]/100,1):(n=Un.exec(t))?Qn(n[1],n[2]/100,n[3]/100,n[4]):jn.hasOwnProperty(t)?qn(jn[t]):"transparent"===t?new Vn(NaN,NaN,NaN,0):null}function qn(t){return new Vn(t>>16&255,t>>8&255,255&t,1)}function Hn(t,n,e,i){return i<=0&&(t=n=e=NaN),new Vn(t,n,e,i)}function Wn(t){return t instanceof Tn||(t=Bn(t)),t?new Vn((t=t.rgb()).r,t.g,t.b,t.opacity):new Vn}function Yn(t,n,e,i){return 1===arguments.length?Wn(t):new Vn(t,n,e,null==i?1:i)}function Vn(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function Xn(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}`}function Zn(){const t=Gn(this.opacity);return`${1===t?"rgb(":"rgba("}${Jn(this.r)}, ${Jn(this.g)}, ${Jn(this.b)}${1===t?")":`, ${t})`}`}function Gn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kn(t){return((t=Jn(t))<16?"0":"")+t.toString(16)}function Qn(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ee(t,n,e,i)}function te(t){if(t instanceof ee)return new ee(t.h,t.s,t.l,t.opacity);if(t instanceof Tn||(t=Bn(t)),!t)return new ee;if(t instanceof ee)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),o=Math.max(n,e,i),a=NaN,s=o-r,c=(o+r)/2;return s?(a=n===o?(e-i)/s+6*(e<i):e===o?(i-n)/s+2:(n-e)/s+4,s/=c<.5?o+r:2-o-r,a*=60):s=c>0&&c<1?0:a,new ee(a,s,c,t.opacity)}function ne(t,n,e,i){return 1===arguments.length?te(t):new ee(t,n,e,null==i?1:i)}function ee(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function ie(t){return(t=(t||0)%360)<0?t+360:t}function re(t){return Math.max(0,Math.min(1,t||0))}function oe(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Mn(Tn,Bn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Rn,formatHex:Rn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return te(this).formatHsl()},formatRgb:In,toString:In}),Mn(Vn,Yn,$n(Tn,{brighter(t){return t=null==t?Sn:Math.pow(Sn,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?An:Math.pow(An,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vn(Jn(this.r),Jn(this.g),Jn(this.b),Gn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xn,formatHex:Xn,formatHex8:function(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}${Kn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Zn,toString:Zn})),Mn(ee,ne,$n(Tn,{brighter(t){return t=null==t?Sn:Math.pow(Sn,t),new ee(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?An:Math.pow(An,t),new ee(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new Vn(oe(t>=240?t-240:t+120,r,i),oe(t,r,i),oe(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new ee(ie(this.h),re(this.s),re(this.l),Gn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gn(this.opacity);return`${1===t?"hsl(":"hsla("}${ie(this.h)}, ${100*re(this.s)}%, ${100*re(this.l)}%${1===t?")":`, ${t})`}`}}));const ae=Math.PI/180,se=180/Math.PI,ce=.96422,le=.82521,fe=4/29,ue=6/29,he=3*ue*ue,de=ue*ue*ue;function pe(t){if(t instanceof ye)return new ye(t.l,t.a,t.b,t.opacity);if(t instanceof we)return ke(t);t instanceof Vn||(t=Wn(t));var n,e,i=_e(t.r),r=_e(t.g),o=_e(t.b),a=be((.2225045*i+.7168786*r+.0606169*o)/1);return i===r&&r===o?n=e=a:(n=be((.4360747*i+.3850649*r+.1430804*o)/ce),e=be((.0139322*i+.0971045*r+.7141733*o)/le)),new ye(116*a-16,500*(n-a),200*(a-e),t.opacity)}function ge(t,n,e,i){return 1===arguments.length?pe(t):new ye(t,n,e,null==i?1:i)}function ye(t,n,e,i){this.l=+t,this.a=+n,this.b=+e,this.opacity=+i}function be(t){return t>de?Math.pow(t,1/3):t/he+fe}function me(t){return t>ue?t*t*t:he*(t-fe)}function ve(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _e(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xe(t,n,e,i){return 1===arguments.length?function(t){if(t instanceof we)return new we(t.h,t.c,t.l,t.opacity);if(t instanceof ye||(t=pe(t)),0===t.a&&0===t.b)return new we(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*se;return new we(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new we(t,n,e,null==i?1:i)}function we(t,n,e,i){this.h=+t,this.c=+n,this.l=+e,this.opacity=+i}function ke(t){if(isNaN(t.h))return new ye(t.l,0,0,t.opacity);var n=t.h*ae;return new ye(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Mn(ye,ge,$n(Tn,{brighter(t){return new ye(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new ye(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Vn(ve(3.1338561*(n=ce*me(n))-1.6168667*(t=1*me(t))-.4906146*(e=le*me(e))),ve(-.9787684*n+1.9161415*t+.033454*e),ve(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Mn(we,xe,$n(Tn,{brighter(t){return new we(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new we(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return ke(this).rgb()}}));var Me=-.14861,$e=1.78277,Te=-.29227,Ae=-.90649,Se=1.97294,Ee=Se*Ae,Ne=Se*$e,Le=$e*Te-Ae*Me;function Ce(t,n,e,i){return 1===arguments.length?function(t){if(t instanceof ze)return new ze(t.h,t.s,t.l,t.opacity);t instanceof Vn||(t=Wn(t));var n=t.r/255,e=t.g/255,i=t.b/255,r=(Le*i+Ee*n-Ne*e)/(Le+Ee-Ne),o=i-r,a=(Se*(e-r)-Te*o)/Ae,s=Math.sqrt(a*a+o*o)/(Se*r*(1-r)),c=s?Math.atan2(a,o)*se-120:NaN;return new ze(c<0?c+360:c,s,r,t.opacity)}(t):new ze(t,n,e,null==i?1:i)}function ze(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}Mn(ze,Ce,$n(Tn,{brighter(t){return t=null==t?Sn:Math.pow(Sn,t),new ze(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?An:Math.pow(An,t),new ze(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*ae,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),i=Math.cos(t),r=Math.sin(t);return new Vn(255*(n+e*(Me*i+$e*r)),255*(n+e*(Te*i+Ae*r)),255*(n+e*(Se*i)),this.opacity)}}));const De=t=>()=>t;function Fe(t,n){return function(e){return t+e*n}}function Pe(t,n){var e=n-t;return e?Fe(t,e>180||e<-180?e-360*Math.round(e/360):e):De(isNaN(t)?n:t)}function Oe(t){return 1===(t=+t)?Ue:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):De(isNaN(n)?e:n)}}function Ue(t,n){var e=n-t;return e?Fe(t,e):De(isNaN(t)?n:t)}const je=function t(n){var e=Oe(n);function i(t,n){var i=e((t=Yn(t)).r,(n=Yn(n)).r),r=e(t.g,n.g),o=e(t.b,n.b),a=Ue(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=r(n),t.b=o(n),t.opacity=a(n),t+""}}return i.gamma=t,i}(1);var Re,Ie=(Re=function(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<n-1?t[i+2]:2*o-r;return function(t,n,e,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*i+a*r)/6}((e-i/n)*n,a,r,o,s)}},function(t){var n,e,i=t.length,r=new Array(i),o=new Array(i),a=new Array(i);for(n=0;n<i;++n)e=Yn(t[n]),r[n]=e.r||0,o[n]=e.g||0,a[n]=e.b||0;return r=Re(r),o=Re(o),a=Re(a),e.opacity=1,function(t){return e.r=r(t),e.g=o(t),e.b=a(t),e+""}});function Be(t,n){n||(n=[]);var e,i=t?Math.min(n.length,t.length):0,r=n.slice();return function(o){for(e=0;e<i;++e)r[e]=t[e]*(1-o)+n[e]*o;return r}}function qe(t,n){var e,i=n?n.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(e=0;e<r;++e)o[e]=Ge(t[e],n[e]);for(;e<i;++e)a[e]=n[e];return function(t){for(e=0;e<r;++e)a[e]=o[e](t);return a}}function He(t,n){var e=new Date;return t=+t,n=+n,function(i){return e.setTime(t*(1-i)+n*i),e}}function We(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Ye(t,n){var e,i={},r={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?i[e]=Ge(t[e],n[e]):r[e]=n[e];return function(t){for(e in i)r[e]=i[e](t);return r}}var Ve=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xe=new RegExp(Ve.source,"g");function Ze(t,n){var e,i,r,o=Ve.lastIndex=Xe.lastIndex=0,a=-1,s=[],c=[];for(t+="",n+="";(e=Ve.exec(t))&&(i=Xe.exec(n));)(r=i.index)>o&&(r=n.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:We(e,i)})),o=Xe.lastIndex;return o<n.length&&(r=n.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,i=0;i<n;++i)s[(e=c[i]).i]=e.x(t);return s.join("")})}function Ge(t,n){var e,i,r=typeof n;return null==n||"boolean"===r?De(n):("number"===r?We:"string"===r?(e=Bn(n))?(n=e,je):Ze:n instanceof Bn?je:n instanceof Date?He:(i=n,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(n)?qe:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Ye:We:Be))(t,n)}function Je(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Ke,Qe=180/Math.PI,ti={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ni(t,n,e,i,r,o){var a,s,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*i)&&(e-=t*c,i-=n*c),(s=Math.sqrt(e*e+i*i))&&(e/=s,i/=s,c/=s),t*i<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*Qe,skewX:Math.atan(c)*Qe,scaleX:a,scaleY:s}}function ei(t,n,e,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],c=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var c=a.push("translate(",null,n,null,e);s.push({i:c-4,x:We(t,r)},{i:c-2,x:We(i,o)})}else(r||o)&&a.push("translate("+r+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(r(e)+"rotate(",null,i)-2,x:We(t,n)})):n&&e.push(r(e)+"rotate("+n+i)}(o.rotate,a.rotate,s,c),function(t,n,e,o){t!==n?o.push({i:e.push(r(e)+"skewX(",null,i)-2,x:We(t,n)}):n&&e.push(r(e)+"skewX("+n+i)}(o.skewX,a.skewX,s,c),function(t,n,e,i,o,a){if(t!==e||n!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:We(t,e)},{i:s-2,x:We(n,i)})}else 1===e&&1===i||o.push(r(o)+"scale("+e+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(t){for(var n,e=-1,i=c.length;++e<i;)s[(n=c[e]).i]=n.x(t);return s.join("")}}}var ii=ei(function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?ti:ni(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),ri=ei(function(t){return null==t?ti:(Ke||(Ke=document.createElementNS("http://www.w3.org/2000/svg","g")),Ke.setAttribute("transform",t),(t=Ke.transform.baseVal.consolidate())?ni((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ti)},", ",")",")");const oi=(ai=Pe,function(t,n){var e=ai((t=ne(t)).h,(n=ne(n)).h),i=Ue(t.s,n.s),r=Ue(t.l,n.l),o=Ue(t.opacity,n.opacity);return function(n){return t.h=e(n),t.s=i(n),t.l=r(n),t.opacity=o(n),t+""}});var ai;const si=function(t){return function(n,e){var i=t((n=xe(n)).h,(e=xe(e)).h),r=Ue(n.c,e.c),o=Ue(n.l,e.l),a=Ue(n.opacity,e.opacity);return function(t){return n.h=i(t),n.c=r(t),n.l=o(t),n.opacity=a(t),n+""}}}(Pe);function ci(t){return function n(e){function i(n,i){var r=t((n=Ce(n)).h,(i=Ce(i)).h),o=Ue(n.s,i.s),a=Ue(n.l,i.l),s=Ue(n.opacity,i.opacity);return function(t){return n.h=r(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=s(t),n+""}}return e=+e,i.gamma=n,i}(1)}ci(Pe);var li=ci(Ue);function fi(t,n){void 0===n&&(n=t,t=Ge);for(var e=0,i=n.length-1,r=n[0],o=new Array(i<0?0:i);e<i;)o[e]=t(r,r=n[++e]);return function(t){var n=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[n](t-n)}}function ui(t,n){for(var e=new Array(n),i=0;i<n;++i)e[i]=t(i/(n-1));return e}var hi,di,pi=0,gi=0,yi=0,bi=0,mi=0,vi=0,_i="object"==typeof performance&&performance.now?performance:Date,xi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wi(){return mi||(xi(ki),mi=_i.now()+vi)}function ki(){mi=0}function Mi(){this._call=this._time=this._next=null}function $i(t,n,e){var i=new Mi;return i.restart(t,n,e),i}function Ti(){mi=(bi=_i.now())+vi,pi=gi=0;try{!function(){wi(),++pi;for(var t,n=hi;n;)(t=mi-n._time)>=0&&n._call.call(void 0,t),n=n._next;--pi}()}finally{pi=0,function(){var t,n,e=hi,i=1/0;for(;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hi=n);di=t,Si(i)}(),mi=0}}function Ai(){var t=_i.now(),n=t-bi;n>1e3&&(vi-=n,bi=t)}function Si(t){pi||(gi&&(gi=clearTimeout(gi)),t-mi>24?(t<1/0&&(gi=setTimeout(Ti,t-_i.now()-vi)),yi&&(yi=clearInterval(yi))):(yi||(bi=_i.now(),yi=setInterval(Ai,1e3)),pi=1,xi(Ti)))}function Ei(t,n,e){var i=new Mi;return n=null==n?0:+n,i.restart(e=>{i.stop(),t(e+n)},n,e),i}Mi.prototype=$i.prototype={constructor:Mi,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?wi():+e)+(null==n?0:+n),this._next||di===this||(di?di._next=this:hi=this,di=this),this._call=t,this._time=e,Si()},stop:function(){this._call&&(this._call=null,this._time=1/0,Si())}};var Ni=at("start","end","cancel","interrupt"),Li=[];function Ci(t,n,e,i,r,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var i,r=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var l,f,u,h;if(1!==e.state)return c();for(l in r)if((h=r[l]).name===e.name){if(3===h.state)return Ei(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[l])}if(Ei(function(){3===e.state&&(e.state=4,e.timer.restart(s,e.delay,e.time),s(o))}),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,i=new Array(u=e.tween.length),l=0,f=-1;l<u;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(i[++f]=h);i.length=f+1}}function s(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(c),e.state=5,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var i in e.state=6,e.timer.stop(),delete r[n],r)return;delete t.__transition}r[n]=e,e.timer=$i(o,0,e.time)}(t,e,{name:n,index:i,group:r,on:Ni,tween:Li,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function zi(t,n){var e=Fi(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Di(t,n){var e=Fi(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Fi(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Pi(t,n){var e,i;return function(){var r=Di(this,t),o=r.tween;if(o!==e)for(var a=0,s=(i=e=o).length;a<s;++a)if(i[a].name===n){(i=i.slice()).splice(a,1);break}r.tween=i}}function Oi(t,n,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var o=Di(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:n,value:e},c=0,l=r.length;c<l;++c)if(r[c].name===n){r[c]=s;break}c===l&&r.push(s)}o.tween=r}}function Ui(t,n,e){var i=t._id;return t.each(function(){var t=Di(this,i);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Fi(t,i).value[n]}}function ji(t,n){var e;return("number"==typeof n?We:n instanceof Bn?je:(e=Bn(n))?(n=e,je):Ze)(t,n)}function Ri(t){return function(){this.removeAttribute(t)}}function Ii(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bi(t,n,e){var i,r,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=n(i=a,e)}}function qi(t,n,e){var i,r,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=n(i=a,e)}}function Hi(t,n,e){var i,r,o;return function(){var a,s,c=e(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===i&&s===r?o:(r=s,o=n(i=a,c));this.removeAttribute(t)}}function Wi(t,n,e){var i,r,o;return function(){var a,s,c=e(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===i&&s===r?o:(r=s,o=n(i=a,c));this.removeAttributeNS(t.space,t.local)}}function Yi(t,n){var e,i;function r(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,r)),e}return r._value=n,r}function Vi(t,n){var e,i;function r(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,r)),e}return r._value=n,r}function Xi(t,n){return function(){zi(this,t).delay=+n.apply(this,arguments)}}function Zi(t,n){return n=+n,function(){zi(this,t).delay=n}}function Gi(t,n){return function(){Di(this,t).duration=+n.apply(this,arguments)}}function Ji(t,n){return n=+n,function(){Di(this,t).duration=n}}var Ki=wn.prototype.constructor;function Qi(t){return function(){this.style.removeProperty(t)}}var tr=0;function nr(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function er(){return++tr}var ir=wn.prototype;nr.prototype={constructor:nr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=bt(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,c,l=i[a],f=l.length,u=o[a]=new Array(f),h=0;h<f;++h)(s=l[h])&&(c=t.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),u[h]=c,Ci(u[h],n,e,h,u,Fi(s,e)));return new nr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=vt(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var c,l=i[s],f=l.length,u=0;u<f;++u)if(c=l[u]){for(var h,d=t.call(c,c.__data__,u,l),p=Fi(c,e),g=0,y=d.length;g<y;++g)(h=d[g])&&Ci(h,n,e,g,d,p);o.push(d),a.push(c)}return new nr(o,a,n,e)},selectChild:ir.selectChild,selectChildren:ir.selectChildren,filter:function(t){"function"!=typeof t&&(t=xt(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a=n[r],s=a.length,c=i[r]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new nr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var c,l=n[s],f=e[s],u=l.length,h=a[s]=new Array(u),d=0;d<u;++d)(c=l[d]||f[d])&&(h[d]=c);for(;s<i;++s)a[s]=n[s];return new nr(a,this._parents,this._name,this._id)},selection:function(){return new Ki(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=er(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var f=Fi(a,n);Ci(a,t,e,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new nr(i,this._parents,t,e)},call:ir.call,nodes:ir.nodes,node:ir.node,size:ir.size,empty:ir.empty,each:ir.each,on:function(t,n){var e=this._id;return arguments.length<2?Fi(this.node(),e).on.on(t):this.each(function(t,n,e){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?zi:Di;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(n,e),a.on=r}}(e,t,n))},attr:function(t,n){var e=ht(t),i="transform"===e?ri:ji;return this.attrTween(t,"function"==typeof n?(e.local?Wi:Hi)(e,i,Ui(this,"attr."+t,n)):null==n?(e.local?Ii:Ri)(e):(e.local?qi:Bi)(e,i,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=ht(t);return this.tween(e,(i.local?Yi:Vi)(i,n))},style:function(t,n,e){var i="transform"==(t+="")?ii:ji;return null==n?this.styleTween(t,function(t,n){var e,i,r;return function(){var o=Ht(this,t),a=(this.style.removeProperty(t),Ht(this,t));return o===a?null:o===e&&a===i?r:r=n(e=o,i=a)}}(t,i)).on("end.style."+t,Qi(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var i,r,o;return function(){var a=Ht(this,t),s=e(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=Ht(this,t)),a===c?null:a===i&&c===r?o:(r=c,o=n(i=a,s))}}(t,i,Ui(this,"style."+t,n))).each(function(t,n){var e,i,r,o,a="style."+n,s="end."+a;return function(){var c=Di(this,t),l=c.on,f=null==c.value[a]?o||(o=Qi(n)):void 0;l===e&&r===f||(i=(e=l).copy()).on(s,r=f),c.on=i}}(this._id,t)):this.styleTween(t,function(t,n,e){var i,r,o=e+"";return function(){var a=Ht(this,t);return a===o?null:a===i?r:r=n(i=a,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function(t,n,e){var i,r;function o(){var o=n.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}(t,o,e)),i}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Ui(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function i(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&function(t){return function(n){this.textContent=t.call(this,n)}}(i)),n}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i,r=Fi(this.node(),e).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==n?Pi:Oi)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Xi:Zi)(n,t)):Fi(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Gi:Ji)(n,t)):Fi(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Di(this,t).ease=n}}(n,t)):Fi(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Di(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(o,a){var s={value:a},c={value:function(){0===--r&&o()}};e.each(function(){var e=Di(this,i),r=e.on;r!==t&&((n=(t=r).copy())._.cancel.push(s),n._.interrupt.push(s),n._.end.push(c)),e.on=n}),0===r&&o()})},[Symbol.iterator]:ir[Symbol.iterator]};var rr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function or(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}wn.prototype.interrupt=function(t){return this.each(function(){!function(t,n){var e,i,r,o=t.__transition,a=!0;if(o){for(r in n=null==n?null:n+"",o)(e=o[r]).name===n?(i=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(i?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[r]):a=!1;a&&delete t.__transition}}(this,t)})},wn.prototype.transition=function(t){var n,e;t instanceof nr?(n=t._id,t=t._name):(n=er(),(e=rr).time=wi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],c=s.length,l=0;l<c;++l)(a=s[l])&&Ci(a,t,n,l,s,e||or(a,n));return new nr(i,this._parents,t,n)};const ar=Math.PI,sr=2*ar,cr=1e-6,lr=sr-cr;function fr(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}let ur=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?fr:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return fr;const e=10**n;return function(t){this._+=t[0];for(let n=1,i=t.length;n<i;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,i){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+i}`}bezierCurveTo(t,n,e,i,r,o){this._append`C${+t},${+n},${+e},${+i},${this._x1=+r},${this._y1=+o}`}arcTo(t,n,e,i,r){if(t=+t,n=+n,e=+e,i=+i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=this._x1,a=this._y1,s=e-t,c=i-n,l=o-t,f=a-n,u=l*l+f*f;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(u>cr)if(Math.abs(f*s-c*l)>cr&&r){let h=e-o,d=i-a,p=s*s+c*c,g=h*h+d*d,y=Math.sqrt(p),b=Math.sqrt(u),m=r*Math.tan((ar-Math.acos((p+u-g)/(2*y*b)))/2),v=m/b,_=m/y;Math.abs(v-1)>cr&&this._append`L${t+v*l},${n+v*f}`,this._append`A${r},${r},0,0,${+(f*h>l*d)},${this._x1=t+_*s},${this._y1=n+_*c}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,i,r,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error(`negative radius: ${e}`);let a=e*Math.cos(i),s=e*Math.sin(i),c=t+a,l=n+s,f=1^o,u=o?i-r:r-i;null===this._x1?this._append`M${c},${l}`:(Math.abs(this._x1-c)>cr||Math.abs(this._y1-l)>cr)&&this._append`L${c},${l}`,e&&(u<0&&(u=u%sr+sr),u>lr?this._append`A${e},${e},0,1,${f},${t-a},${n-s}A${e},${e},0,1,${f},${this._x1=c},${this._y1=l}`:u>cr&&this._append`A${e},${e},0,${+(u>=ar)},${f},${this._x1=t+e*Math.cos(r)},${this._y1=n+e*Math.sin(r)}`)}rect(t,n,e,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+i}h${-e}Z`}toString(){return this._}};function hr(t=3){return new ur(+t)}var dr=Array.prototype.slice;function pr(t,n){return t-n}const gr=t=>()=>t;function yr(t,n){for(var e,i=-1,r=n.length;++i<r;)if(e=br(t,n[i]))return e;return 0}function br(t,n){for(var e=n[0],i=n[1],r=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var c=t[o],l=c[0],f=c[1],u=t[s],h=u[0],d=u[1];if(mr(c,u,n))return 0;f>i!=d>i&&e<(h-l)*(i-f)/(d-f)+l&&(r=-r)}return r}function mr(t,n,e){var i,r,o,a;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(r=t[i=+(t[0]===n[0])],o=e[i],a=n[i],r<=o&&o<=a||a<=o&&o<=r)}function vr(){}var _r=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function xr(){var r=1,o=1,a=t,s=u;function c(t){var r=a(t);if(Array.isArray(r))r=r.slice().sort(pr);else{const o=n(t,wr);for(r=e(...i(o[0],o[1],r),r);r[r.length-1]>=o[1];)r.pop();for(;r[1]<o[0];)r.shift()}return r.map(n=>l(t,n))}function l(t,n){const e=null==n?NaN:+n;if(isNaN(e))throw new Error(`invalid value: ${n}`);var i=[],a=[];return function(t,n,e){var i,a,s,c,l,u,h=new Array,d=new Array;i=a=-1,c=kr(t[0],n),_r[c<<1].forEach(p);for(;++i<r-1;)s=c,c=kr(t[i+1],n),_r[s|c<<1].forEach(p);_r[c|0].forEach(p);for(;++a<o-1;){for(i=-1,c=kr(t[a*r+r],n),l=kr(t[a*r],n),_r[c<<1|l<<2].forEach(p);++i<r-1;)s=c,c=kr(t[a*r+r+i+1],n),u=l,l=kr(t[a*r+i+1],n),_r[s|c<<1|l<<2|u<<3].forEach(p);_r[c|l<<3].forEach(p)}i=-1,l=t[a*r]>=n,_r[l<<2].forEach(p);for(;++i<r-1;)u=l,l=kr(t[a*r+i+1],n),_r[l<<2|u<<3].forEach(p);function p(t){var n,r,o=[t[0][0]+i,t[0][1]+a],s=[t[1][0]+i,t[1][1]+a],c=f(o),l=f(s);(n=d[c])?(r=h[l])?(delete d[n.end],delete h[r.start],n===r?(n.ring.push(s),e(n.ring)):h[n.start]=d[r.end]={start:n.start,end:r.end,ring:n.ring.concat(r.ring)}):(delete d[n.end],n.ring.push(s),d[n.end=l]=n):(n=h[l])?(r=d[c])?(delete h[n.start],delete d[r.end],n===r?(n.ring.push(s),e(n.ring)):h[r.start]=d[n.end]={start:r.start,end:n.end,ring:r.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(o),h[n.start=c]=n):h[c]=d[l]={start:c,end:l,ring:[o,s]}}_r[l<<3].forEach(p)}(t,e,function(n){s(n,t,e),function(t){for(var n=0,e=t.length,i=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)i+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return i}(n)>0?i.push([n]):a.push(n)}),a.forEach(function(t){for(var n,e=0,r=i.length;e<r;++e)if(-1!==yr((n=i[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:n,coordinates:i}}function f(t){return 2*t[0]+t[1]*(r+1)*4}function u(t,n,e){t.forEach(function(t){var i=t[0],a=t[1],s=0|i,c=0|a,l=Mr(n[c*r+s]);i>0&&i<r&&s===i&&(t[0]=$r(i,Mr(n[c*r+s-1]),l,e)),a>0&&a<o&&c===a&&(t[1]=$r(a,Mr(n[(c-1)*r+s]),l,e))})}return c.contour=l,c.size=function(t){if(!arguments.length)return[r,o];var n=Math.floor(t[0]),e=Math.floor(t[1]);if(!(n>=0&&e>=0))throw new Error("invalid size");return r=n,o=e,c},c.thresholds=function(t){return arguments.length?(a="function"==typeof t?t:Array.isArray(t)?gr(dr.call(t)):gr(t),c):a},c.smooth=function(t){return arguments.length?(s=t?u:vr,c):s===u},c}function wr(t){return isFinite(t)?t:NaN}function kr(t,n){return null!=t&&+t>=n}function Mr(t){return null==t||isNaN(t=+t)?-1/0:t}function $r(t,n,e,i){const r=i-n,o=e-n,a=isFinite(r)||isFinite(o)?r/o:Math.sign(r)/Math.sign(o);return isNaN(a)?t:t+a-.5}const Tr=134217729;function Ar(t,n,e,i,r){let o,a,s,c,l=n[0],f=i[0],u=0,h=0;f>l==f>-l?(o=l,l=n[++u]):(o=f,f=i[++h]);let d=0;if(u<t&&h<e)for(f>l==f>-l?(a=l+o,s=o-(a-l),l=n[++u]):(a=f+o,s=o-(a-f),f=i[++h]),o=a,0!==s&&(r[d++]=s);u<t&&h<e;)f>l==f>-l?(a=o+l,c=a-o,s=o-(a-c)+(l-c),l=n[++u]):(a=o+f,c=a-o,s=o-(a-c)+(f-c),f=i[++h]),o=a,0!==s&&(r[d++]=s);for(;u<t;)a=o+l,c=a-o,s=o-(a-c)+(l-c),l=n[++u],o=a,0!==s&&(r[d++]=s);for(;h<e;)a=o+f,c=a-o,s=o-(a-c)+(f-c),f=i[++h],o=a,0!==s&&(r[d++]=s);return 0===o&&0!==d||(r[d++]=o),d}function Sr(t){return new Float64Array(t)}const Er=Sr(4),Nr=Sr(8),Lr=Sr(12),Cr=Sr(16),zr=Sr(4);function Dr(t,n,e,i,r,o){const a=(n-o)*(e-r),s=(t-r)*(i-o),c=a-s,l=Math.abs(a+s);return Math.abs(c)>=33306690738754716e-32*l?c:-function(t,n,e,i,r,o,a){let s,c,l,f,u,h,d,p,g,y,b,m,v,_,x,w,k,M;const $=t-r,T=e-r,A=n-o,S=i-o;_=$*S,h=Tr*$,d=h-(h-$),p=$-d,h=Tr*S,g=h-(h-S),y=S-g,x=p*y-(_-d*g-p*g-d*y),w=A*T,h=Tr*A,d=h-(h-A),p=A-d,h=Tr*T,g=h-(h-T),y=T-g,k=p*y-(w-d*g-p*g-d*y),b=x-k,u=x-b,Er[0]=x-(b+u)+(u-k),m=_+b,u=m-_,v=_-(m-u)+(b-u),b=v-w,u=v-b,Er[1]=v-(b+u)+(u-w),M=m+b,u=M-m,Er[2]=m-(M-u)+(b-u),Er[3]=M;let E=function(t,n){let e=n[0];for(let i=1;i<t;i++)e+=n[i];return e}(4,Er),N=22204460492503146e-32*a;if(E>=N||-E>=N)return E;if(u=t-$,s=t-($+u)+(u-r),u=e-T,l=e-(T+u)+(u-r),u=n-A,c=n-(A+u)+(u-o),u=i-S,f=i-(S+u)+(u-o),0===s&&0===c&&0===l&&0===f)return E;if(N=11093356479670487e-47*a+33306690738754706e-32*Math.abs(E),E+=$*f+S*s-(A*l+T*c),E>=N||-E>=N)return E;_=s*S,h=Tr*s,d=h-(h-s),p=s-d,h=Tr*S,g=h-(h-S),y=S-g,x=p*y-(_-d*g-p*g-d*y),w=c*T,h=Tr*c,d=h-(h-c),p=c-d,h=Tr*T,g=h-(h-T),y=T-g,k=p*y-(w-d*g-p*g-d*y),b=x-k,u=x-b,zr[0]=x-(b+u)+(u-k),m=_+b,u=m-_,v=_-(m-u)+(b-u),b=v-w,u=v-b,zr[1]=v-(b+u)+(u-w),M=m+b,u=M-m,zr[2]=m-(M-u)+(b-u),zr[3]=M;const L=Ar(4,Er,4,zr,Nr);_=$*f,h=Tr*$,d=h-(h-$),p=$-d,h=Tr*f,g=h-(h-f),y=f-g,x=p*y-(_-d*g-p*g-d*y),w=A*l,h=Tr*A,d=h-(h-A),p=A-d,h=Tr*l,g=h-(h-l),y=l-g,k=p*y-(w-d*g-p*g-d*y),b=x-k,u=x-b,zr[0]=x-(b+u)+(u-k),m=_+b,u=m-_,v=_-(m-u)+(b-u),b=v-w,u=v-b,zr[1]=v-(b+u)+(u-w),M=m+b,u=M-m,zr[2]=m-(M-u)+(b-u),zr[3]=M;const C=Ar(L,Nr,4,zr,Lr);_=s*f,h=Tr*s,d=h-(h-s),p=s-d,h=Tr*f,g=h-(h-f),y=f-g,x=p*y-(_-d*g-p*g-d*y),w=c*l,h=Tr*c,d=h-(h-c),p=c-d,h=Tr*l,g=h-(h-l),y=l-g,k=p*y-(w-d*g-p*g-d*y),b=x-k,u=x-b,zr[0]=x-(b+u)+(u-k),m=_+b,u=m-_,v=_-(m-u)+(b-u),b=v-w,u=v-b,zr[1]=v-(b+u)+(u-w),M=m+b,u=M-m,zr[2]=m-(M-u)+(b-u),zr[3]=M;const z=Ar(C,Lr,4,zr,Cr);return Cr[z-1]}(t,n,e,i,r,o,l)}const Fr=Math.pow(2,-52),Pr=new Uint32Array(512);class Or{static from(t,n=qr,e=Hr){const i=t.length,r=new Float64Array(2*i);for(let o=0;o<i;o++){const i=t[o];r[2*o]=n(i),r[2*o+1]=e(i)}return new Or(r)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const e=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:e,_hullTri:i,_hullHash:r}=this,o=t.length>>1;let a=1/0,s=1/0,c=-1/0,l=-1/0;for(let M=0;M<o;M++){const n=t[2*M],e=t[2*M+1];n<a&&(a=n),e<s&&(s=e),n>c&&(c=n),e>l&&(l=e),this._ids[M]=M}const f=(a+c)/2,u=(s+l)/2;let h,d,p;for(let M=0,$=1/0;M<o;M++){const n=Ur(f,u,t[2*M],t[2*M+1]);n<$&&(h=M,$=n)}const g=t[2*h],y=t[2*h+1];for(let M=0,$=1/0;M<o;M++){if(M===h)continue;const n=Ur(g,y,t[2*M],t[2*M+1]);n<$&&n>0&&(d=M,$=n)}let b=t[2*d],m=t[2*d+1],v=1/0;for(let M=0;M<o;M++){if(M===h||M===d)continue;const n=Rr(g,y,b,m,t[2*M],t[2*M+1]);n<v&&(p=M,v=n)}let _=t[2*p],x=t[2*p+1];if(v===1/0){for(let i=0;i<o;i++)this._dists[i]=t[2*i]-t[0]||t[2*i+1]-t[1];Ir(this._ids,this._dists,0,o-1);const n=new Uint32Array(o);let e=0;for(let t=0,i=-1/0;t<o;t++){const r=this._ids[t],o=this._dists[r];o>i&&(n[e++]=r,i=o)}return this.hull=n.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Dr(g,y,b,m,_,x)<0){const t=d,n=b,e=m;d=p,b=_,m=x,p=t,_=n,x=e}const w=function(t,n,e,i,r,o){const a=e-t,s=i-n,c=r-t,l=o-n,f=a*a+s*s,u=c*c+l*l,h=.5/(a*l-s*c);return{x:t+(l*f-s*u)*h,y:n+(a*u-c*f)*h}}(g,y,b,m,_,x);this._cx=w.x,this._cy=w.y;for(let M=0;M<o;M++)this._dists[M]=Ur(t[2*M],t[2*M+1],w.x,w.y);Ir(this._ids,this._dists,0,o-1),this._hullStart=h;let k=3;e[h]=n[p]=d,e[d]=n[h]=p,e[p]=n[d]=h,i[h]=0,i[d]=1,i[p]=2,r.fill(-1),r[this._hashKey(g,y)]=h,r[this._hashKey(b,m)]=d,r[this._hashKey(_,x)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let M,$,T=0;T<this._ids.length;T++){const o=this._ids[T],a=t[2*o],s=t[2*o+1];if(T>0&&Math.abs(a-M)<=Fr&&Math.abs(s-$)<=Fr)continue;if(M=a,$=s,o===h||o===d||o===p)continue;let c=0;for(let t=0,n=this._hashKey(a,s);t<this._hashSize&&(c=r[(n+t)%this._hashSize],-1===c||c===e[c]);t++);c=n[c];let l,f=c;for(;l=e[f],Dr(a,s,t[2*f],t[2*f+1],t[2*l],t[2*l+1])>=0;)if(f=l,f===c){f=-1;break}if(-1===f)continue;let u=this._addTriangle(f,o,e[f],-1,-1,i[f]);i[o]=this._legalize(u+2),i[f]=u,k++;let g=e[f];for(;l=e[g],Dr(a,s,t[2*g],t[2*g+1],t[2*l],t[2*l+1])<0;)u=this._addTriangle(g,o,l,i[o],-1,i[g]),i[o]=this._legalize(u+2),e[g]=g,k--,g=l;if(f===c)for(;l=n[f],Dr(a,s,t[2*l],t[2*l+1],t[2*f],t[2*f+1])<0;)u=this._addTriangle(l,o,f,-1,i[f],i[l]),this._legalize(u+2),i[l]=u,e[f]=f,k--,f=l;this._hullStart=n[o]=f,e[f]=n[g]=o,e[o]=g,r[this._hashKey(a,s)]=o,r[this._hashKey(t[2*f],t[2*f+1])]=f}this.hull=new Uint32Array(k);for(let M=0,$=this._hullStart;M<k;M++)this.hull[M]=$,$=e[$];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:e,coords:i}=this;let r=0,o=0;for(;;){const a=e[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===r)break;t=Pr[--r];continue}const c=a-a%3,l=s+(t+1)%3,f=c+(a+2)%3,u=n[o],h=n[t],d=n[l],p=n[f];if(jr(i[2*u],i[2*u+1],i[2*h],i[2*h+1],i[2*d],i[2*d+1],i[2*p],i[2*p+1])){n[t]=p,n[a]=u;const i=e[f];if(-1===i){let n=this._hullStart;do{if(this._hullTri[n]===f){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,i),this._link(a,e[o]),this._link(o,f);const s=c+(a+1)%3;r<Pr.length&&(Pr[r++]=s)}else{if(0===r)break;t=Pr[--r]}}return o}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,e,i,r,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=e,this._link(a,i),this._link(a+1,r),this._link(a+2,o),this.trianglesLen+=3,a}}function Ur(t,n,e,i){const r=t-e,o=n-i;return r*r+o*o}function jr(t,n,e,i,r,o,a,s){const c=t-a,l=n-s,f=e-a,u=i-s,h=r-a,d=o-s,p=f*f+u*u,g=h*h+d*d;return c*(u*g-p*d)-l*(f*g-p*h)+(c*c+l*l)*(f*d-u*h)<0}function Rr(t,n,e,i,r,o){const a=e-t,s=i-n,c=r-t,l=o-n,f=a*a+s*s,u=c*c+l*l,h=.5/(a*l-s*c),d=(l*f-s*u)*h,p=(a*u-c*f)*h;return d*d+p*p}function Ir(t,n,e,i){if(i-e<=20)for(let r=e+1;r<=i;r++){const i=t[r],o=n[i];let a=r-1;for(;a>=e&&n[t[a]]>o;)t[a+1]=t[a--];t[a+1]=i}else{let r=e+1,o=i;Br(t,e+i>>1,r),n[t[e]]>n[t[i]]&&Br(t,e,i),n[t[r]]>n[t[i]]&&Br(t,r,i),n[t[e]]>n[t[r]]&&Br(t,e,r);const a=t[r],s=n[a];for(;;){do{r++}while(n[t[r]]<s);do{o--}while(n[t[o]]>s);if(o<r)break;Br(t,r,o)}t[e+1]=t[o],t[o]=a,i-r+1>=o-e?(Ir(t,n,r,i),Ir(t,n,e,o-1)):(Ir(t,n,e,o-1),Ir(t,n,r,i))}}function Br(t,n,e){const i=t[n];t[n]=t[e],t[e]=i}function qr(t){return t[0]}function Hr(t){return t[1]}const Wr=1e-6;class Yr{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,e){const i=(t=+t)+(e=+e),r=n=+n;if(e<0)throw new Error("negative radius");null===this._x1?this._+=`M${i},${r}`:(Math.abs(this._x1-i)>Wr||Math.abs(this._y1-r)>Wr)&&(this._+="L"+i+","+r),e&&(this._+=`A${e},${e},0,1,1,${t-e},${n}A${e},${e},0,1,1,${this._x1=i},${this._y1=r}`)}rect(t,n,e,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+e}v${+i}h${-e}Z`}value(){return this._||null}}class Vr{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class Xr{constructor(t,[n,e,i,r]=[0,0,960,500]){if(!((i=+i)>=(n=+n)&&(r=+r)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=i,this.xmin=n,this.ymax=r,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:e},vectors:i}=this;let r,o;const a=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let p,g,y=0,b=0,m=e.length;y<m;y+=3,b+=2){const i=2*e[y],s=2*e[y+1],c=2*e[y+2],l=t[i],f=t[i+1],u=t[s],h=t[s+1],d=t[c],m=t[c+1],v=u-l,_=h-f,x=d-l,w=m-f,k=2*(v*w-_*x);if(Math.abs(k)<1e-9){if(void 0===r){r=o=0;for(const e of n)r+=t[2*e],o+=t[2*e+1];r/=n.length,o/=n.length}const e=1e9*Math.sign((r-l)*w-(o-f)*x);p=(l+d)/2-e*w,g=(f+m)/2+e*x}else{const t=1/k,n=v*v+_*_,e=x*x+w*w;p=l+(w*n-_*e)*t,g=f+(v*e-x*n)*t}a[b]=p,a[b+1]=g}let s,c,l,f=n[n.length-1],u=4*f,h=t[2*f],d=t[2*f+1];i.fill(0);for(let p=0;p<n.length;++p)f=n[p],s=u,c=h,l=d,u=4*f,h=t[2*f],d=t[2*f+1],i[s+2]=i[u]=l-d,i[s+3]=i[u+1]=h-c}render(t){const n=null==t?t=new Yr:void 0,{delaunay:{halfedges:e,inedges:i,hull:r},circumcenters:o,vectors:a}=this;if(r.length<=1)return null;for(let l=0,f=e.length;l<f;++l){const n=e[l];if(n<l)continue;const i=2*Math.floor(l/3),r=2*Math.floor(n/3),a=o[i],s=o[i+1],c=o[r],f=o[r+1];this._renderSegment(a,s,c,f,t)}let s,c=r[r.length-1];for(let l=0;l<r.length;++l){s=c,c=r[l];const n=2*Math.floor(i[c]/3),e=o[n],f=o[n+1],u=4*s,h=this._project(e,f,a[u+2],a[u+3]);h&&this._renderSegment(e,f,h[0],h[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new Yr:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const e=null==n?n=new Yr:void 0,i=this._clip(t);if(null===i||!i.length)return;n.moveTo(i[0],i[1]);let r=i.length;for(;i[0]===i[r-2]&&i[1]===i[r-1]&&r>1;)r-=2;for(let o=2;o<r;o+=2)i[o]===i[o-2]&&i[o+1]===i[o-1]||n.lineTo(i[o],i[o+1]);return n.closePath(),e&&e.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,e=t.length/2;n<e;++n){const t=this.cellPolygon(n);t&&(t.index=n,yield t)}}cellPolygon(t){const n=new Vr;return this.renderCell(t,n),n.value()}_renderSegment(t,n,e,i,r){let o;const a=this._regioncode(t,n),s=this._regioncode(e,i);0===a&&0===s?(r.moveTo(t,n),r.lineTo(e,i)):(o=this._clipSegment(t,n,e,i,a,s))&&(r.moveTo(o[0],o[1]),r.lineTo(o[2],o[3]))}contains(t,n,e){return(n=+n)==n&&(e=+e)==e&&this.delaunay._step(t,n,e)===t}*neighbors(t){const n=this._clip(t);if(n)for(const e of this.delaunay.neighbors(t)){const t=this._clip(e);if(t)t:for(let i=0,r=n.length;i<r;i+=2)for(let o=0,a=t.length;o<a;o+=2)if(n[i]===t[o]&&n[i+1]===t[o+1]&&n[(i+2)%r]===t[(o+a-2)%a]&&n[(i+3)%r]===t[(o+a-1)%a]){yield e;break t}}}_cell(t){const{circumcenters:n,delaunay:{inedges:e,halfedges:i,triangles:r}}=this,o=e[t];if(-1===o)return null;const a=[];let s=o;do{const e=Math.floor(s/3);if(a.push(n[2*e],n[2*e+1]),s=s%3==2?s-2:s+1,r[s]!==t)break;s=i[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:e}=this,i=4*t;return this._simplify(e[i]||e[i+1]?this._clipInfinite(t,n,e[i],e[i+1],e[i+2],e[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const e=n.length;let i,r,o,a,s=null,c=n[e-2],l=n[e-1],f=this._regioncode(c,l),u=0;for(let h=0;h<e;h+=2)if(i=c,r=l,c=n[h],l=n[h+1],o=f,f=this._regioncode(c,l),0===o&&0===f)a=u,u=0,s?s.push(c,l):s=[c,l];else{let n,e,h,d,p;if(0===o){if(null===(n=this._clipSegment(i,r,c,l,o,f)))continue;[e,h,d,p]=n}else{if(null===(n=this._clipSegment(c,l,i,r,f,o)))continue;[d,p,e,h]=n,a=u,u=this._edgecode(e,h),a&&u&&this._edge(t,a,u,s,s.length),s?s.push(e,h):s=[e,h]}a=u,u=this._edgecode(d,p),a&&u&&this._edge(t,a,u,s,s.length),s?s.push(d,p):s=[d,p]}if(s)a=u,u=this._edgecode(s[0],s[1]),a&&u&&this._edge(t,a,u,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,n,e,i,r,o){const a=r<o;for(a&&([t,n,e,i,r,o]=[e,i,t,n,o,r]);;){if(0===r&&0===o)return a?[e,i,t,n]:[t,n,e,i];if(r&o)return null;let s,c,l=r||o;8&l?(s=t+(e-t)*(this.ymax-n)/(i-n),c=this.ymax):4&l?(s=t+(e-t)*(this.ymin-n)/(i-n),c=this.ymin):2&l?(c=n+(i-n)*(this.xmax-t)/(e-t),s=this.xmax):(c=n+(i-n)*(this.xmin-t)/(e-t),s=this.xmin),r?(t=s,n=c,r=this._regioncode(t,n)):(e=s,i=c,o=this._regioncode(e,i))}}_clipInfinite(t,n,e,i,r,o){let a,s=Array.from(n);if((a=this._project(s[0],s[1],e,i))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],r,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let c,l=0,f=s.length,u=this._edgecode(s[f-2],s[f-1]);l<f;l+=2)c=u,u=this._edgecode(s[l],s[l+1]),c&&u&&(l=this._edge(t,c,u,s,l),f=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,e,i,r){for(;n!==e;){let e,o;switch(n){case 5:n=4;continue;case 4:n=6,e=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,e=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,e=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,e=this.xmin,o=this.ymin}i[r]===e&&i[r+1]===o||!this.contains(t,e,o)||(i.splice(r,0,e,o),r+=2)}return r}_project(t,n,e,i){let r,o,a,s=1/0;if(i<0){if(n<=this.ymin)return null;(r=(this.ymin-n)/i)<s&&(a=this.ymin,o=t+(s=r)*e)}else if(i>0){if(n>=this.ymax)return null;(r=(this.ymax-n)/i)<s&&(a=this.ymax,o=t+(s=r)*e)}if(e>0){if(t>=this.xmax)return null;(r=(this.xmax-t)/e)<s&&(o=this.xmax,a=n+(s=r)*i)}else if(e<0){if(t<=this.xmin)return null;(r=(this.xmin-t)/e)<s&&(o=this.xmin,a=n+(s=r)*i)}return[o,a]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const e=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[e]&&t[e]===t[i]||t[n+1]===t[e+1]&&t[e+1]===t[i+1])&&(t.splice(e,2),n-=2)}t.length||(t=null)}return t}}const Zr=2*Math.PI,Gr=Math.pow;function Jr(t){return t[0]}function Kr(t){return t[1]}function Qr(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class to{static from(t,n=Jr,e=Kr,i){return new to("length"in t?function(t,n,e,i){const r=t.length,o=new Float64Array(2*r);for(let a=0;a<r;++a){const r=t[a];o[2*a]=n.call(i,r,a,t),o[2*a+1]=e.call(i,r,a,t)}return o}(t,n,e,i):Float64Array.from(function*(t,n,e,i){let r=0;for(const o of t)yield n.call(i,o,r,t),yield e.call(i,o,r,t),++r}(t,n,e,i)))}constructor(t){this._delaunator=new Or(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:n,coords:e}=t;for(let i=0;i<n.length;i+=3){const t=2*n[i],r=2*n[i+1],o=2*n[i+2];if((e[o]-e[t])*(e[r+1]-e[t+1])-(e[r]-e[t])*(e[o+1]-e[t+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},(t,n)=>n).sort((t,e)=>n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]);const t=this.collinear[0],e=this.collinear[this.collinear.length-1],i=[n[2*t],n[2*t+1],n[2*e],n[2*e+1]],r=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]);for(let o=0,a=n.length/2;o<a;++o){const t=Qr(n[2*o],n[2*o+1],r);n[2*o]=t[0],n[2*o+1]=t[1]}this._delaunator=new Or(n)}else delete this.collinear;const e=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let s=0,c=e.length;s<c;++s){const t=r[s%3==2?s-2:s+1];-1!==e[s]&&-1!==o[t]||(o[t]=s)}for(let s=0,c=i.length;s<c;++s)a[i[s]]=s;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,2===i.length&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new Xr(this,t)}*neighbors(t){const{inedges:n,hull:e,_hullIndex:i,halfedges:r,triangles:o,collinear:a}=this;if(a){const n=a.indexOf(t);return n>0&&(yield a[n-1]),void(n<a.length-1&&(yield a[n+1]))}const s=n[t];if(-1===s)return;let c=s,l=-1;do{if(yield l=o[c],c=c%3==2?c-2:c+1,o[c]!==t)return;if(c=r[c],-1===c){const n=e[(i[t]+1)%e.length];return void(n!==l&&(yield n))}}while(c!==s)}find(t,n,e=0){if((t=+t)!=t||(n=+n)!=n)return-1;const i=e;let r;for(;(r=this._step(e,t,n))>=0&&r!==e&&r!==i;)e=r;return r}_step(t,n,e){const{inedges:i,hull:r,_hullIndex:o,halfedges:a,triangles:s,points:c}=this;if(-1===i[t]||!c.length)return(t+1)%(c.length>>1);let l=t,f=Gr(n-c[2*t],2)+Gr(e-c[2*t+1],2);const u=i[t];let h=u;do{let i=s[h];const u=Gr(n-c[2*i],2)+Gr(e-c[2*i+1],2);if(u<f&&(f=u,l=i),h=h%3==2?h-2:h+1,s[h]!==t)break;if(h=a[h],-1===h){if(h=r[(o[t]+1)%r.length],h!==i&&Gr(n-c[2*h],2)+Gr(e-c[2*h+1],2)<f)return h;break}}while(h!==u);return l}render(t){const n=null==t?t=new Yr:void 0,{points:e,halfedges:i,triangles:r}=this;for(let o=0,a=i.length;o<a;++o){const n=i[o];if(n<o)continue;const a=2*r[o],s=2*r[n];t.moveTo(e[a],e[a+1]),t.lineTo(e[s],e[s+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){void 0!==n||t&&"function"==typeof t.moveTo||(n=t,t=null),n=null==n?2:+n;const e=null==t?t=new Yr:void 0,{points:i}=this;for(let r=0,o=i.length;r<o;r+=2){const e=i[r],o=i[r+1];t.moveTo(e+n,o),t.arc(e,o,n,0,Zr)}return e&&e.value()}renderHull(t){const n=null==t?t=new Yr:void 0,{hull:e,points:i}=this,r=2*e[0],o=e.length;t.moveTo(i[r],i[r+1]);for(let a=1;a<o;++a){const n=2*e[a];t.lineTo(i[n],i[n+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Vr;return this.renderHull(t),t.value()}renderTriangle(t,n){const e=null==n?n=new Yr:void 0,{points:i,triangles:r}=this,o=2*r[t*=3],a=2*r[t+1],s=2*r[t+2];return n.moveTo(i[o],i[o+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[s],i[s+1]),n.closePath(),e&&e.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,e=t.length/3;n<e;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Vr;return this.renderTriangle(t,n),n.value()}}function no(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}function eo(t){return(t=no(Math.abs(t)))?t[1]:NaN}var io,ro=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oo(t){if(!(n=ro.exec(t)))throw new Error("invalid format: "+t);var n;return new ao({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function ao(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function so(t,n){var e=no(t,n);if(!e)return t+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}oo.prototype=ao.prototype,ao.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const co={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>so(100*t,n),r:so,s:function(t,n){var e=no(t,n);if(!e)return t+"";var i=e[0],r=e[1],o=r-(io=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+no(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lo(t){return t}var fo,uo,ho,po=Array.prototype.map,go=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yo(t){var n,e,i=void 0===t.grouping||void 0===t.thousands?lo:(n=po.call(t.grouping,Number),e=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=n[0],c=0;r>0&&s>0&&(c+s+1>i&&(s=Math.max(1,i-c)),o.push(t.substring(r-=s,r+s)),!((c+=s+1)>i));)s=n[a=(a+1)%n.length];return o.reverse().join(e)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?lo:function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(po.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function u(t){var n=(t=oo(t)).fill,e=t.align,u=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,b=t.trim,m=t.type;"n"===m?(g=!0,m="g"):co[m]||(void 0===y&&(y=12),b=!0,m="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var v="$"===h?r:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_="$"===h?o:/[%p]/.test(m)?c:"",x=co[m],w=/[defgprs%]/.test(m);function k(t){var r,o,c,h=v,k=_;if("c"===m)k=x(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:x(Math.abs(t),y),b&&(t=function(t){t:for(var n,e=t.length,i=1,r=-1;i<e;++i)switch(t[i]){case".":r=n=i;break;case"0":0===r&&(r=i),n=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(n+1):t}(t)),M&&0===+t&&"+"!==u&&(M=!1),h=(M?"("===u?u:l:"-"===u||"("===u?"":u)+h,k=("s"===m?go[8+io/3]:"")+k+(M&&"("===u?")":""),w)for(r=-1,o=t.length;++r<o;)if(48>(c=t.charCodeAt(r))||c>57){k=(46===c?a+t.slice(r+1):t.slice(r))+k,t=t.slice(0,r);break}}g&&!d&&(t=i(t,1/0));var $=h.length+t.length+k.length,T=$<p?new Array(p-$+1).join(n):"";switch(g&&d&&(t=i(T+t,T.length?p-k.length:1/0),T=""),e){case"<":t=h+t+k+T;break;case"=":t=h+T+t+k;break;case"^":t=T.slice(0,$=T.length>>1)+h+t+k+T.slice($);break;default:t=T+h+t+k}return s(t)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:u,formatPrefix:function(t,n){var e=u(((t=oo(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(eo(n)/3))),r=Math.pow(10,-i),o=go[8+i/3];return function(t){return e(r*t)+o}}}}function bo(t){return Math.max(0,-eo(Math.abs(t)))}function mo(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(eo(n)/3)))-eo(Math.abs(t)))}function vo(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,eo(n)-eo(t))+1}fo=yo({thousands:",",grouping:[3],currency:["$",""]}),uo=fo.format,ho=fo.formatPrefix;var _o=1e-6,xo=Math.PI,wo=xo/2,ko=xo/4,Mo=2*xo,$o=180/xo,To=xo/180,Ao=Math.abs,So=Math.atan,Eo=Math.atan2,No=Math.cos,Lo=Math.exp,Co=Math.log,zo=Math.pow,Do=Math.sin,Fo=Math.sign||function(t){return t>0?1:t<0?-1:0},Po=Math.sqrt,Oo=Math.tan;function Uo(t){return t>1?0:t<-1?xo:Math.acos(t)}function jo(t){return t>1?wo:t<-1?-wo:Math.asin(t)}function Ro(){}function Io(t,n){t&&qo.hasOwnProperty(t.type)&&qo[t.type](t,n)}var Bo={Feature:function(t,n){Io(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)Io(e[i].geometry,n)}},qo={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ho(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)Ho(e[i],n,0)},Polygon:function(t,n){Wo(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)Wo(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)Io(e[i],n)}};function Ho(t,n,e){var i,r=-1,o=t.length-e;for(n.lineStart();++r<o;)i=t[r],n.point(i[0],i[1],i[2]);n.lineEnd()}function Wo(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)Ho(t[e],n,1);n.polygonEnd()}function Yo(t,n){t&&Bo.hasOwnProperty(t.type)?Bo[t.type](t,n):Io(t,n)}function Vo(t){return[Eo(t[1],t[0]),jo(t[2])]}function Xo(t){var n=t[0],e=t[1],i=No(e);return[i*No(n),i*Do(n),Do(e)]}function Zo(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Go(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Jo(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Ko(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Qo(t){var n=Po(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function ta(t,n){function e(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,i){return(e=n.invert(e,i))&&t.invert(e[0],e[1])}),e}function na(t,n){return Ao(t)>xo&&(t-=Math.round(t/Mo)*Mo),[t,n]}function ea(t,n,e){return(t%=Mo)?n||e?ta(ra(t),oa(n,e)):ra(t):n||e?oa(n,e):na}function ia(t){return function(n,e){return Ao(n+=t)>xo&&(n-=Math.round(n/Mo)*Mo),[n,e]}}function ra(t){var n=ia(t);return n.invert=ia(-t),n}function oa(t,n){var e=No(t),i=Do(t),r=No(n),o=Do(n);function a(t,n){var a=No(n),s=No(t)*a,c=Do(t)*a,l=Do(n),f=l*e+s*i;return[Eo(c*r-f*o,s*e-l*i),jo(f*r+c*o)]}return a.invert=function(t,n){var a=No(n),s=No(t)*a,c=Do(t)*a,l=Do(n),f=l*r-c*o;return[Eo(c*r+l*o,s*e+f*i),jo(f*e-s*i)]},a}function aa(t,n){(n=Xo(n))[0]-=t,Qo(n);var e=Uo(-n[1]);return((-n[2]<0?-e:e)+Mo-_o)%Mo}function sa(){var t,n=[];return{point:function(n,e,i){t.push([n,e,i])},lineStart:function(){n.push(t=[])},lineEnd:Ro,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function ca(t,n){return Ao(t[0]-n[0])<_o&&Ao(t[1]-n[1])<_o}function la(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function fa(t,n,e,i,r){var o,a,s=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,i=t[0],a=t[n];if(ca(i,a)){if(!i[2]&&!a[2]){for(r.lineStart(),o=0;o<n;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a[0]+=2e-6}s.push(e=new la(i,t,null,!0)),c.push(e.o=new la(i,null,e,!1)),s.push(e=new la(a,t,null,!1)),c.push(e.o=new la(a,null,e,!0))}}),s.length){for(c.sort(n),ua(s),ua(c),o=0,a=c.length;o<a;++o)c[o].e=e=!e;for(var l,f,u=s[0];;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;l=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=l.length;o<a;++o)r.point((f=l[o])[0],f[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(d)for(l=h.p.z,o=l.length-1;o>=0;--o)r.point((f=l[o])[0],f[1]);else i(h.x,h.p.x,-1,r);h=h.p}l=(h=h.o).z,d=!d}while(!h.v);r.lineEnd()}}}function ua(t){if(n=t.length){for(var n,e,i=0,r=t[0];++i<n;)r.n=e=t[i],e.p=r,r=e;r.n=e=t[0],e.p=r}}function ha(t){return Ao(t[0])<=xo?t[0]:Fo(t[0])*((Ao(t[0])+xo)%Mo-xo)}function da(t,n,e,i){return function(a){var s,c,l,f=n(a),u=sa(),h=n(u),d=!1,p={point:g,lineStart:b,lineEnd:m,polygonStart:function(){p.point=v,p.lineStart=_,p.lineEnd=x,c=[],s=[]},polygonEnd:function(){p.point=g,p.lineStart=b,p.lineEnd=m,c=o(c);var t=function(t,n){var e=ha(n),i=n[1],o=Do(i),a=[Do(e),-No(e),0],s=0,c=0,l=new r;1===o?i=wo+_o:-1===o&&(i=-wo-_o);for(var f=0,u=t.length;f<u;++f)if(d=(h=t[f]).length)for(var h,d,p=h[d-1],g=ha(p),y=p[1]/2+ko,b=Do(y),m=No(y),v=0;v<d;++v,g=x,b=k,m=M,p=_){var _=h[v],x=ha(_),w=_[1]/2+ko,k=Do(w),M=No(w),$=x-g,T=$>=0?1:-1,A=T*$,S=A>xo,E=b*k;if(l.add(Eo(E*T*Do(A),m*M+E*No(A))),s+=S?$+T*Mo:$,S^g>=e^x>=e){var N=Go(Xo(p),Xo(_));Qo(N);var L=Go(a,N);Qo(L);var C=(S^$>=0?-1:1)*jo(L[2]);(i>C||i===C&&(N[0]||N[1]))&&(c+=S^$>=0?1:-1)}}return(s<-1e-6||s<_o&&l<-1e-12)^1&c}(s,i);c.length?(d||(a.polygonStart(),d=!0),fa(c,ga,t,e,a)):t&&(d||(a.polygonStart(),d=!0),a.lineStart(),e(null,null,1,a),a.lineEnd()),d&&(a.polygonEnd(),d=!1),c=s=null},sphere:function(){a.polygonStart(),a.lineStart(),e(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function g(n,e){t(n,e)&&a.point(n,e)}function y(t,n){f.point(t,n)}function b(){p.point=y,f.lineStart()}function m(){p.point=g,f.lineEnd()}function v(t,n){l.push([t,n]),h.point(t,n)}function _(){h.lineStart(),l=[]}function x(){v(l[0][0],l[0][1]),h.lineEnd();var t,n,e,i,r=h.clean(),o=u.result(),f=o.length;if(l.pop(),s.push(l),l=null,f)if(1&r){if((n=(e=o[0]).length-1)>0){for(d||(a.polygonStart(),d=!0),a.lineStart(),t=0;t<n;++t)a.point((i=e[t])[0],i[1]);a.lineEnd()}}else f>1&&2&r&&o.push(o.pop().concat(o.shift())),c.push(o.filter(pa))}return p}}function pa(t){return t.length>1}function ga(t,n){return((t=t.x)[0]<0?t[1]-wo-_o:wo-t[1])-((n=n.x)[0]<0?n[1]-wo-_o:wo-n[1])}na.invert=na;const ya=da(function(){return!0},function(t){var n,e=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var s=o>0?xo:-xo,c=Ao(o-e);Ao(c-xo)<_o?(t.point(e,i=(i+a)/2>0?wo:-wo),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),n=0):r!==s&&c>=xo&&(Ao(e-r)<_o&&(e-=r*_o),Ao(o-s)<_o&&(o-=s*_o),i=function(t,n,e,i){var r,o,a=Do(t-e);return Ao(a)>_o?So((Do(n)*(o=No(i))*Do(e)-Do(i)*(r=No(n))*Do(t))/(r*o*a)):(n+i)/2}(e,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),n=0),t.point(e=o,i=a),r=s},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-n}}},function(t,n,e,i){var r;if(null==t)r=e*wo,i.point(-xo,r),i.point(0,r),i.point(xo,r),i.point(xo,0),i.point(xo,-r),i.point(0,-r),i.point(-xo,-r),i.point(-xo,0),i.point(-xo,r);else if(Ao(t[0]-n[0])>_o){var o=t[0]<n[0]?xo:-xo;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])},[-xo,-wo]);function ba(t){var n=No(t),e=2*To,i=n>0,r=Ao(n)>_o;function o(t,e){return No(t)*No(e)>n}function a(t,e,i){var r=[1,0,0],o=Go(Xo(t),Xo(e)),a=Zo(o,o),s=o[0],c=a-s*s;if(!c)return!i&&t;var l=n*a/c,f=-n*s/c,u=Go(r,o),h=Ko(r,l);Jo(h,Ko(o,f));var d=u,p=Zo(h,d),g=Zo(d,d),y=p*p-g*(Zo(h,h)-1);if(!(y<0)){var b=Po(y),m=Ko(d,(-p-b)/g);if(Jo(m,h),m=Vo(m),!i)return m;var v,_=t[0],x=e[0],w=t[1],k=e[1];x<_&&(v=_,_=x,x=v);var M=x-_,$=Ao(M-xo)<_o;if(!$&&k<w&&(v=w,w=k,k=v),$||M<_o?$?w+k>0^m[1]<(Ao(m[0]-_)<_o?w:k):w<=m[1]&&m[1]<=k:M>xo^(_<=m[0]&&m[0]<=x)){var T=Ko(d,(-p+b)/g);return Jo(T,h),[m,Vo(T)]}}}function s(n,e){var r=i?t:xo-t,o=0;return n<-r?o|=1:n>r&&(o|=2),e<-r?o|=4:e>r&&(o|=8),o}return da(o,function(t){var n,e,c,l,f;return{lineStart:function(){l=c=!1,f=1},point:function(u,h){var d,p=[u,h],g=o(u,h),y=i?g?0:s(u,h):g?s(u+(u<0?xo:-xo),h):0;if(!n&&(l=c=g)&&t.lineStart(),g!==c&&(!(d=a(n,p))||ca(n,d)||ca(p,d))&&(p[2]=1),g!==c)f=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(r&&n&&i^g){var b;y&e||!(b=a(p,n,!0))||(f=0,i?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!g||n&&ca(n,p)||t.point(p[0],p[1]),n=p,c=g,e=y},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return f|(l&&c)<<1}}},function(n,i,r,o){!function(t,n,e,i,r,o){if(e){var a=No(n),s=Do(n),c=i*e;null==r?(r=n+i*Mo,o=n-c/2):(r=aa(a,r),o=aa(a,o),(i>0?r<o:r>o)&&(r+=i*Mo));for(var l,f=r;i>0?f>o:f<o;f-=c)l=Vo([a,-s*No(f),-s*Do(f)]),t.point(l[0],l[1])}}(o,t,e,r,n,i)},i?[0,-t]:[-xo,t-xo])}var ma=1e9,va=-ma;function _a(t,n,e,i){function r(r,o){return t<=r&&r<=e&&n<=o&&o<=i}function a(r,o,a,c){var f=0,u=0;if(null==r||(f=s(r,a))!==(u=s(o,a))||l(r,o)<0^a>0)do{c.point(0===f||3===f?t:e,f>1?i:n)}while((f=(f+a+4)%4)!==u);else c.point(o[0],o[1])}function s(i,r){return Ao(i[0]-t)<_o?r>0?0:3:Ao(i[0]-e)<_o?r>0?2:1:Ao(i[1]-n)<_o?r>0?1:0:r>0?3:2}function c(t,n){return l(t.x,n.x)}function l(t,n){var e=s(t,1),i=s(n,1);return e!==i?e-i:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(s){var l,f,u,h,d,p,g,y,b,m,v,_=s,x=sa(),w={point:k,lineStart:function(){w.point=M,f&&f.push(u=[]);m=!0,b=!1,g=y=NaN},lineEnd:function(){l&&(M(h,d),p&&b&&x.rejoin(),l.push(x.result()));w.point=k,b&&_.lineEnd()},polygonStart:function(){_=x,l=[],f=[],v=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,r=f.length;e<r;++e)for(var o,a,s=f[e],c=1,l=s.length,u=s[0],h=u[0],d=u[1];c<l;++c)o=h,a=d,h=(u=s[c])[0],d=u[1],a<=i?d>i&&(h-o)*(i-a)>(d-a)*(t-o)&&++n:d<=i&&(h-o)*(i-a)<(d-a)*(t-o)&&--n;return n}(),e=v&&n,r=(l=o(l)).length;(e||r)&&(s.polygonStart(),e&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),r&&fa(l,c,n,a,s),s.polygonEnd());_=s,l=f=u=null}};function k(t,n){r(t,n)&&_.point(t,n)}function M(o,a){var s=r(o,a);if(f&&u.push([o,a]),m)h=o,d=a,p=s,m=!1,s&&(_.lineStart(),_.point(o,a));else if(s&&b)_.point(o,a);else{var c=[g=Math.max(va,Math.min(ma,g)),y=Math.max(va,Math.min(ma,y))],l=[o=Math.max(va,Math.min(ma,o)),a=Math.max(va,Math.min(ma,a))];!function(t,n,e,i,r,o){var a,s=t[0],c=t[1],l=0,f=1,u=n[0]-s,h=n[1]-c;if(a=e-s,u||!(a>0)){if(a/=u,u<0){if(a<l)return;a<f&&(f=a)}else if(u>0){if(a>f)return;a>l&&(l=a)}if(a=r-s,u||!(a<0)){if(a/=u,u<0){if(a>f)return;a>l&&(l=a)}else if(u>0){if(a<l)return;a<f&&(f=a)}if(a=i-c,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>l&&(l=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<f&&(f=a)}return l>0&&(t[0]=s+l*u,t[1]=c+l*h),f<1&&(n[0]=s+f*u,n[1]=c+f*h),!0}}}}}(c,l,t,n,e,i)?s&&(_.lineStart(),_.point(o,a),v=!1):(b||(_.lineStart(),_.point(c[0],c[1])),_.point(l[0],l[1]),s||_.lineEnd(),v=!1)}g=o,y=a,b=s}return w}}const xa=t=>t;var wa,ka,Ma,$a,Ta=new r,Aa=new r,Sa={point:Ro,lineStart:Ro,lineEnd:Ro,polygonStart:function(){Sa.lineStart=Ea,Sa.lineEnd=Ca},polygonEnd:function(){Sa.lineStart=Sa.lineEnd=Sa.point=Ro,Ta.add(Ao(Aa)),Aa=new r},result:function(){var t=Ta/2;return Ta=new r,t}};function Ea(){Sa.point=Na}function Na(t,n){Sa.point=La,wa=Ma=t,ka=$a=n}function La(t,n){Aa.add($a*t-Ma*n),Ma=t,$a=n}function Ca(){La(wa,ka)}var za=1/0,Da=za,Fa=-za,Pa=Fa,Oa={point:function(t,n){t<za&&(za=t);t>Fa&&(Fa=t);n<Da&&(Da=n);n>Pa&&(Pa=n)},lineStart:Ro,lineEnd:Ro,polygonStart:Ro,polygonEnd:Ro,result:function(){var t=[[za,Da],[Fa,Pa]];return Fa=Pa=-(Da=za=1/0),t}};var Ua,ja,Ra,Ia,Ba=0,qa=0,Ha=0,Wa=0,Ya=0,Va=0,Xa=0,Za=0,Ga=0,Ja={point:Ka,lineStart:Qa,lineEnd:es,polygonStart:function(){Ja.lineStart=is,Ja.lineEnd=rs},polygonEnd:function(){Ja.point=Ka,Ja.lineStart=Qa,Ja.lineEnd=es},result:function(){var t=Ga?[Xa/Ga,Za/Ga]:Va?[Wa/Va,Ya/Va]:Ha?[Ba/Ha,qa/Ha]:[NaN,NaN];return Ba=qa=Ha=Wa=Ya=Va=Xa=Za=Ga=0,t}};function Ka(t,n){Ba+=t,qa+=n,++Ha}function Qa(){Ja.point=ts}function ts(t,n){Ja.point=ns,Ka(Ra=t,Ia=n)}function ns(t,n){var e=t-Ra,i=n-Ia,r=Po(e*e+i*i);Wa+=r*(Ra+t)/2,Ya+=r*(Ia+n)/2,Va+=r,Ka(Ra=t,Ia=n)}function es(){Ja.point=Ka}function is(){Ja.point=os}function rs(){as(Ua,ja)}function os(t,n){Ja.point=as,Ka(Ua=Ra=t,ja=Ia=n)}function as(t,n){var e=t-Ra,i=n-Ia,r=Po(e*e+i*i);Wa+=r*(Ra+t)/2,Ya+=r*(Ia+n)/2,Va+=r,Xa+=(r=Ia*t-Ra*n)*(Ra+t),Za+=r*(Ia+n),Ga+=3*r,Ka(Ra=t,Ia=n)}function ss(t){this._context=t}ss.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Mo)}},result:Ro};var cs,ls,fs,us,hs,ds=new r,ps={point:Ro,lineStart:function(){ps.point=gs},lineEnd:function(){cs&&ys(ls,fs),ps.point=Ro},polygonStart:function(){cs=!0},polygonEnd:function(){cs=null},result:function(){var t=+ds;return ds=new r,t}};function gs(t,n){ps.point=ys,ls=us=t,fs=hs=n}function ys(t,n){us-=t,hs-=n,ds.add(Po(us*us+hs*hs)),us=t,hs=n}let bs,ms,vs,_s;class xs{constructor(t){this._append=null==t?ws:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return ws;if(n!==bs){const t=10**n;bs=n,ms=function(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return ms}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==vs||this._append!==ms){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,vs=t,ms=this._append,_s=this._,this._=n}this._+=_s}}result(){const t=this._;return this._="",t.length?t:null}}function ws(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function ks(t,n){let e,i,r=3,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),Yo(t,e(i))),i.result()}return a.area=function(t){return Yo(t,e(Sa)),Sa.result()},a.measure=function(t){return Yo(t,e(ps)),ps.result()},a.bounds=function(t){return Yo(t,e(Oa)),Oa.result()},a.centroid=function(t){return Yo(t,e(Ja)),Ja.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,xa):(t=n).stream,a):t},a.context=function(t){return arguments.length?(i=null==t?(n=null,new xs(r)):new ss(n=t),"function"!=typeof o&&i.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return r;if(null==t)r=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);r=n}return null===n&&(i=new xs(r)),a},a.projection(t).digits(r).context(n)}function Ms(t){return{stream:$s(t)}}function $s(t){return function(n){var e=new Ts;for(var i in t)e[i]=t[i];return e.stream=n,e}}function Ts(){}function As(t,n,e){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Yo(e,t.stream(Oa)),n(Oa.result()),null!=i&&t.clipExtent(i),t}function Ss(t,n,e){return As(t,function(e){var i=n[1][0]-n[0][0],r=n[1][1]-n[0][1],o=Math.min(i/(e[1][0]-e[0][0]),r/(e[1][1]-e[0][1])),a=+n[0][0]+(i-o*(e[1][0]+e[0][0]))/2,s=+n[0][1]+(r-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,s])},e)}function Es(t,n,e){return Ss(t,[[0,0],n],e)}function Ns(t,n,e){return As(t,function(e){var i=+n,r=i/(e[1][0]-e[0][0]),o=(i-r*(e[1][0]+e[0][0]))/2,a=-r*e[0][1];t.scale(150*r).translate([o,a])},e)}function Ls(t,n,e){return As(t,function(e){var i=+n,r=i/(e[1][1]-e[0][1]),o=-r*e[0][0],a=(i-r*(e[1][1]+e[0][1]))/2;t.scale(150*r).translate([o,a])},e)}Ts.prototype={constructor:Ts,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Cs=No(30*To);function zs(t,n){return+n?function(t,n){function e(i,r,o,a,s,c,l,f,u,h,d,p,g,y){var b=l-i,m=f-r,v=b*b+m*m;if(v>4*n&&g--){var _=a+h,x=s+d,w=c+p,k=Po(_*_+x*x+w*w),M=jo(w/=k),$=Ao(Ao(w)-1)<_o||Ao(o-u)<_o?(o+u)/2:Eo(x,_),T=t($,M),A=T[0],S=T[1],E=A-i,N=S-r,L=m*E-b*N;(L*L/v>n||Ao((b*E+m*N)/v-.5)>.3||a*h+s*d+c*p<Cs)&&(e(i,r,o,a,s,c,A,S,$,_/=k,x/=k,w,g,y),y.point(A,S),e(A,S,$,_,x,w,l,f,u,h,d,p,g,y))}}return function(n){var i,r,o,a,s,c,l,f,u,h,d,p,g={point:y,lineStart:b,lineEnd:v,polygonStart:function(){n.polygonStart(),g.lineStart=_},polygonEnd:function(){n.polygonEnd(),g.lineStart=b}};function y(e,i){e=t(e,i),n.point(e[0],e[1])}function b(){f=NaN,g.point=m,n.lineStart()}function m(i,r){var o=Xo([i,r]),a=t(i,r);e(f,u,l,h,d,p,f=a[0],u=a[1],l=i,h=o[0],d=o[1],p=o[2],16,n),n.point(f,u)}function v(){g.point=y,n.lineEnd()}function _(){b(),g.point=x,g.lineEnd=w}function x(t,n){m(i=t,n),r=f,o=u,a=h,s=d,c=p,g.point=m}function w(){e(f,u,l,h,d,p,r,o,i,a,s,c,16,n),g.lineEnd=v,v()}return g}}(t,n):function(t){return $s({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Ds=$s({point:function(t,n){this.stream.point(t*To,n*To)}});function Fs(t,n,e,i,r,o){if(!o)return function(t,n,e,i,r){function o(o,a){return[n+t*(o*=i),e-t*(a*=r)]}return o.invert=function(o,a){return[(o-n)/t*i,(e-a)/t*r]},o}(t,n,e,i,r);var a=No(o),s=Do(o),c=a*t,l=s*t,f=a/t,u=s/t,h=(s*e-a*n)/t,d=(s*n+a*e)/t;function p(t,o){return[c*(t*=i)-l*(o*=r)+n,e-l*t-c*o]}return p.invert=function(t,n){return[i*(f*t-u*n+h),r*(d-u*t-f*n)]},p}function Ps(t){return Os(function(){return t})()}function Os(t){var n,e,i,r,o,a,s,c,l,f,u=150,h=480,d=250,p=0,g=0,y=0,b=0,m=0,v=0,_=1,x=1,w=null,k=ya,M=null,$=xa,T=.5;function A(t){return c(t[0]*To,t[1]*To)}function S(t){return(t=c.invert(t[0],t[1]))&&[t[0]*$o,t[1]*$o]}function E(){var t=Fs(u,0,0,_,x,v).apply(null,n(p,g)),i=Fs(u,h-t[0],d-t[1],_,x,v);return e=ea(y,b,m),s=ta(n,i),c=ta(e,s),a=zs(s,T),N()}function N(){return l=f=null,A}return A.stream=function(t){return l&&f===t?l:l=Ds(function(t){return $s({point:function(n,e){var i=t(n,e);return this.stream.point(i[0],i[1])}})}(e)(k(a($(f=t)))))},A.preclip=function(t){return arguments.length?(k=t,w=void 0,N()):k},A.postclip=function(t){return arguments.length?($=t,M=i=r=o=null,N()):$},A.clipAngle=function(t){return arguments.length?(k=+t?ba(w=t*To):(w=null,ya),N()):w*$o},A.clipExtent=function(t){return arguments.length?($=null==t?(M=i=r=o=null,xa):_a(M=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),N()):null==M?null:[[M,i],[r,o]]},A.scale=function(t){return arguments.length?(u=+t,E()):u},A.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],E()):[h,d]},A.center=function(t){return arguments.length?(p=t[0]%360*To,g=t[1]%360*To,E()):[p*$o,g*$o]},A.rotate=function(t){return arguments.length?(y=t[0]%360*To,b=t[1]%360*To,m=t.length>2?t[2]%360*To:0,E()):[y*$o,b*$o,m*$o]},A.angle=function(t){return arguments.length?(v=t%360*To,E()):v*$o},A.reflectX=function(t){return arguments.length?(_=t?-1:1,E()):_<0},A.reflectY=function(t){return arguments.length?(x=t?-1:1,E()):x<0},A.precision=function(t){return arguments.length?(a=zs(s,T=t*t),N()):Po(T)},A.fitExtent=function(t,n){return Ss(A,t,n)},A.fitSize=function(t,n){return Es(A,t,n)},A.fitWidth=function(t,n){return Ns(A,t,n)},A.fitHeight=function(t,n){return Ls(A,t,n)},function(){return n=t.apply(this,arguments),A.invert=n.invert&&S,E()}}function Us(t){var n=0,e=xo/3,i=Os(t),r=i(n,e);return r.parallels=function(t){return arguments.length?i(n=t[0]*To,e=t[1]*To):[n*$o,e*$o]},r}function js(t,n){var e=Do(t),i=(e+Do(n))/2;if(Ao(i)<_o)return function(t){var n=No(t);function e(t,e){return[t*n,Do(e)/n]}return e.invert=function(t,e){return[t/n,jo(e*n)]},e}(t);var r=1+e*(2*i-e),o=Po(r)/i;function a(t,n){var e=Po(r-2*i*Do(n))/i;return[e*Do(t*=i),o-e*No(t)]}return a.invert=function(t,n){var e=o-n,a=Eo(t,Ao(e))*Fo(e);return e*i<0&&(a-=xo*Fo(t)*Fo(e)),[a/i,jo((r-(t*t+e*e)*i*i)/(2*i))]},a}function Rs(){return Us(js).scale(155.424).center([0,33.6442])}function Is(){return Rs().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Bs(){var t,n,e,i,r,o,a=Is(),s=Rs().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Rs().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){o=[t,n]}};function f(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(i.point(n,a),o)||(r.point(n,a),o)}function u(){return t=n=null,f}return f.invert=function(t){var n=a.scale(),e=a.translate(),i=(t[0]-e[0])/n,r=(t[1]-e[1])/n;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?s:r>=.166&&r<.234&&i>=-.214&&i<-.115?c:a).invert(t)},f.stream=function(e){return t&&n===e?t:(i=[a.stream(n=e),s.stream(e),c.stream(e)],r=i.length,t={point:function(t,n){for(var e=-1;++e<r;)i[e].point(t,n)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},f.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),c.precision(t),u()):a.precision()},f.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),c.scale(t),f.translate(a.translate())):a.scale()},f.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],f=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,f-.238*n],[o+.455*n,f+.238*n]]).stream(l),i=s.translate([o-.307*n,f+.201*n]).clipExtent([[o-.425*n+_o,f+.12*n+_o],[o-.214*n-_o,f+.234*n-_o]]).stream(l),r=c.translate([o-.205*n,f+.212*n]).clipExtent([[o-.214*n+_o,f+.166*n+_o],[o-.115*n-_o,f+.234*n-_o]]).stream(l),u()},f.fitExtent=function(t,n){return Ss(f,t,n)},f.fitSize=function(t,n){return Es(f,t,n)},f.fitWidth=function(t,n){return Ns(f,t,n)},f.fitHeight=function(t,n){return Ls(f,t,n)},f.scale(1070)}function qs(t){return function(n,e){var i=No(n),r=No(e),o=t(i*r);return o===1/0?[2,0]:[o*r*Do(n),o*Do(e)]}}function Hs(t){return function(n,e){var i=Po(n*n+e*e),r=t(i),o=Do(r),a=No(r);return[Eo(n*o,i*a),jo(i&&e*o/i)]}}var Ws=qs(function(t){return Po(2/(1+t))});function Ys(){return Ps(Ws).scale(124.75).clipAngle(179.999)}Ws.invert=Hs(function(t){return 2*jo(t/2)});var Vs=qs(function(t){return(t=Uo(t))&&t/Do(t)});function Xs(){return Ps(Vs).scale(79.4188).clipAngle(179.999)}function Zs(t,n){return[t,Co(Oo((wo+n)/2))]}function Gs(){return Js(Zs).scale(961/Mo)}function Js(t){var n,e,i,r=Ps(t),o=r.center,a=r.scale,s=r.translate,c=r.clipExtent,l=null;function f(){var o=xo*a(),s=r(function(t){function n(n){return(n=t(n[0]*To,n[1]*To))[0]*=$o,n[1]*=$o,n}return t=ea(t[0]*To,t[1]*To,t.length>2?t[2]*To:0),n.invert=function(n){return(n=t.invert(n[0]*To,n[1]*To))[0]*=$o,n[1]*=$o,n},n}(r.rotate()).invert([0,0]));return c(null==l?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Zs?[[Math.max(s[0]-o,l),n],[Math.min(s[0]+o,e),i]]:[[l,Math.max(s[1]-o,n)],[e,Math.min(s[1]+o,i)]])}return r.scale=function(t){return arguments.length?(a(t),f()):a()},r.translate=function(t){return arguments.length?(s(t),f()):s()},r.center=function(t){return arguments.length?(o(t),f()):o()},r.clipExtent=function(t){return arguments.length?(null==t?l=n=e=i=null:(l=+t[0][0],n=+t[0][1],e=+t[1][0],i=+t[1][1]),f()):null==l?null:[[l,n],[e,i]]},f()}function Ks(t){return Oo((wo+t)/2)}function Qs(t,n){var e=No(t),i=t===n?Do(t):Co(e/No(n))/Co(Ks(n)/Ks(t)),r=e*zo(Ks(t),i)/i;if(!i)return Zs;function o(t,n){r>0?n<-wo+_o&&(n=-wo+_o):n>wo-_o&&(n=wo-_o);var e=r/zo(Ks(n),i);return[e*Do(i*t),r-e*No(i*t)]}return o.invert=function(t,n){var e=r-n,o=Fo(i)*Po(t*t+e*e),a=Eo(t,Ao(e))*Fo(e);return e*i<0&&(a-=xo*Fo(t)*Fo(e)),[a/i,2*So(zo(r/o,1/i))-wo]},o}function tc(){return Us(Qs).scale(109.5).parallels([30,30])}function nc(t,n){return[t,n]}function ec(){return Ps(nc).scale(152.63)}function ic(t,n){var e=No(t),i=t===n?Do(t):(e-No(n))/(n-t),r=e/i+t;if(Ao(i)<_o)return nc;function o(t,n){var e=r-n,o=i*t;return[e*Do(o),r-e*No(o)]}return o.invert=function(t,n){var e=r-n,o=Eo(t,Ao(e))*Fo(e);return e*i<0&&(o-=xo*Fo(t)*Fo(e)),[o/i,r-Fo(i)*Po(t*t+e*e)]},o}function rc(){return Us(ic).scale(131.154).center([0,13.9389])}Vs.invert=Hs(function(t){return t}),Zs.invert=function(t,n){return[t,2*So(Lo(n))-wo]},nc.invert=nc;var oc=1.340264,ac=-.081106,sc=893e-6,cc=.003796,lc=Po(3)/2;function fc(t,n){var e=jo(lc*Do(n)),i=e*e,r=i*i*i;return[t*No(e)/(lc*(oc+3*ac*i+r*(7*sc+9*cc*i))),e*(oc+ac*i+r*(sc+cc*i))]}function uc(){return Ps(fc).scale(177.158)}function hc(t,n){var e=No(n),i=No(t)*e;return[e*Do(t)/i,Do(n)/i]}function dc(){return Ps(hc).scale(144.049).clipAngle(60)}function pc(t,n){return[No(n)*Do(t),Do(n)]}function gc(){return Ps(pc).scale(249.5).clipAngle(90.000001)}function yc(t,n){var e=No(n),i=1+No(t)*e;return[e*Do(t)/i,Do(n)/i]}function bc(){return Ps(yc).scale(250).clipAngle(142)}function mc(t,n){return[Co(Oo((wo+n)/2)),-t]}function vc(){var t=Js(mc),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}fc.invert=function(t,n){for(var e,i=n,r=i*i,o=r*r*r,a=0;a<12&&(o=(r=(i-=e=(i*(oc+ac*r+o*(sc+cc*r))-n)/(oc+3*ac*r+o*(7*sc+9*cc*r)))*i)*r*r,!(Ao(e)<1e-12));++a);return[lc*t*(oc+3*ac*r+o*(7*sc+9*cc*r))/No(i),jo(Do(i)/lc)]},hc.invert=Hs(So),pc.invert=Hs(jo),yc.invert=Hs(function(t){return 2*So(t)}),mc.invert=function(t,n){return[-n,2*So(Lo(t))-wo]};const _c=1/4294967296;function xc(t=Math.random()){let n=0|(0<=t&&t<1?t/_c:Math.abs(t));return()=>(n=1664525*n+1013904223|0,_c*(n>>>0))}const wc=new Date,kc=new Date;function Mc(t,n,e,i){function r(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return r.floor=n=>(t(n=new Date(+n)),n),r.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),r.round=t=>{const n=r(t),e=r.ceil(t);return t-n<e-t?n:e},r.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),r.range=(e,i,o)=>{const a=[];if(e=r.ceil(e),o=null==o?1:Math.floor(o),!(e<i&&o>0))return a;let s;do{a.push(s=new Date(+e)),n(e,o),t(e)}while(s<e&&e<i);return a},r.filter=e=>Mc(n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},(t,i)=>{if(t>=t)if(i<0)for(;++i<=0;)for(;n(t,-1),!e(t););else for(;--i>=0;)for(;n(t,1),!e(t););}),e&&(r.count=(n,i)=>(wc.setTime(+n),kc.setTime(+i),t(wc),t(kc),Math.floor(e(wc,kc))),r.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?n=>i(n)%t===0:n=>r.count(0,n)%t===0):r:null)),r}const $c=Mc(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);$c.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Mc(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):$c:null),$c.range;const Tc=1e3,Ac=6e4,Sc=36e5,Ec=864e5,Nc=6048e5,Lc=2592e6,Cc=31536e6,zc=Mc(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*Tc)},(t,n)=>(n-t)/Tc,t=>t.getUTCSeconds());zc.range;const Dc=Mc(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tc)},(t,n)=>{t.setTime(+t+n*Ac)},(t,n)=>(n-t)/Ac,t=>t.getMinutes());Dc.range;const Fc=Mc(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Ac)},(t,n)=>(n-t)/Ac,t=>t.getUTCMinutes());Fc.range;const Pc=Mc(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tc-t.getMinutes()*Ac)},(t,n)=>{t.setTime(+t+n*Sc)},(t,n)=>(n-t)/Sc,t=>t.getHours());Pc.range;const Oc=Mc(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*Sc)},(t,n)=>(n-t)/Sc,t=>t.getUTCHours());Oc.range;const Uc=Mc(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ac)/Ec,t=>t.getDate()-1);Uc.range;const jc=Mc(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Ec,t=>t.getUTCDate()-1);jc.range;const Rc=Mc(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Ec,t=>Math.floor(t/Ec));function Ic(t){return Mc(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+7*n)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ac)/Nc)}Rc.range;const Bc=Ic(0),qc=Ic(1),Hc=Ic(2),Wc=Ic(3),Yc=Ic(4),Vc=Ic(5),Xc=Ic(6);function Zc(t){return Mc(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)},(t,n)=>(n-t)/Nc)}Bc.range,qc.range,Hc.range,Wc.range,Yc.range,Vc.range,Xc.range;const Gc=Zc(0),Jc=Zc(1),Kc=Zc(2),Qc=Zc(3),tl=Zc(4),nl=Zc(5),el=Zc(6);Gc.range,Jc.range,Kc.range,Qc.range,tl.range,nl.range,el.range;const il=Mc(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear()),t=>t.getMonth());il.range;const rl=Mc(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth());rl.range;const ol=Mc(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());ol.every=t=>isFinite(t=Math.floor(t))&&t>0?Mc(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)}):null,ol.range;const al=Mc(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function sl(t,n,e,i,r,o){const c=[[zc,1,Tc],[zc,5,5e3],[zc,15,15e3],[zc,30,3e4],[o,1,Ac],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,Sc],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,Ec],[i,2,1728e5],[e,1,Nc],[n,1,Lc],[n,3,7776e6],[t,1,Cc]];function l(n,e,i){const r=Math.abs(e-n)/i,o=a(([,,t])=>t).right(c,r);if(o===c.length)return t.every(s(n/Cc,e/Cc,i));if(0===o)return $c.every(Math.max(s(n,e,i),1));const[l,f]=c[r/c[o-1][2]<c[o][2]/r?o-1:o];return l.every(f)}return[function(t,n,e){const i=n<t;i&&([t,n]=[n,t]);const r=e&&"function"==typeof e.range?e:l(t,n,e),o=r?r.range(t,+n+1):[];return i?o.reverse():o},l]}al.every=t=>isFinite(t=Math.floor(t))&&t>0?Mc(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null,al.range;const[cl,ll]=sl(al,rl,Gc,Rc,Oc,Fc),[fl,ul]=sl(ol,il,Bc,Uc,Pc,Dc);function hl(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dl(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function pl(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var gl,yl,bl,ml={"-":"",_:" ",0:"0"},vl=/^\s*\d+/,_l=/^%/,xl=/[\\^$*+?|[\]().{}]/g;function wl(t,n,e){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<e?new Array(e-o+1).join(n)+r:r)}function kl(t){return t.replace(xl,"\\$&")}function Ml(t){return new RegExp("^(?:"+t.map(kl).join("|")+")","i")}function $l(t){return new Map(t.map((t,n)=>[t.toLowerCase(),n]))}function Tl(t,n,e){var i=vl.exec(n.slice(e,e+1));return i?(t.w=+i[0],e+i[0].length):-1}function Al(t,n,e){var i=vl.exec(n.slice(e,e+1));return i?(t.u=+i[0],e+i[0].length):-1}function Sl(t,n,e){var i=vl.exec(n.slice(e,e+2));return i?(t.U=+i[0],e+i[0].length):-1}function El(t,n,e){var i=vl.exec(n.slice(e,e+2));return i?(t.V=+i[0],e+i[0].length):-1}function Nl(t,n,e){var i=vl.exec(n.slice(e,e+2));return i?(t.W=+i[0],e+i[0].length):-1}function Ll(t,n,e){var i=vl.exec(n.slice(e,e+4));return i?(t.y=+i[0],e+i[0].length):-1}function Cl(t,n,e){var i=vl.exec(n.slice(e,e+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function zl(t,n,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function Dl(t,n,e){var i=vl.exec(n.slice(e,e+1));return i?(t.q=3*i[0]-3,e+i[0].length):-1}function Fl(t,n,e){var i=vl.exec(n.slice(e,e+2));return i?(t.m=i[0]-1,e+i[0].length):-1}function Pl(t,n,e){var i=vl.exec(n.slice(e,e+2));return i?(t.d=+i[0],e+i[0].length):-1}function Ol(t,n,e){var i=vl.exec(n.slice(e,e+3));return i?(t.m=0,t.d=+i[0],e+i[0].length):-1}function Ul(t,n,e){var i=vl.exec(n.slice(e,e+2));return i?(t.H=+i[0],e+i[0].length):-1}function jl(t,n,e){var i=vl.exec(n.slice(e,e+2));return i?(t.M=+i[0],e+i[0].length):-1}function Rl(t,n,e){var i=vl.exec(n.slice(e,e+2));return i?(t.S=+i[0],e+i[0].length):-1}function Il(t,n,e){var i=vl.exec(n.slice(e,e+3));return i?(t.L=+i[0],e+i[0].length):-1}function Bl(t,n,e){var i=vl.exec(n.slice(e,e+6));return i?(t.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function ql(t,n,e){var i=_l.exec(n.slice(e,e+1));return i?e+i[0].length:-1}function Hl(t,n,e){var i=vl.exec(n.slice(e));return i?(t.Q=+i[0],e+i[0].length):-1}function Wl(t,n,e){var i=vl.exec(n.slice(e));return i?(t.s=+i[0],e+i[0].length):-1}function Yl(t,n){return wl(t.getDate(),n,2)}function Vl(t,n){return wl(t.getHours(),n,2)}function Xl(t,n){return wl(t.getHours()%12||12,n,2)}function Zl(t,n){return wl(1+Uc.count(ol(t),t),n,3)}function Gl(t,n){return wl(t.getMilliseconds(),n,3)}function Jl(t,n){return Gl(t,n)+"000"}function Kl(t,n){return wl(t.getMonth()+1,n,2)}function Ql(t,n){return wl(t.getMinutes(),n,2)}function tf(t,n){return wl(t.getSeconds(),n,2)}function nf(t){var n=t.getDay();return 0===n?7:n}function ef(t,n){return wl(Bc.count(ol(t)-1,t),n,2)}function rf(t){var n=t.getDay();return n>=4||0===n?Yc(t):Yc.ceil(t)}function of(t,n){return t=rf(t),wl(Yc.count(ol(t),t)+(4===ol(t).getDay()),n,2)}function af(t){return t.getDay()}function sf(t,n){return wl(qc.count(ol(t)-1,t),n,2)}function cf(t,n){return wl(t.getFullYear()%100,n,2)}function lf(t,n){return wl((t=rf(t)).getFullYear()%100,n,2)}function ff(t,n){return wl(t.getFullYear()%1e4,n,4)}function uf(t,n){var e=t.getDay();return wl((t=e>=4||0===e?Yc(t):Yc.ceil(t)).getFullYear()%1e4,n,4)}function hf(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+wl(n/60|0,"0",2)+wl(n%60,"0",2)}function df(t,n){return wl(t.getUTCDate(),n,2)}function pf(t,n){return wl(t.getUTCHours(),n,2)}function gf(t,n){return wl(t.getUTCHours()%12||12,n,2)}function yf(t,n){return wl(1+jc.count(al(t),t),n,3)}function bf(t,n){return wl(t.getUTCMilliseconds(),n,3)}function mf(t,n){return bf(t,n)+"000"}function vf(t,n){return wl(t.getUTCMonth()+1,n,2)}function _f(t,n){return wl(t.getUTCMinutes(),n,2)}function xf(t,n){return wl(t.getUTCSeconds(),n,2)}function wf(t){var n=t.getUTCDay();return 0===n?7:n}function kf(t,n){return wl(Gc.count(al(t)-1,t),n,2)}function Mf(t){var n=t.getUTCDay();return n>=4||0===n?tl(t):tl.ceil(t)}function $f(t,n){return t=Mf(t),wl(tl.count(al(t),t)+(4===al(t).getUTCDay()),n,2)}function Tf(t){return t.getUTCDay()}function Af(t,n){return wl(Jc.count(al(t)-1,t),n,2)}function Sf(t,n){return wl(t.getUTCFullYear()%100,n,2)}function Ef(t,n){return wl((t=Mf(t)).getUTCFullYear()%100,n,2)}function Nf(t,n){return wl(t.getUTCFullYear()%1e4,n,4)}function Lf(t,n){var e=t.getUTCDay();return wl((t=e>=4||0===e?tl(t):tl.ceil(t)).getUTCFullYear()%1e4,n,4)}function Cf(){return"+0000"}function zf(){return"%"}function Df(t){return+t}function Ff(t){return Math.floor(+t/1e3)}function Pf(t){for(var n=t.length/6|0,e=new Array(n),i=0;i<n;)e[i]="#"+t.slice(6*i,6*++i);return e}!function(t){gl=function(t){var n=t.dateTime,e=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,c=t.shortMonths,l=Ml(r),f=$l(r),u=Ml(o),h=$l(o),d=Ml(a),p=$l(a),g=Ml(s),y=$l(s),b=Ml(c),m=$l(c),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Yl,e:Yl,f:Jl,g:lf,G:uf,H:Vl,I:Xl,j:Zl,L:Gl,m:Kl,M:Ql,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Df,s:Ff,S:tf,u:nf,U:ef,V:of,w:af,W:sf,x:null,X:null,y:cf,Y:ff,Z:hf,"%":zf},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:df,e:df,f:mf,g:Ef,G:Lf,H:pf,I:gf,j:yf,L:bf,m:vf,M:_f,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Df,s:Ff,S:xf,u:wf,U:kf,V:$f,w:Tf,W:Af,x:null,X:null,y:Sf,Y:Nf,Z:Cf,"%":zf},x={a:function(t,n,e){var i=d.exec(n.slice(e));return i?(t.w=p.get(i[0].toLowerCase()),e+i[0].length):-1},A:function(t,n,e){var i=u.exec(n.slice(e));return i?(t.w=h.get(i[0].toLowerCase()),e+i[0].length):-1},b:function(t,n,e){var i=b.exec(n.slice(e));return i?(t.m=m.get(i[0].toLowerCase()),e+i[0].length):-1},B:function(t,n,e){var i=g.exec(n.slice(e));return i?(t.m=y.get(i[0].toLowerCase()),e+i[0].length):-1},c:function(t,e,i){return M(t,n,e,i)},d:Pl,e:Pl,f:Bl,g:Cl,G:Ll,H:Ul,I:Ul,j:Ol,L:Il,m:Fl,M:jl,p:function(t,n,e){var i=l.exec(n.slice(e));return i?(t.p=f.get(i[0].toLowerCase()),e+i[0].length):-1},q:Dl,Q:Hl,s:Wl,S:Rl,u:Al,U:Sl,V:El,w:Tl,W:Nl,x:function(t,n,i){return M(t,e,n,i)},X:function(t,n,e){return M(t,i,n,e)},y:Cl,Y:Ll,Z:zl,"%":ql};function w(t,n){return function(e){var i,r,o,a=[],s=-1,c=0,l=t.length;for(e instanceof Date||(e=new Date(+e));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(c,s)),null!=(r=ml[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=n[i])&&(i=o(e,r)),a.push(i),c=s+1);return a.push(t.slice(c,s)),a.join("")}}function k(t,n){return function(e){var i,r,o=pl(1900,void 0,1);if(M(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=dl(pl(o.y,0,1))).getUTCDay(),i=r>4||0===r?Jc.ceil(i):Jc(i),i=jc.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=hl(pl(o.y,0,1))).getDay(),i=r>4||0===r?qc.ceil(i):qc(i),i=Uc.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?dl(pl(o.y,0,1)).getUTCDay():hl(pl(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,dl(o)):hl(o)}}function M(t,n,e,i){for(var r,o,a=0,s=n.length,c=e.length;a<s;){if(i>=c)return-1;if(37===(r=n.charCodeAt(a++))){if(r=n.charAt(a++),!(o=x[r in ml?n.charAt(a++):r])||(i=o(t,e,i))<0)return-1}else if(r!=e.charCodeAt(i++))return-1}return i}return v.x=w(e,v),v.X=w(i,v),v.c=w(n,v),_.x=w(e,_),_.X=w(i,_),_.c=w(n,_),{format:function(t){var n=w(t+="",v);return n.toString=function(){return t},n},parse:function(t){var n=k(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=k(t+="",!0);return n.toString=function(){return t},n}}}(t),yl=gl.format,gl.parse,bl=gl.utcFormat,gl.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Of=Pf("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Uf=Pf("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),jf=Pf("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Rf=Pf("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),If=Pf("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Bf=Pf("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),qf=Pf("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Hf=Pf("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Wf=Pf("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Yf=Pf("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Vf=Pf("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Xf=t=>Ie(t[t.length-1]);var Zf=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Pf);const Gf=Xf(Zf);var Jf=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Pf);const Kf=Xf(Jf);var Qf=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Pf);const tu=Xf(Qf);var nu=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Pf);const eu=Xf(nu);var iu=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Pf);const ru=Xf(iu);var ou=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Pf);const au=Xf(ou);var su=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Pf);const cu=Xf(su);var lu=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Pf);const fu=Xf(lu);var uu=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Pf);const hu=Xf(uu);var du=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Pf);const pu=Xf(du);var gu=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Pf);const yu=Xf(gu);var bu=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Pf);const mu=Xf(bu);var vu=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Pf);const _u=Xf(vu);var xu=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Pf);const wu=Xf(xu);var ku=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Pf);const Mu=Xf(ku);var $u=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Pf);const Tu=Xf($u);var Au=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Pf);const Su=Xf(Au);var Eu=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Pf);const Nu=Xf(Eu);var Lu=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Pf);const Cu=Xf(Lu);var zu=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Pf);const Du=Xf(zu);var Fu=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Pf);const Pu=Xf(Fu);var Ou=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Pf);const Uu=Xf(Ou);var ju=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Pf);const Ru=Xf(ju);var Iu=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Pf);const Bu=Xf(Iu);var qu=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Pf);const Hu=Xf(qu);var Wu=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Pf);const Yu=Xf(Wu);var Vu=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Pf);const Xu=Xf(Vu);function Zu(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const Gu=li(Ce(300,.5,0),Ce(-240,.5,1));var Ju=li(Ce(-100,.75,.35),Ce(80,1.5,.8)),Ku=li(Ce(260,.75,.35),Ce(80,1.5,.8)),Qu=Ce();function th(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Qu.h=360*t-100,Qu.s=1.5-1.5*n,Qu.l=.8-.9*n,Qu+""}var nh=Yn(),eh=Math.PI/3,ih=2*Math.PI/3;function rh(t){var n;return t=(.5-t)*Math.PI,nh.r=255*(n=Math.sin(t))*n,nh.g=255*(n=Math.sin(t+eh))*n,nh.b=255*(n=Math.sin(t+ih))*n,nh+""}function oh(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function ah(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const sh=ah(Pf("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var ch=ah(Pf("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),lh=ah(Pf("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),fh=ah(Pf("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function uh(t){return function(){return t}}const hh=Math.cos,dh=Math.min,ph=Math.sin,gh=Math.sqrt,yh=Math.PI,bh=2*yh;function mh(t){this._context=t}function vh(t){return new mh(t)}function _h(t){return t[0]}function xh(t){return t[1]}function wh(t,n){var e=uh(!0),i=null,r=vh,o=null,a=function(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new ur(n)}(s);function s(s){var c,l,f,u,h=(u=s,s="object"==typeof u&&"length"in u?u:Array.from(u)).length,d=!1;for(null==i&&(o=r(f=a())),c=0;c<=h;++c)!(c<h&&e(l=s[c],c,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(l,c,s),+n(l,c,s));if(f)return o=null,f+""||null}return t="function"==typeof t?t:void 0===t?_h:uh(t),n="function"==typeof n?n:void 0===n?xh:uh(n),s.x=function(n){return arguments.length?(t="function"==typeof n?n:uh(+n),s):t},s.y=function(t){return arguments.length?(n="function"==typeof t?t:uh(+t),s):n},s.defined=function(t){return arguments.length?(e="function"==typeof t?t:uh(!!t),s):e},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s}mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};class kh{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}const Mh=gh(3),$h={draw(t,n){const e=.59436*gh(n+dh(n/28,.75)),i=e/2,r=i*Mh;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-r,-i),t.lineTo(r,i),t.moveTo(-r,i),t.lineTo(r,-i)}},Th={draw(t,n){const e=gh(n/yh);t.moveTo(e,0),t.arc(0,0,e,0,bh)}},Ah={draw(t,n){const e=gh(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},Sh=gh(1/3),Eh=2*Sh,Nh={draw(t,n){const e=gh(n/Eh),i=e*Sh;t.moveTo(0,-e),t.lineTo(i,0),t.lineTo(0,e),t.lineTo(-i,0),t.closePath()}},Lh={draw(t,n){const e=.62625*gh(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},Ch={draw(t,n){const e=.87559*gh(n-dh(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},zh={draw(t,n){const e=gh(n),i=-e/2;t.rect(i,i,e,e)}},Dh={draw(t,n){const e=.4431*gh(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},Fh=ph(yh/10)/ph(7*yh/10),Ph=ph(bh/10)*Fh,Oh=-hh(bh/10)*Fh,Uh={draw(t,n){const e=gh(.8908130915292852*n),i=Ph*e,r=Oh*e;t.moveTo(0,-e),t.lineTo(i,r);for(let o=1;o<5;++o){const n=bh*o/5,a=hh(n),s=ph(n);t.lineTo(s*e,-a*e),t.lineTo(a*i-s*r,s*i+a*r)}t.closePath()}},jh=gh(3),Rh={draw(t,n){const e=-gh(n/(3*jh));t.moveTo(0,2*e),t.lineTo(-jh*e,-e),t.lineTo(jh*e,-e),t.closePath()}},Ih=gh(3),Bh={draw(t,n){const e=.6824*gh(n),i=e/2,r=e*Ih/2;t.moveTo(0,-e),t.lineTo(r,i),t.lineTo(-r,i),t.closePath()}},qh=-.5,Hh=gh(3)/2,Wh=1/gh(12),Yh=3*(Wh/2+1),Vh={draw(t,n){const e=gh(n/Yh),i=e/2,r=e*Wh,o=i,a=e*Wh+e,s=-o,c=a;t.moveTo(i,r),t.lineTo(o,a),t.lineTo(s,c),t.lineTo(qh*i-Hh*r,Hh*i+qh*r),t.lineTo(qh*o-Hh*a,Hh*o+qh*a),t.lineTo(qh*s-Hh*c,Hh*s+qh*c),t.lineTo(qh*i+Hh*r,qh*r-Hh*i),t.lineTo(qh*o+Hh*a,qh*a-Hh*o),t.lineTo(qh*s+Hh*c,qh*c-Hh*s),t.closePath()}},Xh={draw(t,n){const e=.6189*gh(n-dh(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},Zh=[Th,Ah,Nh,zh,Uh,Rh,Vh],Gh=[Th,Ch,Xh,Bh,$h,Dh,Lh];function Jh(){}function Kh(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Qh(t){this._context=t}function td(t){this._context=t}function nd(t){this._context=t}function ed(t,n){this._basis=new Qh(t),this._beta=n}Qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kh(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},td.prototype={areaStart:Jh,areaEnd:Jh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Kh(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:Kh(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ed.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var i,r=t[0],o=n[0],a=t[e]-r,s=n[e]-o,c=-1;++c<=e;)i=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+i*a),this._beta*n[c]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const id=function t(n){function e(t){return 1===n?new Qh(t):new ed(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function rd(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function od(t,n){this._context=t,this._k=(1-n)/6}od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:rd(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:rd(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const ad=function t(n){function e(t){return new od(t,n)}return e.tension=function(n){return t(+n)},e}(0);function sd(t,n){this._context=t,this._k=(1-n)/6}sd.prototype={areaStart:Jh,areaEnd:Jh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:rd(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const cd=function t(n){function e(t){return new sd(t,n)}return e.tension=function(n){return t(+n)},e}(0);function ld(t,n){this._context=t,this._k=(1-n)/6}ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rd(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const fd=function t(n){function e(t){return new ld(t,n)}return e.tension=function(n){return t(+n)},e}(0);function ud(t,n,e){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>1e-12){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-n*t._l12_2a)/f,a=(a*l+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function hd(t,n){this._context=t,this._alpha=n}hd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:ud(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const dd=function t(n){function e(t){return n?new hd(t,n):new od(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function pd(t,n){this._context=t,this._alpha=n}pd.prototype={areaStart:Jh,areaEnd:Jh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:ud(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const gd=function t(n){function e(t){return n?new pd(t,n):new sd(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function yd(t,n){this._context=t,this._alpha=n}yd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ud(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const bd=function t(n){function e(t){return n?new yd(t,n):new ld(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function md(t){this._context=t}function vd(t){return t<0?-1:1}function _d(t,n,e){var i=t._x1-t._x0,r=n-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(e-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(vd(o)+vd(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function xd(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function wd(t,n,e){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*n,o-s,a-s*e,o,a)}function kd(t){this._context=t}function Md(t){this._context=new $d(t)}function $d(t){this._context=t}function Td(t){this._context=t}function Ad(t){var n,e,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<i-1;++n)r[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=r[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(r[i-1]=a[i-1]/o[i-1],n=i-2;n>=0;--n)r[n]=(a[n]-r[n+1])/o[n];for(o[i-1]=(t[i]+r[i-1])/2,n=0;n<i-1;++n)o[n]=2*t[n+1]-r[n+1];return[r,o]}function Sd(t,n){this._context=t,this._t=n}function Ed(t,n,e){this.k=t,this.x=n,this.y=e}function Nd(t){return null!=t&&!Number.isNaN(t)}function Ld(t,n){return+Nd(n)-+Nd(t)||l(t,n)}function Cd(t,n){return+Nd(n)-+Nd(t)||c(t,n)}function zd(t){return null!=t&&""!=`${t}`}function Dd(t){return isFinite(t)?t:NaN}function Fd(t){return t>0&&isFinite(t)?t:NaN}function Pd(t){return t<0&&isFinite(t)?t:NaN}function Od(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof n?n(t):n;const e=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${a=t.getUTCFullYear(),a<0?`-${Ud(-a,6)}`:a>9999?`+${Ud(a,6)}`:Ud(a,4)}-${Ud(t.getUTCMonth()+1,2)}-${Ud(t.getUTCDate(),2)}${e||i||r||o?`T${Ud(e,2)}:${Ud(i,2)}${r||o?`:${Ud(r,2)}${o?`.${Ud(o,3)}`:""}`:""}Z`:""}`;var a}function Ud(t,n){return`${t}`.padStart(n,"0")}md.prototype={areaStart:Jh,areaEnd:Jh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wd(this,this._t0,xd(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,wd(this,xd(this,e=_d(this,t,n)),e);break;default:wd(this,this._t0,e=_d(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Md.prototype=Object.create(kd.prototype)).point=function(t,n){kd.prototype.point.call(this,n,t)},$d.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,r,o){this._context.bezierCurveTo(n,t,i,e,o,r)}},Td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var i=Ad(t),r=Ad(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},Ed.prototype={constructor:Ed,scale:function(t){return 1===t?this:new Ed(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ed(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Ed.prototype;const jd=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Rd(t,n){return jd.test(t+="")?new Date(t):"function"==typeof n?n(t):n}function Id(t){if(null==t)return;const n=t[0],e=t[t.length-1];return c(n,e)}const Bd=1e3,qd=6e4,Hd=36e5,Wd=864e5,Yd=6048e5,Vd=2592e6,Xd=31536e6,Zd=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Bd],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",qd],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",Hd],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",Wd],["2 days",1728e5],["week",Yd],["2 weeks",12096e5],["month",Vd],["3 months",7776e6],["6 months",15552e6],["year",Xd],["2 years",63072e6],["5 years",15768e7],["10 years",31536e7],["20 years",63072e7],["50 years",15768e8],["100 years",31536e8]],Gd=new Map([["second",Bd],["minute",qd],["hour",Hd],["day",Wd],["monday",Yd],["tuesday",Yd],["wednesday",Yd],["thursday",Yd],["friday",Yd],["saturday",Yd],["sunday",Yd],["week",Yd],["month",Vd],["year",Xd]]),Jd=new Map([["second",zc],["minute",Dc],["hour",Pc],["day",Uc],["monday",qc],["tuesday",Hc],["wednesday",Wc],["thursday",Yc],["friday",Vc],["saturday",Xc],["sunday",Bc],["week",Bc],["month",il],["year",ol]]),Kd=new Map([["second",zc],["minute",Fc],["hour",Oc],["day",Rc],["monday",Jc],["tuesday",Kc],["wednesday",Qc],["thursday",tl],["friday",nl],["saturday",el],["sunday",Gc],["week",Gc],["month",rl],["year",al]]),Qd=Symbol("intervalDuration"),tp=Symbol("intervalType");for(const[it,Xx]of Jd)Xx[Qd]=Gd.get(it),Xx[tp]="time";for(const[it,Xx]of Kd)Xx[Qd]=Gd.get(it),Xx[tp]="utc";const np=[["year",al,"utc"],["month",rl,"utc"],["day",Rc,"utc",15552e6],["hour",Oc,"utc",2592e5],["minute",Fc,"utc",216e5],["second",zc,"utc",18e5]],ep=[["year",ol,"time"],["month",il,"time"],["day",Uc,"time",15552e6],["hour",Pc,"time",2592e5],["minute",Dc,"time",216e5],["second",zc,"time",18e5]],ip=[np[0],ep[0],np[1],ep[1],np[2],ep[2],...np.slice(3)];function rp(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),e=+i[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6}let r=Kd.get(n);if(!r)throw new Error(`unknown interval: ${t}`);if(e>1&&!r.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function op(t){return sp(rp(t),"time")}function ap(t){return sp(rp(t),"utc")}function sp([t,n],e){let i=("time"===e?Jd:Kd).get(t);return n>1&&(i=i.every(n),i[Qd]=Gd.get(t)*n,i[tp]=e),i}function cp(t,n){if(!(n>1))return;const e=t[Qd];if(!Zd.some(([,t])=>t===e))return;if(e%Wd===0&&Wd<e&&e<Vd)return;const[i]=Zd[a(([,t])=>Math.log(t)).center(Zd,Math.log(e*n))];return("time"===t[tp]?op:ap)(i)}function lp(t,n,e){const i="time"===n?yl:bl;if(null==e)return i("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const r=function(t){return"left"===t||"right"===t?(t,n)=>`\n${t}\n${n}`:"top"===t?(t,n)=>`${n}\n${t}`:(t,n)=>`${t}\n${n}`}(e);switch(t){case"millisecond":return up(i(".%L"),i(":%M:%S"),r);case"second":return up(i(":%S"),i("%-I:%M"),r);case"minute":return up(i("%-I:%M"),i("%p"),r);case"hour":return up(i("%-I %p"),i("%b %-d"),r);case"day":return up(i("%-d"),i("%b"),r);case"month":return up(i("%b"),i("%Y"),r);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function fp(t,n,e){const i=f(u(n,(t,n)=>Math.abs(n-t)));if(i<1e3)return lp("millisecond","utc",e);for(const[r,o,a,s]of function(t){return"time"===t?ep:"utc"===t?np:ip}(t)){if(i>s)break;if("hour"===r&&!i)break;if(n.every(t=>o.floor(t)>=t))return lp(r,a,e)}}function up(t,n,e){return(i,r,o)=>{const a=t(i,r),s=n(i,r),c=r-Id(o);return r!==c&&void 0!==o[c]&&s===n(o[c],c)?a:e(a,s)}}const hp=Object.getPrototypeOf(Uint8Array),dp=Object.prototype.toString;function pp(t){return t instanceof Array||t instanceof hp}function gp(t){return t instanceof hp&&!function(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}(t)}function yp(t){return(null==t?void 0:t.prototype)instanceof hp&&!function(t){return t===BigInt64Array||t===BigUint64Array}(t)}const bp=Symbol("reindex");function mp(t,n,e){const i=typeof n;return"string"===i?Tg(t)?xp(t.getChild(n),e):vp(t,Mp(n),e):"function"===i?vp(t,n,e):"number"===i||n instanceof Date||"boolean"===i?Wp(t,zp(n),e):"function"==typeof(null==n?void 0:n.transform)?_p(n.transform(t),e):(r=_p(n,e),o=null==t?void 0:t[bp],null!=r&&o?ng(r,o):r);var r,o}function vp(t,n,e){return Wp(t,yp(e)?(t,e)=>Fp(n(t,e)):n,e)}function _p(t,n){return void 0===n?qp(t):Ag(t)?xp(t,n):t instanceof n?t:n.from(t,yp(n)&&!gp(t)?Fp:void 0)}function xp(t,n){return null==t?t:void 0!==n&&n!==Array||!function(t){return t&&(8===t.typeId||10===t.typeId)&&1===t.unit}(t.type)?_p(wp(t),n):Pp(wp(t))}function wp(t){return t.nullCount?t.toJSON():t.toArray()}const kp=[null],Mp=t=>n=>{var e;const i=n[t];return void 0===i&&"Feature"===n.type?null==(e=n.properties)?void 0:e[t]:i},$p={transform:tg},Tp={transform:t=>t},Ap=()=>!0,Sp=t=>null==t?t:`${t}`,Ep=t=>null==t?t:+t,Np=t=>t?t[0]:void 0,Lp=t=>t?t[1]:void 0,Cp=t=>t?t[2]:void 0,zp=t=>()=>t;function Dp(t){return gp(t)?t:Wp(t,Fp,Float64Array)}function Fp(t){return null==t?NaN:Number(t)}function Pp(t){return Wp(t,Op)}function Op(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?Rd(t):null==t||isNaN(t=Number(t))?void 0:new Date(t)}function Up(t,n){return void 0===t&&(t=n),null===t?[void 0,"none"]:mg(t)?[void 0,t]:[t,void 0]}function jp(t,n){return void 0===t&&(t=n),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function Rp(t,n,e){if(null!=t)return Ip(t,n,e)}function Ip(t,n,e){const i=`${t}`.toLowerCase();if(!e.includes(i))throw new Error(`invalid ${n}: ${t}`);return i}function Bp(t){return Tg(t)?t:qp(t)}function qp(t){if(null==t||pp(t))return t;if(Ag(t))return xp(t);if(Hp(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function Hp(t){switch(null==t?void 0:t.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function Wp(t,n,e=Array){return null==t?t:t instanceof e?t.map(n):e.from(t,n)}function Yp(t,n=Array){return t instanceof n?t.slice():n.from(t)}function Vp(t){return(null==t?void 0:t.toString)===dp}function Xp(t){return Vp(t)&&(void 0!==t.type||void 0!==t.domain)}function Zp(t){return Vp(t)&&"function"!=typeof t.transform}function Gp(t){return Zp(t)&&void 0===t.value&&void 0===t.channel}function Jp(t,n){return void 0===t&&void 0===n?[Np,Lp]:[t,n]}function Kp({z:t,fill:n,stroke:e}={}){return void 0===t&&([t]=Up(n)),void 0===t&&([t]=Up(e)),t}function Qp(t){return pp(t)?t.length:null==t?void 0:t.numRows}function tg(t){const n=Qp(t),e=new Uint32Array(n);for(let i=0;i<n;++i)e[i]=i;return e}function ng(t,n){return pp(t)?Wp(n,n=>t[n],t.constructor):Wp(n,n=>t.at(n))}function eg(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function ig(t){return null!==t&&"object"==typeof t?t.valueOf():t}function rg(t,n){return"string"==typeof t?t:t&&void 0!==t.label?t.label:n}function og(t,n){const e=ag(t,n);return e&&(t=>Nd(t)?e.floor(t):t)}function ag(t,n){if(null!=t){if("number"==typeof t)return function(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:t=>Math.floor(t*n)/n,offset:(t,e=1)=>(t*n+Math.floor(e))/n,range:(t,e)=>h(Math.ceil(t*n),e*n).map(t=>t/n)}:{floor:t=>Math.floor(t/n)*n,offset:(t,e=1)=>t+n*Math.floor(e),range:(t,e)=>h(Math.ceil(t/n),e/n).map(t=>t*n)}}(t);if("string"==typeof t)return("time"===n?op:ap)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function sg(t,n){if((t=ag(t,n))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function cg(t){return void 0===t||Zp(t)?t:{value:t}}function lg(t){return t&&"function"==typeof t[Symbol.iterator]}function fg(t){for(const n of t)if(null!=n)return"object"!=typeof n||n instanceof Date}function ug(t){for(const n of t){if(null==n)continue;const t=typeof n;return"string"===t||"boolean"===t}}function hg(t){for(const n of t)if(null!=n)return n instanceof Date}function dg(t){for(const n of t)if(null!=n)return"string"==typeof n&&isNaN(n)&&Rd(n)}function pg(t){for(const n of t)if(null!=n){if("string"!=typeof n)return!1;if(n.trim())return!isNaN(n)}}function gg(t){for(const n of t)if(null!=n)return"number"==typeof n}function yg(t,n){let e;for(const i of t)if(null!=i){if(!n(i))return!1;e=!0}return e}const bg=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function mg(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||bg.has(t))}function vg(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function _g(t){return null==t||xg(t)}function xg(t){return/^\s*none\s*$/i.test(t)}function wg(t,n){return Rp(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function kg(t="middle"){return wg(t,"frameAnchor")}function Mg(t){return lg(t)?function(t){const n=new Set;return Object.fromEntries(Array.from(t,t=>{const{name:e}=t;if(null==e)throw new Error("missing name");const i=`${e}`;if("__proto__"===i)throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[e,t]}))}(t):t}function $g(t){return!0===t?t="frame":!1===t?t=null:Hp(t)||null==t||"sphere"===(t=Ip(t,"clip",["frame","sphere"]))&&(t={type:"Sphere"}),t}function Tg(t){return t&&"function"==typeof t.getChild&&"function"==typeof t.toArray&&t.schema&&Array.isArray(t.schema.fields)}function Ag(t){return t&&"function"==typeof t.toArray&&t.type}const Sg=Symbol("position"),Eg=Symbol("color"),Ng=Symbol("radius"),Lg=Symbol("length"),Cg=Symbol("opacity"),zg=Symbol("symbol"),Dg=Symbol("projection"),Fg=new Map([["x",Sg],["y",Sg],["fx",Sg],["fy",Sg],["r",Ng],["color",Eg],["opacity",Cg],["symbol",zg],["length",Lg],["projection",Dg]]);function Pg(t){return t===Sg||t===Dg}const Og=2/Math.sqrt(3),Ug=new Map([["asterisk",$h],["circle",Th],["cross",Ah],["diamond",Nh],["diamond2",Lh],["hexagon",{draw(t,n){const e=Math.sqrt(n/Math.PI),i=e*Og,r=i/2;t.moveTo(0,i),t.lineTo(e,r),t.lineTo(e,-r),t.lineTo(0,-i),t.lineTo(-e,-r),t.lineTo(-e,r),t.closePath()}}],["plus",Ch],["square",zh],["square2",Dh],["star",Uh],["times",Xh],["triangle",Rh],["triangle2",Bh],["wye",Vh]]);function jg(t){return t&&"function"==typeof t.draw}function Rg(t){return!!jg(t)||"string"==typeof t&&Ug.has(t.toLowerCase())}function Ig(t){if(null==t||jg(t))return t;const n=Ug.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function Bg({filter:t,sort:n,reverse:e,transform:i,initializer:r,...o}={},a){if(void 0===i&&(null!=t&&(i=Vg(t)),null==n||Gp(n)||(i=Hg(i,Zg(n))),e&&(i=Hg(i,Xg))),null!=a&&null!=r)throw new Error("transforms cannot be applied after initializers");return{...o,...(null===n||Gp(n))&&{sort:n},transform:Hg(i,a)}}function qg({filter:t,sort:n,reverse:e,initializer:i,...r}={},o){return void 0===i&&(null!=t&&(i=Vg(t)),null==n||Gp(n)||(i=Wg(i,Zg(n))),e&&(i=Wg(i,Xg))),{...r,...(null===n||Gp(n))&&{sort:n},initializer:Wg(i,o)}}function Hg(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,i,r){return({data:e,facets:i}=t.call(this,e,i,r)),n.call(this,Bp(e),i,r)}}function Wg(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,i,r,...o){let a,s,c,l,f,u;return({data:s=e,facets:c=i,channels:a}=t.call(this,e,i,r,...o)),({data:f=s,facets:u=c,channels:l}=n.call(this,s,c,{...r,...a},...o)),{data:f,facets:u,channels:{...a,...l}}}}function Yg(t,n){return(null!=t.initializer?qg:Bg)(t,n)}function Vg(t){return(n,e)=>{const i=mp(n,t);return{data:n,facets:e.map(t=>t.filter(t=>i[t]))}}}function Xg(t,n){return{data:t,facets:n.map(t=>t.slice().reverse())}}function Zg(t){return("function"==typeof t&&1!==t.length?Gg:Jg)(t)}function Gg(t){return(n,e)=>{const i=pp(n)?(e,i)=>t(n[e],n[i]):(e,i)=>t(n.get(e),n.get(i));return{data:n,facets:e.map(t=>t.slice().sort(i))}}}function Jg(t){let n,e;({channel:n,value:t,order:e}={...cg(t)});const i=null==n?void 0:n.startsWith("-");if(i&&(n=n.slice(1)),void 0===e&&(e=i?Cd:Ld),"function"!=typeof e)switch(`${e}`.toLowerCase()){case"ascending":e=Ld;break;case"descending":e=Cd;break;default:throw new Error(`invalid order: ${e}`)}return(i,r,o)=>{let a;if(void 0===n)a=mp(i,t);else{if(void 0===o)throw new Error("channel sort requires an initializer");if(a=o[n],!a)return{};a=a.value}const s=(t,n)=>e(a[t],a[n]);return{data:i,facets:r.map(t=>t.slice().sort(s))}}}function Kg(t,n,e=Qg){if(null==t)return e(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&Vp(t))return function(t){return{...t,reduceIndex:t.reduce.bind(t)}}(t);if("function"==typeof t)return i=t,{reduceIndex:(t,n,e)=>i(ng(n,t),e)};var i;if(/^p\d{2}$/i.test(t))return ty(function(t){const n=+`${t}`.slice(1)/100;return(t,e)=>d(t,n,e)}(t));switch(`${t}`.toLowerCase()){case"first":return iy;case"last":return ry;case"identity":return ey;case"count":return oy;case"distinct":return ay;case"sum":return null==n?oy:sy;case"proportion":return cy(n,"data");case"proportion-facet":return cy(n,"facet");case"deviation":return ty(k);case"min":return ty(w);case"min-index":return ty(x);case"max":return ty(f);case"max-index":return ty(_);case"mean":return ny(v);case"median":return ny(m);case"variance":return ty(b);case"mode":return ty(y)}return e(t)}function Qg(t){throw new Error(`invalid reduce: ${t}`)}function ty(t){return{reduceIndex:(n,e)=>t(n,t=>e[t])}}function ny(t){return{reduceIndex(n,e){const i=t(n,t=>e[t]);return hg(e)?new Date(i):i}}}const ey={reduceIndex:(t,n)=>ng(n,t)},iy={reduceIndex:(t,n)=>n[t[0]]},ry={reduceIndex:(t,n)=>n[t[t.length-1]]},oy={label:"Frequency",reduceIndex:t=>t.length},ay={label:"Distinct",reduceIndex(t,n){const e=new g;for(const i of t)e.add(n[i]);return e.size}},sy=ty(p);function cy(t,n){return null==t?{scope:n,label:"Frequency",reduceIndex:(t,n,e=1)=>t.length/e}:{scope:n,reduceIndex:(t,n,e=1)=>p(t,t=>n[t])/e}}function ly(t,{scale:n,type:e,value:i,filter:r,hint:o,label:a=rg(i)},s){return void 0===o&&"function"==typeof(null==i?void 0:i.transform)&&(o=i.hint),hy(s,{scale:n,type:e,value:mp(t,i),label:a,filter:r,hint:o})}function fy(t,n){return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,ly(n,e,t)]))}function uy(t,n){const e=Object.fromEntries(Object.entries(t).map(([t,{scale:e,value:i}])=>{const r=null==e?null:n[e];return[t,null==r?i:Wp(i,r)]}));return e.channels=t,e}function hy(t,n){const{scale:e,value:i}=n;if(!0===e||"auto"===e)switch(t){case"fill":case"stroke":case"color":n.scale=!0!==e&&yg(i,mg)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=!0!==e&&yg(i,vg)?null:"opacity",n.defaultScale="opacity";break;case"symbol":!0!==e&&yg(i,Rg)?(n.scale=null,n.value=Wp(i,Ig)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=Fg.has(t)?t:null}else if(!1===e)n.scale=null;else if(null!=e&&!Fg.has(e))throw new Error(`unknown scale: ${e}`);return n}function dy(t,n){for(const e in t){const i=t[e];if(i.scale===n)return i}}function py(t,n){const e=t.original;if(e===t)return n;const i=n.value,r=n.value=[];for(let o=0;o<e.length;++o){const n=i[e[o][0]];for(const e of t[o])r[e]=n}return n}function gy(t,n,e){const i=yy(t,n);return Wp(yy(t,e),(t,n)=>Math.abs(t-i[n]),Float64Array)}function yy(t,n,e){let i=t[n];if(i||void 0===e||(i=t[e]),i)return i.value;throw new Error(`missing channel: ${n}`)}function by(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return my;case"descending":return vy}throw new Error(`invalid order: ${t}`)}function my([t,n],[e,i]){return Ld(n,i)||Ld(t,e)}function vy([t,n],[e,i]){return Cd(n,i)||Ld(t,e)}function _y(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return null===e.source?null:e}}const xy=new Map([["accent",Uf],["category10",Of],["dark2",jf],["observable10",Rf],["paired",If],["pastel1",Bf],["pastel2",qf],["set1",Hf],["set2",Wf],["set3",Yf],["tableau10",Vf]]);const wy=new Map([...xy,["brbg",My(Zf,Gf)],["prgn",My(Jf,Kf)],["piyg",My(Qf,tu)],["puor",My(nu,eu)],["rdbu",My(iu,ru)],["rdgy",My(ou,au)],["rdylbu",My(su,cu)],["rdylgn",My(lu,fu)],["spectral",My(uu,hu)],["burd",$y(iu,ru)],["buylrd",$y(su,cu)],["blues",ky(Ou,Uu)],["greens",ky(ju,Ru)],["greys",ky(Iu,Bu)],["oranges",ky(Vu,Xu)],["purples",ky(qu,Hu)],["reds",ky(Wu,Yu)],["turbo",Ty(oh)],["viridis",Ty(sh)],["magma",Ty(ch)],["inferno",Ty(lh)],["plasma",Ty(fh)],["cividis",Ty(Zu)],["cubehelix",Ty(Gu)],["warm",Ty(Ju)],["cool",Ty(Ku)],["bugn",ky(du,pu)],["bupu",ky(gu,yu)],["gnbu",ky(bu,mu)],["orrd",ky(vu,_u)],["pubu",ky(ku,Mu)],["pubugn",ky(xu,wu)],["purd",ky($u,Tu)],["rdpu",ky(Au,Su)],["ylgn",ky(Lu,Cu)],["ylgnbu",ky(Eu,Nu)],["ylorbr",ky(zu,Du)],["ylorrd",ky(Fu,Pu)],["rainbow",Ay(th)],["sinebow",Ay(rh)]]);function ky(t,n){return({length:e})=>1===e?[t[3][1]]:2===e?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)))>9?ui(n,e):t[e]}function My(t,n){return({length:e})=>2===e?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)))>11?ui(n,e):t[e]}function $y(t,n){return({length:e})=>2===e?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)))>11?ui(t=>n(1-t),e):t[e].slice().reverse()}function Ty(t){return({length:n})=>ui(t,Math.max(2,Math.floor(n)))}function Ay(t){return({length:n})=>ui(t,Math.floor(n)+1).slice(0,-1)}function Sy(t){const n=`${t}`.toLowerCase();if(!wy.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return wy.get(n)}function Ey(t,n){const e=Sy(t),i="function"==typeof e?e({length:n}):e;return i.length!==n?i.slice(0,n):i}const Ny=new Map([["brbg",Gf],["prgn",Kf],["piyg",tu],["puor",eu],["rdbu",ru],["rdgy",au],["rdylbu",cu],["rdylgn",fu],["spectral",hu],["burd",t=>ru(1-t)],["buylrd",t=>cu(1-t)],["blues",Uu],["greens",Ru],["greys",Bu],["purples",Hu],["reds",Yu],["oranges",Xu],["turbo",oh],["viridis",sh],["magma",ch],["inferno",lh],["plasma",fh],["cividis",Zu],["cubehelix",Gu],["warm",Ju],["cool",Ku],["bugn",pu],["bupu",yu],["gnbu",mu],["orrd",_u],["pubugn",wu],["pubu",Mu],["purd",Tu],["rdpu",Su],["ylgnbu",Nu],["ylgn",Cu],["ylorbr",Du],["ylorrd",Pu],["rainbow",th],["sinebow",rh]]);function Ly(t){const n=`${t}`.toLowerCase();if(!Ny.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Ny.get(n)}const Cy=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);const zy=t=>n=>t(1-n),Dy=[0,1],Fy=new Map([["number",We],["rgb",je],["hsl",oi],["hcl",si],["lab",function(t,n){var e=Ue((t=ge(t)).l,(n=ge(n)).l),i=Ue(t.a,n.a),r=Ue(t.b,n.b),o=Ue(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=i(n),t.b=r(n),t.opacity=o(n),t+""}}]]);function Py(t){const n=`${t}`.toLowerCase();if(!Fy.has(n))throw new Error(`unknown interpolator: ${n}`);return Fy.get(n)}function Oy(t,e,i,{type:r,nice:o,clamp:a,zero:s,domain:c=By(t,i),unknown:l,round:f,scheme:u,interval:h,range:d=(Fg.get(t)===Ng?Hy(i,c):Fg.get(t)===Lg?Wy(i,c):Fg.get(t)===Cg?Dy:void 0),interpolate:p=(Fg.get(t)===Eg?null==u&&void 0!==d?je:Ly(void 0!==u?u:"cyclical"===r?"rainbow":"turbo"):f?Je:We),reverse:g}){if(c=Uy(c),h=sg(h,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),"function"!=typeof p&&(p=Py(p)),g=!!g,void 0!==d){if(c.length!==(d=Uy(d)).length){if(1===p.length)throw new Error("invalid piecewise interpolator");p=fi(p,d),d=void 0}}if(1===p.length?(g&&(p=zy(p),g=!1),void 0===d&&2===(d=Float64Array.from(c,(t,n)=>n/(c.length-1))).length&&(d=Dy),e.interpolate((d===Dy?zp:Xy)(p))):e.interpolate(p),s){const[t,e]=n(c);if(t>0||e<0){(Id(c=Yp(c))||1)===Math.sign(t)?c[0]=0:c[c.length-1]=0}}return g&&(c=N(c)),e.domain(c).unknown(l),o&&(e.nice(function(t,n){return!0===t?void 0:"number"==typeof t?t:function(t,n){if((t=sg(t,n))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,n)}(o,r)),c=e.domain()),void 0!==d&&e.range(d),a&&e.clamp(a),{type:r,domain:c,range:d,scale:e,interpolate:p,interval:h}}function Uy(t){return(t=qp(t)).length>=2?t:[t[0],t[0]]}function jy(t,n,{exponent:e=1,...i}){return Oy(t,S().exponent(e),n,{...i,type:"pow"})}function Ry(t,n,{domain:e=[0],unknown:i,scheme:r="rdylbu",interpolate:o,range:a=(void 0!==o?ui(o,e.length+1):Fg.get(t)===Eg?Ey(r,e.length+1):void 0),reverse:s}){const l=Id(e=qp(e));if(!isNaN(l)&&!function(t,n){for(let e=1,i=t.length,r=t[0];e<i;++e){const i=c(r,r=t[e]);if(0!==i&&i!==n)return!1}return!0}(e,l))throw new Error(`the ${t} scale has a non-monotonic domain`);return s&&(a=N(a)),{type:"threshold",scale:L(l<0?N(e):e,void 0===a?[]:a).unknown(i),domain:e,range:a}}function Iy(t,n=Dd){return t.length?[w(t,({value:t})=>void 0===t?t:w(t,n)),f(t,({value:t})=>void 0===t?t:f(t,n))]:[0,1]}function By(t,n){const e=Fg.get(t);return(e===Ng||e===Cg||e===Lg?qy:Iy)(n)}function qy(t){return[0,t.length?f(t,({value:t})=>void 0===t?t:f(t,Dd)):1]}function Hy(t,n){const e=t.find(({radius:t})=>void 0!==t);if(void 0!==e)return[0,e.radius];const i=d(t,.5,({value:t})=>void 0===t?NaN:d(t,.25,Fd)),r=n.map(t=>3*Math.sqrt(t/i)),o=30/f(r);return o<1?r.map(t=>t*o):r}function Wy(t,n){const e=m(t,({value:t})=>void 0===t?NaN:m(t,Math.abs)),i=n.map(t=>12*t/e),r=60/f(i);return r<1?i.map(t=>t*r):i}function Yy(t){for(const{value:n}of t)if(void 0!==n)for(let e of n){if(e>0)return Iy(t,Fd);if(e<0)return Iy(t,Pd)}return[1,10]}function Vy(t){const n=[];for(const{value:e}of t)if(void 0!==e)for(const t of e)n.push(t);return n}function Xy(t){return(n,e)=>i=>t(n+i*(e-n))}let Zy,Gy=0;function Jy(t){t!==Zy&&(Zy=t,++Gy)}function Ky(t,n,e,i,{type:r,nice:o,clamp:a,domain:s=Iy(i),unknown:l,pivot:f=0,scheme:u,range:h,symmetric:d=!0,interpolate:p=(Fg.get(t)===Eg?null==u&&void 0!==h?je:Ly(void 0!==u?u:"rdbu"):We),reverse:g}){f=+f,s=qp(s);let[y,b]=s;if(s.length>2&&Jy(`Warning: the diverging ${t} scale domain contains extra elements.`),c(y,b)<0&&([y,b]=[b,y],g=!g),y=Math.min(y,f),b=Math.max(b,f),"function"!=typeof p&&(p=Py(p)),void 0!==h&&(p=1===p.length?Xy(p)(...h):fi(p,h)),g&&(p=zy(p)),d){const t=e.apply(f),n=t-e.apply(y),i=e.apply(b)-t;n<i?y=e.invert(t-i):n>i&&(b=e.invert(t+n))}return n.domain([y,f,b]).unknown(l).interpolator(p),a&&n.clamp(a),o&&n.nice(o),{type:r,domain:[y,b],pivot:f,interpolate:p,scale:n}}function Qy(t,n,{exponent:e=1,...i}){return Ky(t,F().exponent(e=+e),function(t){return.5===t?ib:{apply:n=>Math.sign(n)*Math.pow(Math.abs(n),t),invert:n=>Math.sign(n)*Math.pow(Math.abs(n),1/t)}}(e),n,{...i,type:"diverging-pow"})}function tb(t,n,{constant:e=1,...i}){return Ky(t,z().constant(e=+e),function(t){return{apply:n=>Math.sign(n)*Math.log1p(Math.abs(n/t)),invert:n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}}(e),n,i)}const nb={apply:t=>t,invert:t=>t},eb={apply:Math.log,invert:Math.exp},ib={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function rb(t,n,e,i){return Oy(t,n,e,i)}const ob=Symbol("ordinal");function ab(t,n,e,{type:i,interval:r,domain:o,range:a,reverse:s,hint:c}){return r=sg(r,i),void 0===o&&(o=lb(e,r,t)),"categorical"!==i&&i!==ob||(i="ordinal"),s&&(o=N(o)),o=n.domain(o).domain(),void 0!==a&&("function"==typeof a&&(a=a(o)),n.range(a)),{type:i,domain:o,range:a,scale:n,hint:c,interval:r}}function sb(t,n,{type:e,interval:i,domain:r,range:o,scheme:a,unknown:s,...c}){let l;if(i=sg(i,e),void 0===r&&(r=lb(n,i,t)),Fg.get(t)===zg)l=function(t){return{fill:fb(t,"fill"),stroke:fb(t,"stroke")}}(n),o=void 0===o?function(t){return _g(t.fill)?Gh:Zh}(l):Wp(o,Ig);else if(Fg.get(t)===Eg&&(void 0!==o||"ordinal"!==e&&e!==ob||(o=function(t,n="greys"){const e=new Set,[i,r]=Ey(n,2);for(const o of t)if(null!=o)if(!0===o)e.add(r);else{if(!1!==o)return;e.add(i)}return[...e]}(r,a),void 0!==o&&(a=void 0)),void 0===a&&void 0===o&&(a="ordinal"===e?"turbo":"observable10"),void 0!==a))if(void 0!==o){const t=Ly(a),n=o[0],e=o[1]-o[0];o=({length:i})=>ui(i=>t(n+e*i),i)}else o=Sy(a);if(s===I)throw new Error(`implicit unknown on ${t} scale is not supported`);return ab(t,B().unknown(s),n,{...c,type:e,domain:r,range:o,hint:l})}function cb(t,n,e,i){let{round:r}=e;return void 0!==r&&t.round(r=!!r),(t=ab(i,t,n,e)).round=r,t}function lb(t,e,i){const r=new g;for(const{value:n,domain:o}of t){if(void 0!==o)return o();if(void 0!==n)for(const t of n)r.add(t)}if(void 0!==e){const[t,i]=n(r).map(e.floor,e);return e.range(t,e.offset(i))}if(r.size>1e4&&Fg.get(i)===Sg)throw new Error(`implicit ordinal domain of ${i} scale has more than 10,000 values`);return q(r,Ld)}function fb(t,n){let e;for(const{hint:i}of t){const t=null==i?void 0:i[n];if(void 0!==t)if(void 0===e)e=t;else if(e!==t)return}return e}function ub(t,{label:n,inset:e=0,insetTop:i=e,insetRight:r=e,insetBottom:o=e,insetLeft:a=e,round:s,nice:c,clamp:l,zero:f,align:u,padding:h,projection:d,facet:{label:p=n}={},...g}={}){const y={};for(const[b,m]of t){const t=g[b],e=_b(b,m,{round:Fg.get(b)===Sg?s:void 0,nice:c,clamp:l,zero:f,align:u,padding:h,projection:d,...t});if(e){let{label:s=("fx"===b||"fy"===b?p:n),percent:c,transform:l,inset:f,insetTop:u=(void 0!==f?f:"y"===b?i:0),insetRight:h=(void 0!==f?f:"x"===b?r:0),insetBottom:d=(void 0!==f?f:"y"===b?o:0),insetLeft:g=(void 0!==f?f:"x"===b?a:0)}=t||{};if(null==l)l=void 0;else if("function"!=typeof l)throw new Error("invalid scale transform; not a function");e.percent=!!c,e.label=void 0===s?db(m,e):s,e.transform=l,"x"===b||"fx"===b?(e.insetLeft=+g,e.insetRight=+h):"y"!==b&&"fy"!==b||(e.insetTop=+u,e.insetBottom=+d),y[b]=e}}return y}function hb(t){const n={},e={scales:n};for(const[i,r]of Object.entries(t)){const{scale:t,type:o,interval:a,label:s}=r;n[i]=Nb(r),e[i]=t,t.type=o,null!=a&&(t.interval=a),null!=s&&(t.label=s)}return e}function db(t=[],n){let e;for(const{label:i}of t)if(void 0!==i)if(void 0===e)e=i;else if(e!==i)return;if(void 0!==e)return!$b(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function pb(t){const{marginTop:n,marginRight:e,marginBottom:i,marginLeft:r,width:o,height:a,facet:{marginTop:s,marginRight:c,marginBottom:l,marginLeft:f}}=t;return{marginTop:Math.max(n,s),marginRight:Math.max(e,c),marginBottom:Math.max(i,l),marginLeft:Math.max(r,f),width:o,height:a}}function gb({fx:t,fy:n},e){const{marginTop:i,marginRight:r,marginBottom:o,marginLeft:a,width:s,height:c}=pb(e);return{marginTop:i,marginRight:r,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+r:s,height:n?n.scale.bandwidth()+i+o:c,facet:{width:s,height:c}}}function yb(t,n){if(void 0===t.range){const{insetLeft:e,insetRight:i}=t,{width:r,marginLeft:o=0,marginRight:a=0}=n,s=o+e,c=r-a-i;t.range=[s,Math.max(s,c)],$b(t)||(t.range=vb(t)),t.scale.range(t.range)}mb(t)}function bb(t,n){if(void 0===t.range){const{insetTop:e,insetBottom:i}=t,{height:r,marginTop:o=0,marginBottom:a=0}=n,s=o+e,c=r-a-i;t.range=[Math.max(s,c),s],$b(t)?t.range.reverse():t.range=vb(t),t.scale.range(t.range)}mb(t)}function mb(t){void 0===t.round&&function({type:t}){return"point"===t||"band"===t}(t)&&function({scale:t}){const n=t.domain().length,[e,i]=t.range(),r=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-r,s=Math.abs(i-e)/Math.max(1,a+2*o);return(s-Math.floor(s))*a}(t)<=30&&t.scale.round(!0)}function vb(t){const n=t.scale.domain().length+Tb(t);if(!(n>2))return t.range;const[e,i]=t.range;return Array.from({length:n},(t,r)=>e+r/(n-1)*(i-e))}function _b(t,i=[],r={}){const o=function(t,n,{type:e,domain:i,range:r,scheme:o,pivot:a,projection:s}){var c;if(e=wb(e),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==s||(e=kb);for(const u of n){const t=wb(u.type);if(void 0!==t)if(void 0===e)e=t;else if(e!==t)throw new Error(`scale incompatible with channel: ${e} !== ${t}`)}if(e===kb)return;if(void 0!==e)return e;if(void 0===i&&!n.some(({value:t})=>void 0!==t))return;const l=Fg.get(t);if(l===Ng)return"sqrt";if(l===Cg||l===Lg)return"linear";if(l===zg)return"ordinal";const f=null==(c=i??r)?void 0:c.length;if(f<2||f>2)return Mb(l);if(void 0!==i){if(ug(i))return Mb(l);if(hg(i))return"utc"}else{const t=n.map(({value:t})=>t).filter(t=>void 0!==t);if(t.some(ug))return Mb(l);if(t.some(hg))return"utc"}if(l===Eg){if(null!=a||function(t){return null!=t&&Cy.has(`${t}`.toLowerCase())}(o))return"diverging";if(function(t){return null!=t&&xy.has(`${t}`.toLowerCase())}(o))return"categorical"}return"linear"}(t,i,r);if(void 0===r.type&&void 0===r.domain&&void 0===r.range&&null==r.interval&&"fx"!==t&&"fy"!==t&&$b({type:o})){const n=i.map(({value:t})=>t).filter(t=>void 0!==t);n.some(hg)?Jy(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${xb(o)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${xb(o)}".`):n.some(dg)?Jy(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${xb(o)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${xb(o)}".`):n.some(pg)&&Jy(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${xb(o)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${xb(o)}".`)}switch(r.type=o,o){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=Sb(i,r,Dp);break;case"identity":switch(Fg.get(t)){case Sg:r=Sb(i,r,Dp);break;case zg:r=Sb(i,r,Eb)}break;case"utc":case"time":r=Sb(i,r,Pp)}switch(o){case"diverging":return function(t,n,e){return Ky(t,P(),nb,n,e)}(t,i,r);case"diverging-sqrt":return function(t,n,e){return Qy(t,n,{...e,exponent:.5})}(t,i,r);case"diverging-pow":return Qy(t,i,r);case"diverging-log":return function(t,n,{base:e=10,pivot:i=1,domain:r=Iy(n,i<0?Pd:Fd),...o}){return Ky(t,D().base(e=+e),eb,n,{domain:r,pivot:i,...o})}(t,i,r);case"diverging-symlog":return tb(t,i,r);case"categorical":case"ordinal":case ob:return sb(t,i,r);case"cyclical":case"sequential":case"linear":return function(t,n,e){return Oy(t,C(),n,e)}(t,i,r);case"sqrt":return function(t,n,e){return jy(t,n,{...e,exponent:.5})}(t,i,r);case"threshold":return Ry(t,0,r);case"quantile":return function(t,n,{range:e,quantiles:i=(void 0===e?5:(e=[...e]).length),n:r=i,scheme:o="rdylbu",domain:a=Vy(n),unknown:s,interpolate:c,reverse:l}){return void 0===e&&(e=void 0!==c?ui(c,r):Fg.get(t)===Eg?Ey(o,r):void 0),a.length>0&&(a=E(a,void 0===e?{length:r}:e).quantiles()),Ry(t,0,{domain:a,range:e,reverse:l,unknown:s})}(t,i,r);case"quantize":return function(t,i,{range:r,n:o=(void 0===r?5:(r=[...r]).length),scheme:a="rdylbu",domain:s=By(t,i),unknown:c,interpolate:l,reverse:f}){const[u,h]=n(s);let d;return void 0===r?(d=e(u,h,o),d[0]<=u&&d.splice(0,1),d[d.length-1]>=h&&d.pop(),o=d.length+1,r=void 0!==l?ui(l,o):Fg.get(t)===Eg?Ey(a,o):void 0):(d=ui(We(u,h),o+1).slice(1,-1),u instanceof Date&&(d=d.map(t=>new Date(t)))),Id(qp(s))<0&&d.reverse(),Ry(t,0,{domain:d,range:r,reverse:f,unknown:c})}(t,i,r);case"pow":return jy(t,i,r);case"log":return function(t,n,{base:e=10,domain:i=Yy(n),...r}){return Oy(t,A().base(e),n,{...r,domain:i})}(t,i,r);case"symlog":return function(t,n,{constant:e=1,...i}){return Oy(t,T().constant(e),n,i)}(t,i,r);case"utc":return function(t,n,e){return rb(t,U(),n,e)}(t,i,r);case"time":return function(t,n,e){return rb(t,O(),n,e)}(t,i,r);case"point":return function(t,n,{align:e=.5,padding:i=.5,...r}){return cb(R().align(e).padding(i),n,r,t)}(t,i,r);case"band":return function(t,n,{align:e=.5,padding:i=.1,paddingInner:r=i,paddingOuter:o=("fx"===t||"fy"===t?0:i),...a}){return cb(j().align(e).paddingInner(r).paddingOuter(o),n,a,t)}(t,i,r);case"identity":return function(t){return{type:"identity",scale:(n=Fg.get(t),n===Sg||n===Ng||n===Lg||n===Cg?$():t=>t)};var n}(t);case void 0:return;default:throw new Error(`unknown scale type: ${o}`)}}function xb(t){return"symbol"==typeof t?t.description:t}function wb(t){return"string"==typeof t?`${t}`.toLowerCase():t}const kb={toString:()=>"projection"};function Mb(t){switch(t){case Sg:return"point";case Eg:return ob;default:return"ordinal"}}function $b({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===ob}function Tb({type:t}){return"threshold"===t}function Ab(t){if(void 0===t)return!0;const n=t.domain(),e=t(n[0]);for(let i=1,r=n.length;i<r;++i)if(t(n[i])-e)return!1;return!0}function Sb(t,{domain:n,...e},i){var r;for(const o of t)void 0!==o.value&&(void 0===n&&(n=null==(r=o.value)?void 0:r.domain),o.value=i(o.value));return{domain:void 0===n?n:i(n),...e}}function Eb(t){return Wp(t,Ig)}function Nb({scale:t,type:n,domain:e,range:i,interpolate:r,interval:o,transform:a,percent:s,pivot:c}){if("identity"===n)return{type:"identity",apply:t=>t,invert:t=>t};const l=t.unknown?t.unknown():void 0;return{type:n,domain:Yp(e),...void 0!==i&&{range:Yp(i)},...void 0!==a&&{transform:a},...s&&{percent:s},...void 0!==l&&{unknown:l},...void 0!==o&&{interval:o},...void 0!==r&&{interpolate:r},...t.clamp&&{clamp:t.clamp()},...void 0!==c&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:n=>t(n),...t.invert&&{invert:n=>t.invert(n)}}}function Lb(t,{fx:n,fy:e}){const i=tg(t),r=null==n?void 0:n.value,o=null==e?void 0:e.value;return n&&e?Y(i,t=>(t.fx=r[t[0]],t.fy=o[t[0]],t),t=>r[t],t=>o[t]):n?Y(i,t=>(t.fx=r[t[0]],t),t=>r[t]):Y(i,t=>(t.fy=o[t[0]],t),t=>o[t])}function Cb(t){const n=[],e=new Uint32Array(p(t,t=>t.length));for(const i of t){let r=0;for(const n of t)i!==n&&(e.set(n,r),r+=n.length);n.push(e.slice(0,r))}return n}const zb=new Map([["top",Ub],["right",Ib],["bottom",jb],["left",Rb],["top-left",Bb(Ub,Rb)],["top-right",Bb(Ub,Ib)],["bottom-left",Bb(jb,Rb)],["bottom-right",Bb(jb,Ib)],["top-empty",function(t,{y:n},{x:e,y:i,empty:r}){if(r)return!1;if(!n)return;const o=Pb(n,i);if(o>0)return Ob(t,e,n[o-1])}],["right-empty",function(t,{x:n},{x:e,y:i,empty:r}){if(r)return!1;if(!n)return;const o=Pb(n,e);if(o<n.length-1)return Ob(t,n[o+1],i)}],["bottom-empty",function(t,{y:n},{x:e,y:i,empty:r}){if(r)return!1;if(!n)return;const o=Pb(n,i);if(o<n.length-1)return Ob(t,e,n[o+1])}],["left-empty",function(t,{x:n},{x:e,y:i,empty:r}){if(r)return!1;if(!n)return;const o=Pb(n,e);if(o>0)return Ob(t,n[o-1],i)}],["empty",function(t,n,{empty:e}){return e}]]);const Db=new WeakMap;function Fb(t){let n=Db.get(t);return n||Db.set(t,n=new H(Wp(t,(t,n)=>[t,n]))),n}function Pb(t,n){return Fb(t).get(n)}function Ob(t,n,e){var i;return null==(i=function(t,n,e){return n=ig(n),e=ig(e),t.find(t=>Object.is(ig(t.x),n)&&Object.is(ig(t.y),e))}(t,n,e))?void 0:i.empty}function Ub(t,{y:n},{y:e}){return!n||0===Pb(n,e)}function jb(t,{y:n},{y:e}){return!n||Pb(n,e)===n.length-1}function Rb(t,{x:n},{x:e}){return!n||0===Pb(n,e)}function Ib(t,{x:n},{x:e}){return!n||Pb(n,e)===n.length-1}function Bb(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function qb(t,{channels:{fx:n,fy:e},groups:i}){return n&&e?t.map(({x:t,y:n})=>{var e;return(null==(e=i.get(t))?void 0:e.get(n))??[]}):n?t.map(({x:t})=>i.get(t)??[]):t.map(({y:t})=>i.get(t)??[])}const Hb=Math.PI,Wb=2*Hb,Yb=.618;function Vb({projection:t,inset:n=0,insetTop:e=n,insetRight:i=n,insetBottom:r=n,insetLeft:o=n}={},a){if(null==t)return;if("function"==typeof t.stream)return t;let s,c,l="frame";if(Vp(t)){let n;if(({type:t,domain:c,inset:n,insetTop:e=(void 0!==n?n:e),insetRight:i=(void 0!==n?n:i),insetBottom:r=(void 0!==n?n:r),insetLeft:o=(void 0!==n?n:o),clip:l=l,...s}=t),null==t)return}"function"!=typeof t&&({type:t}=Xb(t));const{width:f,height:u,marginLeft:h,marginRight:d,marginTop:p,marginBottom:g}=a,y=f-h-d-o-i,b=u-p-g-e-r;if(null==(t=null==t?void 0:t({width:y,height:b,clip:l,...s})))return;l=function(t,n,e,i,r){if(!1===t||null==t||"number"==typeof t)return t=>t;!0===t&&(t="frame");if("frame"===`${t}`.toLowerCase())return _a(n,e,i,r);throw new Error(`unknown projection clip type: ${t}`)}(l,h,p,f-d,u-g);let m,v=h+o,_=p+e;if(null!=c){const[[n,e],[i,r]]=ks(t).bounds(c),o=Math.min(y/(i-n),b/(r-e));o>0?(v-=(o*(n+i)-y)/2,_-=(o*(e+r)-b)/2,m=Ms({point(t,n){this.stream.point(t*o+v,n*o+_)}})):Jy("Warning: the projection could not be fit to the specified domain; using the default scale.")}return m??(m=0===v&&0===_?Jb():Ms({point(t,n){this.stream.point(t+v,n+_)}})),{stream:n=>t.stream(m.stream(l(n)))}}function Xb(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Zb(Bs,.7463,.4673);case"albers":return Gb(Is,.7463,.4673);case"azimuthal-equal-area":return Zb(Ys,4,4);case"azimuthal-equidistant":return Zb(Xs,Wb,Wb);case"conic-conformal":return Gb(tc,Wb,Wb);case"conic-equal-area":return Gb(Rs,6.1702,2.9781);case"conic-equidistant":return Gb(rc,7.312,3.6282);case"equal-earth":return Zb(uc,5.4133,2.6347);case"equirectangular":return Zb(ec,Wb,Hb);case"gnomonic":return Zb(dc,3.4641,3.4641);case"identity":return{type:Jb};case"reflect-y":return{type:Kb};case"mercator":return Zb(Gs,Wb,Wb);case"orthographic":return Zb(gc,2,2);case"stereographic":return Zb(bc,2,2);case"transverse-mercator":return Zb(vc,Wb,Wb);default:throw new Error(`unknown projection type: ${t}`)}}function Zb(t,n,e){return{type:({width:i,height:r,rotate:o,precision:a=.15,clip:s})=>{var c,l,f;const u=t();return null!=a&&(null==(c=u.precision)||c.call(u,a)),null!=o&&(null==(l=u.rotate)||l.call(u,o)),"number"==typeof s&&(null==(f=u.clipAngle)||f.call(u,s)),null!=i&&(u.scale(Math.min(i/n,r/e)),u.translate([i/2,r/2])),u},aspectRatio:e/n}}function Gb(t,n,e){const{type:i,aspectRatio:r}=Zb(t,n,e);return{type:t=>{const{parallels:n,domain:e,width:r,height:o}=t,a=i(t);return null!=n&&(a.parallels(n),void 0===e&&null!=r&&a.fitSize([r,o],{type:"Sphere"})),a},aspectRatio:r}}const Jb=zp({stream:t=>t}),Kb=zp(Ms({point(t,n){this.stream.point(t,-n)}}));function Qb(t,n,e,i){const r=e[t],o=e[n],a=r.length,s=e[t]=new Float64Array(a).fill(NaN),c=e[n]=new Float64Array(a).fill(NaN);let l;const f=i.stream({point(t,n){s[l]=t,c[l]=n}});for(l=0;l<a;++l)f.point(r[l],o[l])}function tm({projection:t}={}){return null!=t&&("function"==typeof t.stream||(Vp(t)&&(t=t.type),null!=t))}function nm(t){const n=[],e=[],i={scale:"x",value:n},r={scale:"y",value:e},o={point(t,i){n.push(t),e.push(i)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Yo(a,o);return[i,r]}function em(t={}){const{document:n=("undefined"!=typeof window?window.document:void 0),clip:e}=t;return{document:n,clip:$g(e)}}function im(t,{document:n}){return kn(gt(t).call(n.documentElement))}const rm=Symbol("unset");function om(t){return(1===t.length?am:sm)(t)}function am(t){let n,e=rm;return i=>(Object.is(e,i)||(e=i,n=t(i)),n)}function sm(t){let n,e;return(...i)=>(((null==e?void 0:e.length)!==i.length||e.some((t,n)=>!Object.is(t,i[n])))&&(e=i,n=t(...i)),n)}const cm=om(t=>new Intl.NumberFormat(t));function lm(t){return Od(t,"Invalid Date")}om((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}})),om((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));const fm=function(t="en-US"){const n=function(t="en-US"){const n=cm(t);return t=>null==t||isNaN(t)?void 0:n.format(t)}(t);return t=>(t instanceof Date?lm:"number"==typeof t?n:Sp)(t)}(),um=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let hm=0;function dm(){return"plot-clip-"+ ++hm}function pm(t,{title:n,href:e,ariaLabel:i,ariaDescription:r,ariaHidden:o,target:a,fill:s,fillOpacity:c,stroke:l,strokeWidth:f,strokeOpacity:u,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:y,opacity:b,mixBlendMode:m,imageFilter:v,paintOrder:_,pointerEvents:x,shapeRendering:w,channels:k},{ariaLabel:M,fill:$="currentColor",fillOpacity:T,stroke:A="none",strokeOpacity:S,strokeWidth:E,strokeLinecap:N,strokeLinejoin:L,strokeMiterlimit:C,paintOrder:z}){null===$&&(s=null,c=null),null===A&&(l=null,u=null),_g($)?_g(A)||_g(s)&&!(null==k?void 0:k.fill)||(A="none"):!_g(A)||_g(l)&&!(null==k?void 0:k.stroke)||($="none");const[D,F]=Up(s,$),[P,O]=jp(c,T),[U,j]=Up(l,A),[R,I]=jp(u,S),[B,q]=jp(b);xg(j)||(void 0===f&&(f=E),void 0===d&&(d=N),void 0===h&&(h=L),void 0!==p||/^\s*round\s*$/i.test(h)||(p=C),xg(F)||void 0!==_||(_=z));const[H,W]=jp(f);return null!==$&&(t.fill=Em(F,"currentColor"),t.fillOpacity=Nm(O,1)),null!==A&&(t.stroke=Em(j,"none"),t.strokeWidth=Nm(W,1),t.strokeOpacity=Nm(I,1),t.strokeLinejoin=Em(h,"miter"),t.strokeLinecap=Em(d,"butt"),t.strokeMiterlimit=Nm(p,4),t.strokeDasharray=Em(g,"none"),t.strokeDashoffset=Em(y,"0")),t.target=Sp(a),t.ariaLabel=Sp(M),t.ariaDescription=Sp(r),t.ariaHidden=Sp(o),t.opacity=Nm(q,1),t.mixBlendMode=Em(m,"normal"),t.imageFilter=Em(v,"none"),t.paintOrder=Em(_,"normal"),t.pointerEvents=Em(x,"auto"),t.shapeRendering=Em(w,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:i,optional:!0,filter:null},fill:{value:D,scale:"auto",optional:!0},fillOpacity:{value:P,scale:"auto",optional:!0},stroke:{value:U,scale:"auto",optional:!0},strokeOpacity:{value:R,scale:"auto",optional:!0},strokeWidth:{value:H,optional:!0},opacity:{value:B,scale:"auto",optional:!0}}}function gm(t,n){n&&t.text(t=>fm(n[t]))}function ym(t,n){n&&t.text(([t])=>fm(n[t]))}function bm(t,{target:n,tip:e},{ariaLabel:i,title:r,fill:o,fillOpacity:a,stroke:s,strokeOpacity:c,strokeWidth:l,opacity:f,href:u}){i&&Am(t,"aria-label",t=>i[t]),o&&Am(t,"fill",t=>o[t]),a&&Am(t,"fill-opacity",t=>a[t]),s&&Am(t,"stroke",t=>s[t]),c&&Am(t,"stroke-opacity",t=>c[t]),l&&Am(t,"stroke-width",t=>l[t]),f&&Am(t,"opacity",t=>f[t]),u&&Tm(t,t=>u[t],n),e||function(t,n){n&&t.filter(t=>zd(n[t])).append("title").call(gm,n)}(t,r)}function mm(t,{target:n,tip:e},{ariaLabel:i,title:r,fill:o,fillOpacity:a,stroke:s,strokeOpacity:c,strokeWidth:l,opacity:f,href:u}){i&&Am(t,"aria-label",([t])=>i[t]),o&&Am(t,"fill",([t])=>o[t]),a&&Am(t,"fill-opacity",([t])=>a[t]),s&&Am(t,"stroke",([t])=>s[t]),c&&Am(t,"stroke-opacity",([t])=>c[t]),l&&Am(t,"stroke-width",([t])=>l[t]),f&&Am(t,"opacity",([t])=>f[t]),u&&Tm(t,([t])=>u[t],n),e||function(t,n){n&&t.filter(([t])=>zd(n[t])).append("title").call(ym,n)}(t,r)}function*vm(t,n,e,i){const{z:r}=e,{z:o}=i,a=function({ariaLabel:t,title:n,fill:e,fillOpacity:i,stroke:r,strokeOpacity:o,strokeWidth:a,opacity:s,href:c},{tip:l}){return[t,l?void 0:n,e,i,r,o,a,s,c].filter(t=>void 0!==t)}(i,e),s=[...n,...a];for(const c of o?function(t,n,e){const i=V(t,t=>n[t]);return void 0===e&&i.size>1+t.length>>1&&Jy("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),i.values()}(t,o,r):[t]){let t,n;t:for(const e of c){for(const t of s)if(!Nd(t[e])){n&&n.push(-1);continue t}if(void 0!==t){n.push(e);for(let i=0;i<a.length;++i){if(ig(a[i][e])!==t[i]){yield n,t=a.map(t=>ig(t[e])),n=[e];continue t}}}else n&&(yield n),t=a.map(t=>ig(t[e])),n=[e]}n&&(yield n)}}function _m(t,n,e,i){let r;const{clip:o=i.clip}=n;"frame"===o?(t=im("svg:g",i).each(function(){this.appendChild(t.node()),t.node=()=>this}),r=xm(i,e)):o&&(r=function(t,n){let e,i;(e=wm.get(n))||wm.set(n,e=new WeakMap);"Sphere"===t.type&&(t=km);if(!(i=e.get(t))){const r=dm();kn(n.ownerSVGElement).append("clipPath").attr("id",r).append("path").attr("d",n.path()(t)),e.set(t,i=`url(#${r})`)}return i}(o,i)),Am(t,"aria-label",n.ariaLabel),Am(t,"aria-description",n.ariaDescription),Am(t,"aria-hidden",n.ariaHidden),Am(t,"clip-path",r)}const xm=function(t){const n=new WeakMap;return(e,i)=>{let r=n.get(e);if(!r){const o=dm();kn(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,i),n.set(e,r=`url(#${o})`)}return r}}((t,n,e)=>{const{width:i,height:r,marginLeft:o,marginRight:a,marginTop:s,marginBottom:c}=e;t.append("rect").attr("x",o).attr("y",s).attr("width",i-a-o).attr("height",r-s-c)}),wm=new WeakMap,km={type:"Sphere"};function Mm(t,n,e,i){_m(t,n,e,i),Am(t,"class",n.className),Am(t,"fill",n.fill),Am(t,"fill-opacity",n.fillOpacity),Am(t,"stroke",n.stroke),Am(t,"stroke-width",n.strokeWidth),Am(t,"stroke-opacity",n.strokeOpacity),Am(t,"stroke-linejoin",n.strokeLinejoin),Am(t,"stroke-linecap",n.strokeLinecap),Am(t,"stroke-miterlimit",n.strokeMiterlimit),Am(t,"stroke-dasharray",n.strokeDasharray),Am(t,"stroke-dashoffset",n.strokeDashoffset),Am(t,"shape-rendering",n.shapeRendering),Am(t,"filter",n.imageFilter),Am(t,"paint-order",n.paintOrder);const{pointerEvents:r=(!1===i.pointerSticky?"none":void 0)}=n;Am(t,"pointer-events",r)}function $m(t,n){!function(t,n,e){null!=e&&t.style(n,e)}(t,"mix-blend-mode",n.mixBlendMode),Am(t,"opacity",n.opacity)}function Tm(t,n,e){t.each(function(t){const i=n(t);if(null!=i){const t=this.ownerDocument.createElementNS(ut.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(ut.xlink,"href",i),null!=e&&t.setAttribute("target",e),this.parentNode.insertBefore(t,this).appendChild(this)}})}function Am(t,n,e){null!=e&&t.attr(n,e)}function Sm(t,n,{x:e,y:i},r=um,o=um){r+=n.dx,o+=n.dy,(null==e?void 0:e.bandwidth)&&(r+=e.bandwidth()/2),(null==i?void 0:i.bandwidth)&&(o+=i.bandwidth()/2),(r||o)&&t.attr("transform",`translate(${r},${o})`)}function Em(t,n){if((t=Sp(t))!==n)return t}function Nm(t,n){if((t=Ep(t))!==n)return t}const Lm=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Cm(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!Lm.test(t))throw new Error(`invalid class name: ${t}`);return t}function zm(t,n){if("string"==typeof n)t.property("style",n);else if(null!=n)for(const e of t)Object.assign(e.style,n)}function Dm({frameAnchor:t},{width:n,height:e,marginTop:i,marginRight:r,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-r:(a+n-r)/2,/^top/.test(t)?i:/^bottom/.test(t)?e-o:(i+e-o)/2]}class Fm{constructor(t,n={},e={},i){const{facet:r="auto",facetAnchor:o,fx:a,fy:s,sort:c,dx:l=0,dy:f=0,margin:u=0,marginTop:h=u,marginRight:d=u,marginBottom:p=u,marginLeft:g=u,className:y,clip:b=(null==i?void 0:i.clip),channels:m,tip:v,render:_}=e;if(this.data=t,this.sort=Gp(c)?c:null,this.initializer=qg(e).initializer,this.transform=this.initializer?e.transform:Bg(e).transform,null===r||!1===r?this.facet=null:(this.facet=Ip(!0===r?"include":r,"facet",["auto","include","exclude","super"]),this.fx=t===kp&&"string"==typeof a?[a]:a,this.fy=t===kp&&"string"==typeof s?[s]:s),this.facetAnchor=function(t){if(null==t)return null;const n=zb.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}(o),n=Mg(n),void 0!==m&&(n={...Um(m),...n}),void 0!==i&&(n={...pm(this,e,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([n,e])=>{if(Zp(e.value)){const{value:t,label:n=e.label,scale:i=e.scale}=e.value;e={...e,label:n,scale:i,value:t}}if(t===kp&&"string"==typeof e.value){const{value:t}=e;e={...e,value:[t]}}return[n,e]}).filter(([t,{value:n,optional:e}])=>{if(null!=n)return!0;if(e)return!1;throw new Error(`missing channel value: ${t}`)})),this.dx=+l,this.dy=+f,this.marginTop=+h,this.marginRight=+d,this.marginBottom=+p,this.marginLeft=+g,this.clip=$g(b),this.tip=function(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?Ip(t,"tip",["x","y","xy"]):t}(v),this.className=Sp(y),"super"===this.facet){if(a||s)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:e}=n[t];if("x"===e||"y"===e)throw new Error("super-faceting cannot use x or y")}}null!=_&&(this.render=Om(_,this.render))}initialize(t,n,e){let i=Bp(this.data);void 0===t&&null!=i&&(t=[tg(i)]);const r=t;null!=this.transform&&(({facets:t,data:i}=this.transform(i,t,e)),i=Bp(i)),void 0!==t&&(t.original=r);const o=fy(this.channels,i);return null!=this.sort&&function(t,n,e,i,r){const{order:o,reverse:a,reduce:s=!0,limit:c}=r;for(const l in r){if(!Fg.has(l))continue;let{value:f,order:u=o,reverse:h=a,reduce:d=s,limit:p=c}=cg(r[l]);const y=null==f?void 0:f.startsWith("-");if(y&&(f=f.slice(1)),u=void 0===u?y!==("width"===f||"height"===f)?vy:my:by(u),null==d||!1===d)continue;const b="fx"===l||"fy"===l?py(n,i[l]):dy(e,l);if(!b)throw new Error(`missing channel for scale: ${l}`);const m=b.value,[v=0,_=1/0]=lg(p)?p:p<0?[p]:[0,p];if(null==f)b.domain=()=>{let t=Array.from(new g(m));return h&&(t=t.reverse()),0===v&&_===1/0||(t=t.slice(v,_)),t};else{const n="data"===f?t:"height"===f?gy(e,"y1","y2"):"width"===f?gy(e,"x1","x2"):yy(e,f,"y"===f?"y2":"x"===f?"x2":void 0),i=Kg(!0===d?"max":d,n);b.domain=()=>{let t=M(tg(m),t=>i.reduceIndex(t,n),t=>m[t]);return u&&t.sort(u),h&&t.reverse(),0===v&&_===1/0||(t=t.slice(v,_)),t.map(Np)}}}}(i,t,o,n,this.sort),{data:i,facets:t,channels:o}}filter(t,n,e){for(const i in n){const{filter:r=Nd}=n[i];if(null!==r){const n=e[i];t=t.filter(t=>r(n[t]))}}return t}project(t,n,e){for(const i in t)if("x"===t[i].scale&&/^x|x$/.test(i)){const r=i.replace(/^x|x$/,"y");r in t&&"y"===t[r].scale&&Qb(i,r,n,e.projection)}}scale(t,n,e){const i=uy(t,n);return e.projection&&this.project(t,i,e),i}}function Pm(...t){return t.plot=Fm.prototype.plot,t}function Om(t,n){if(null==t)return null===n?void 0:n;if(null==n)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof n)throw new TypeError(`invalid render transform: ${n}`);return function(e,i,r,o,a,s){return t.call(this,e,i,r,o,a,(t,e,i,r,o)=>n.call(this,t,e,i,r,o,s))}}function Um(t){return Object.fromEntries(Object.entries(Mg(t)).map(([t,n])=>(void 0===(n="string"==typeof n?{value:n,label:t}:cg(n)).filter&&null==n.scale&&(n={...n,filter:null}),[t,n])))}function jm(t,n){return!0===(null==t?void 0:t.tip)?{...t,tip:n}:Vp(null==t?void 0:t.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:n}}:t}function Rm({x:t,y:n,fy:e,fx:i},{projection:r,aspectRatio:o},{width:a,marginTopDefault:s,marginRightDefault:c,marginBottomDefault:l,marginLeftDefault:f}){const u=e&&e.scale.domain().length||1,h=function(t){if("function"==typeof(null==t?void 0:t.stream))return Yb;if(Vp(t)){let n,e;if(({domain:n,type:t,...e}=t),null!=n&&null!=t){const i="string"==typeof t?Xb(t).type:t,[[r,o],[a,s]]=ks(i({...e,width:100,height:100})).bounds(n),c=(s-o)/(a-r);return c&&isFinite(c)?c<.2?.2:c>5?5:c:Yb}}if(null!=t){if("function"!=typeof t){const{aspectRatio:n}=Xb(t);if(n)return n}return Yb}}(r);if(h){const t=(1.1*u-.1)/(1.1*(i?i.scale.domain().length:1)-.1)*h,n=Math.max(.1,Math.min(10,t));return Math.round((a-f-c)*n+s+l)}const d=n?$b(n)?n.scale.domain().length||1:Math.max(7,17/u):1;if(null!=o){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const r=Im("y",n)/(Im("x",t)*o),u=i?i.scale.bandwidth():1,h=e?e.scale.bandwidth():1;return(r*(u*(a-f-c)-t.insetLeft-t.insetRight)+n.insetTop+n.insetBottom)/h+s+l}return!(!n&&!e)*Math.max(1,Math.min(60,d*u))*20+30*!!i+60}function Im(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:i,domain:r}=e;let o;switch(i){case"linear":case"utc":case"time":o=Number;break;case"pow":{const t=e.scale.exponent();o=n=>Math.pow(n,t);break}case"log":o=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${i}`)}const[a,s]=n(r);return Math.abs(o(s)-o(a))}const Bm=new WeakMap;function qm(t,n,{x:e,y:i,px:r,py:o,maxRadius:a=40,channels:s,render:c,...l}={}){return a=+a,null!=r&&(e??(e=null),s={...s,px:{value:r,scale:"x"}}),null!=o&&(i??(i=null),s={...s,py:{value:o,scale:"y"}}),{x:e,y:i,channels:s,...l,render:Om(function(e,i,r,o,s,c){const l=(s={...s,pointerSticky:!1}).ownerSVGElement,{data:f}=s.getMarkState(this);let u=Bm.get(l);u||Bm.set(l,u={sticky:!1,roots:[],renders:[]});let h=u.renders.push(C)-1;const{x:d,y:p,fx:g,fy:y}=i;let b=g?g(e.fx)-o.marginLeft:0,m=y?y(e.fy)-o.marginTop:0;(null==d?void 0:d.bandwidth)&&(b+=d.bandwidth()/2),(null==p?void 0:p.bandwidth)&&(m+=p.bandwidth()/2);const v=null!=e.fi;let _;if(v){let t=u.facetStates;t||(u.facetStates=t=new Map),_=t.get(this),_||t.set(this,_=new Map)}const[x,w]=Dm(this,o),{px:k,py:M}=r,$=k?t=>k[t]:Vm(r,x),T=M?t=>M[t]:Xm(r,w);let A,S,E,N;function L(t,n){if(v){if(N&&(N=cancelAnimationFrame(N)),null!=t)return _.set(e.fi,n),void(N=requestAnimationFrame(()=>{N=null;for(const[i,r]of _)if(r<n||r===n&&i<e.fi){t=null;break}C(t)}));_.delete(e.fi)}C(t)}function C(t){if(A===t&&E===u.sticky)return;A=t,E=s.pointerSticky=u.sticky;const n=null==A?[]:[A];v&&(n.fx=e.fx,n.fy=e.fy,n.fi=e.fi);const a=c(n,i,r,o,s);if(S){if(v){const t=S.parentNode,n=S.getAttribute("transform"),e=a.getAttribute("transform");n?a.setAttribute("transform",n):a.removeAttribute("transform"),e?t.setAttribute("transform",e):t.removeAttribute("transform"),a.removeAttribute("aria-label"),a.removeAttribute("aria-description"),a.removeAttribute("aria-hidden")}S.replaceWith(a)}if(u.roots[h]=S=a,!(null==A&&(null==_?void 0:_.size)>1)){const t=null==A?null:pp(f)?f[A]:f.get(A);s.dispatchValue(t)}return a}function z(i){if(u.sticky||"mouse"===i.pointerType&&1===i.buttons)return;let[r,s]=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(n.getScreenCTM().inverse())).x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}(i);r-=b,s-=m;const c=r<o.marginLeft||r>o.width-o.marginRight?1:t,l=s<o.marginTop||s>o.height-o.marginBottom?1:n;let f=null,h=a*a;for(const t of e){const n=c*($(t)-r),e=l*(T(t)-s),i=n*n+e*e;i<=h&&(f=t,h=i)}if(null!=f&&(1!==t||1!==n)){const t=$(f)-r,n=T(f)-s;h=t*t+n*n}L(f,h)}return l.addEventListener("pointerenter",z),l.addEventListener("pointermove",z),l.addEventListener("pointerdown",function(t){"mouse"===t.pointerType&&null!=A&&(u.sticky&&u.roots.some(n=>null==n?void 0:n.contains(t.target))||(u.sticky?(u.sticky=!1,u.renders.forEach(t=>t(null))):(u.sticky=!0,C(A)),t.stopImmediatePropagation()))}),l.addEventListener("pointerleave",function(t){"mouse"===t.pointerType&&(u.sticky||L(null))}),C(null)},c)}}function Hm(t){return qm(1,1,t)}function Wm(t){return qm(1,.01,t)}function Ym(t){return qm(.01,1,t)}function Vm({x1:t,x2:n,x:e=t},i){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>i}function Xm({y1:t,y2:n,y:e=t},i){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>i}function Zm(t){return $b(t)&&void 0===t.interval?void 0:"tabular-nums"}function Gm(t,n){let{label:e=t.label,tickSize:i=6,width:r=240,height:o=44+i,marginTop:a=18,marginRight:s=0,marginBottom:c=16+i,marginLeft:l=0,style:f,ticks:u=(r-l-s)/64,tickFormat:h,fontVariant:d=Zm(t),round:p=!0,opacity:g,className:y}=n;const b=em(n);y=Cm(y),g=jp(g)[1],null===h&&(h=()=>null);const m=im("svg",b).attr("class",`${y}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",r).attr("height",o).attr("viewBox",`0 0 ${r} ${o}`).call(t=>t.append("style").text(`:where(.${y}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${y}-ramp text) {\n  white-space: pre;\n}`)).call(zm,f);let v,_=t=>t.selectAll(".tick line").attr("y1",a+c-o);const x=p?(t,n)=>t.rangeRound(n):(t,n)=>t.range(n),{type:w,domain:k,range:M,interpolate:$,scale:T,pivot:A}=t;if($){const t=void 0===M?$:fi(1===$.length?Xy($):$,M);v=x(T.copy(),ui(We(l,r-s),Math.min(k.length+(void 0!==A),void 0===M?1/0:M.length)));const n=256,e=b.document.createElement("canvas");e.width=n,e.height=1;const i=e.getContext("2d");for(let r=0,o=n-1;r<n;++r)i.fillStyle=t(r/o),i.fillRect(r,0,1,1);m.append("image").attr("opacity",g).attr("x",l).attr("y",a).attr("width",r-l-s).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",e.toDataURL())}else if("threshold"===w){const t=k,n=void 0===h?t=>t:"string"==typeof h?uo(h):h;v=x(C().domain([-1,M.length-1]),[l,r-s]),m.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",(t,n)=>v(n-1)).attr("y",a).attr("width",(t,n)=>v(n)-v(n-1)).attr("height",o-a-c).attr("fill",t=>t),u=Wp(t,(t,n)=>n),h=e=>n(t[e],e)}else v=x(j().domain(k),[l,r-s]),m.append("g").attr("fill-opacity",g).selectAll().data(k).enter().append("rect").attr("x",v).attr("y",a).attr("width",Math.max(0,v.bandwidth()-1)).attr("height",o-a-c).attr("fill",T),_=()=>{};return m.append("g").attr("transform",`translate(0,${o-c})`).call(function(t){return rt(0,t)}(v).ticks(Array.isArray(u)?null:u,"string"==typeof h?h:void 0).tickFormat("function"==typeof h?h:void 0).tickSize(i).tickValues(Array.isArray(u)?u:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Em(d,"normal")).call(_).call(t=>t.select(".domain").remove()),void 0!==e&&m.append("text").attr("x",l).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),m.node()}const Jm=Math.PI/180;function Km(t,{marker:n,markerStart:e=n,markerMid:i=n,markerEnd:r=n}={}){t.markerStart=Qm(e),t.markerMid=Qm(i),t.markerEnd=Qm(r)}function Qm(t){if(null==t||!1===t)return null;if(!0===t)return ev;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return tv("auto");case"arrow-reverse":return tv("auto-start-reverse");case"dot":return nv;case"circle":case"circle-fill":return ev;case"circle-stroke":return iv;case"tick":return rv("auto");case"tick-x":return rv(90);case"tick-y":return rv(0)}throw new Error(`invalid marker: ${t}`)}function tv(t){return(n,e)=>im("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function nv(t,n){return im("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function ev(t,n){return im("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function iv(t,n){return im("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function rv(t){return(n,e)=>im("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(t=>t.append("path").attr("d","M0,-3v6")).node()}let ov=0;function av(t,n,{stroke:e},i){return fv(t,n,e&&(t=>e[t]),null,i)}function sv(t,n,{stroke:e,z:i},r){return fv(t,n,e&&(([t])=>e[t]),i,r)}const cv=1,lv=2;function fv(t,{markerStart:n,markerMid:e,markerEnd:i,stroke:r},o=()=>r,a,s){if(!n&&!e&&!i)return;const c=new Map,l=a&&function(t,n){const e=new Uint8Array(n.length),i=t.data().filter(t=>t.length>1),r=i.length;for(let o=0,a=rm;o<r;++o){const t=i[o];if(t.length>1){const i=t[0];a!==(a=ig(n[i]))&&(e[i]|=cv)}}for(let o=r-1,a=rm;o>=0;--o){const t=i[o];if(t.length>1){const i=t[0];a!==(a=ig(n[i]))&&(e[i]|=lv)}}return([t])=>e[t]}(t,a);function f(t,n,e){return function(i){if(e&&!e(i))return;const r=o(i);let a=c.get(n);a||c.set(n,a=new Map);let l=a.get(r);if(!l){const t=this.parentNode.insertBefore(n(r,s),this),e="plot-marker-"+ ++ov;t.setAttribute("id",e),a.set(r,l=`url(#${e})`)}this.setAttribute(t,l)}}n&&t.each(f("marker-start",n,l&&(t=>l(t)&cv))),e&&l&&t.each(f("marker-start",e,t=>!(l(t)&cv))),e&&t.each(f("marker-mid",e)),i&&t.each(f("marker-end",i,l&&(t=>l(t)&lv)))}function uv({inset:t,insetLeft:n,insetRight:e,...i}={}){return[n,e]=dv(t,n,e),{inset:t,insetLeft:n,insetRight:e,...i}}function hv({inset:t,insetTop:n,insetBottom:e,...i}={}){return[n,e]=dv(t,n,e),{inset:t,insetTop:n,insetBottom:e,...i}}function dv(t,n,e){return void 0===t&&void 0===n&&void 0===e?um?[1,0]:[.5,.5]:[n,e]}function pv(t,{interval:n}){return(t={...cg(t)}).interval=ag(void 0===t.interval?n:t.interval),t}function gv(t,n,e,i){const{[t]:r,[`${t}1`]:o,[`${t}2`]:a}=e,{value:s,interval:c}=pv(r,e);if(null==s||null==c&&!i)return e;const l=rg(r);if(null==c){let n;const r={transform:t=>n||(n=mp(t,s)),label:l};return{...e,[t]:void 0,[`${t}1`]:void 0===o?r:o,[`${t}2`]:void 0!==a||o===a&&i?a:r}}let f,u;function h(t){return void 0!==u&&t===f?u:u=Wp(mp(f=t,s),t=>c.floor(t))}return n({...e,[t]:void 0,[`${t}1`]:void 0===o?{transform:h,label:l}:o,[`${t}2`]:void 0===a?{transform:t=>h(t).map(t=>c.offset(t)),label:l}:a})}function yv(t,n,e){const{[t]:i}=e,{value:r,interval:o}=pv(i,e);return null==r||null==o?e:n({...e,[t]:{label:rg(i),transform:t=>{const n=Wp(mp(t,r),t=>o.floor(t)),e=n.map(t=>o.offset(t));return n.map(hg(n)?(t,n)=>null==t||isNaN(t=+t)||null==(n=e[n])||isNaN(n=+n)?void 0:new Date((t+n)/2):(t,n)=>null==t||null==(n=e[n])?NaN:(+t+ +n)/2)}}})}const bv={ariaLabel:"rule",fill:null,stroke:"currentColor"};class mv extends Fm{constructor(t,n={}){const{x:e,y1:i,y2:r,inset:o=0,insetTop:a=o,insetBottom:s=o}=n;super(t,{x:{value:e,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:r,scale:"y",optional:!0}},jm(n,"x"),bv),this.insetTop=Ep(a),this.insetBottom=Ep(s),Km(this,n)}render(t,n,e,i,r){const{x:o,y:a}=n,{x:s,y1:c,y2:l}=e,{width:f,height:u,marginTop:h,marginRight:d,marginLeft:p,marginBottom:g}=i,{insetTop:y,insetBottom:b}=this;return im("svg:g",r).call(Mm,this,i,r).call(Sm,this,{x:s&&o},um,0).call(n=>n.selectAll().data(t).enter().append("line").call($m,this).attr("x1",s?t=>s[t]:(p+f-d)/2).attr("x2",s?t=>s[t]:(p+f-d)/2).attr("y1",c&&!Ab(a)?t=>c[t]+y:h+y).attr("y2",l&&!Ab(a)?a.bandwidth?t=>l[t]+a.bandwidth()-b:t=>l[t]-b:u-g-b).call(bm,this,e).call(av,this,e,r)).node()}}class vv extends Fm{constructor(t,n={}){const{x1:e,x2:i,y:r,inset:o=0,insetRight:a=o,insetLeft:s=o}=n;super(t,{y:{value:r,scale:"y",optional:!0},x1:{value:e,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},jm(n,"y"),bv),this.insetRight=Ep(a),this.insetLeft=Ep(s),Km(this,n)}render(t,n,e,i,r){const{x:o,y:a}=n,{y:s,x1:c,x2:l}=e,{width:f,height:u,marginTop:h,marginRight:d,marginLeft:p,marginBottom:g}=i,{insetLeft:y,insetRight:b}=this;return im("svg:g",r).call(Mm,this,i,r).call(Sm,this,{y:s&&a},0,um).call(n=>n.selectAll().data(t).enter().append("line").call($m,this).attr("x1",c&&!Ab(o)?t=>c[t]+y:p+y).attr("x2",l&&!Ab(o)?o.bandwidth?t=>l[t]+o.bandwidth()-b:t=>l[t]-b:f-d-b).attr("y1",s?t=>s[t]:(h+u-g)/2).attr("y2",s?t=>s[t]:(h+u-g)/2).call(bm,this,e).call(av,this,e,r)).node()}}function _v(t,n){let{x:e=Tp,y:i,y1:r,y2:o,...a}=function(t={}){return gv("y",hv,t)}(n);return[r,o]=wv(i,r,o),new mv(t,{...a,x:e,y1:r,y2:o})}function xv(t,n){let{y:e=Tp,x:i,x1:r,x2:o,...a}=function(t={}){return gv("x",uv,t)}(n);return[r,o]=wv(i,r,o),new vv(t,{...a,y:e,x1:r,x2:o})}function wv(t,n,e){if(null==t){if(void 0===n){if(void 0!==e)return[0,e]}else if(void 0===e)return[0,n]}else{if(void 0===n)return void 0===e?[0,t]:[t,e];if(void 0===e)return[t,n]}return[n,e]}function kv(t,...n){let e=n.length;for(let i=0,r=!0;i<e;++i)"function"!=typeof n[i]&&(r&&(t=t.slice(),r=!1),t.splice(i,2,t[i]+n[i]+t[i+1]),n.splice(i,1),--i,--e);return i=>{let r=t[0];for(let o=0;o<e;++o)r+=n[o](i)+t[o+1];return r}}const Mv={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"};class $v extends Fm{constructor(t,n={}){const{x:e,y:i,text:r=(lg(t)&&fg(t)?Tp:$p),frameAnchor:o,textAnchor:a=(/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle"),lineAnchor:s=(/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle"),lineHeight:c=1,lineWidth:l=1/0,textOverflow:f,monospace:u,fontFamily:h=(u?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:p,fontVariant:g,fontWeight:y,rotate:b}=n,[m,v]=jp(b,0),[_,x]=function(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),Cv.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(d);var w;if(super(t,{x:{value:e,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:_,optional:!0},rotate:{value:(w=m,null==w?null:{transform:t=>mp(t,w,Float64Array),label:rg(w)}),optional:!0},text:{value:r,filter:zd,optional:!0}},n,Mv),this.rotate=v,this.textAnchor=Em(a,"middle"),this.lineAnchor=Ip(s,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+l,this.textOverflow=Tv(f),this.monospace=!!u,this.fontFamily=Sp(h),this.fontSize=x,this.fontStyle=Sp(p),this.fontVariant=Sp(g),this.fontWeight=Sp(y),this.frameAnchor=kg(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=Ov(this),this.clipLine=Uv(this)}render(t,n,e,i,r){const{x:o,y:a}=n,{x:s,y:c,rotate:l,text:f,title:u,fontSize:h}=e,{rotate:d}=this,[p,g]=Dm(this,i);return im("svg:g",r).call(Mm,this,i,r).call(Lv,this,f,i).call(Sm,this,{x:s&&o,y:c&&a}).call(n=>n.selectAll().data(t).enter().append("text").call($m,this).call(Av,this,f,u).attr("transform",kv`translate(${s?t=>s[t]:p},${c?t=>c[t]:g})${l?t=>` rotate(${l[t]})`:d?` rotate(${d})`:""}`).call(Am,"font-size",h&&(t=>h[t])).call(bm,this,e)).node()}}function Tv(t){return null==t?null:Ip(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Av(t,n,e,i){if(!e)return;const{lineAnchor:r,lineHeight:o,textOverflow:a,splitLines:s,clipLine:c}=n;t.each(function(t){const n=s(fm(e[t])??"").map(c),l=n.length,f="top"===r?.71:"bottom"===r?1-l:(164-100*l)/200;if(l>1){let t=0;for(let e=0;e<l;++e){if(++t,!n[e])continue;const i=this.ownerDocument.createElementNS(ut.svg,"tspan");i.setAttribute("x",0),e===t-1?i.setAttribute("y",(f+e)*o+"em"):i.setAttribute("dy",t*o+"em"),i.textContent=n[e],this.appendChild(i),t=0}}else f&&this.setAttribute("y",f*o+"em"),this.textContent=n[0];if(a&&!i&&n[0]!==e[t]){const n=this.ownerDocument.createElementNS(ut.svg,"title");n.textContent=e[t],this.appendChild(n)}})}function Sv(t,{x:n,y:e,...i}={}){return void 0===i.frameAnchor&&([n,e]=Jp(n,e)),new $v(t,{...i,x:n,y:e})}function Ev(t,{x:n=Tp,...e}={}){return new $v(t,function(t={}){return yv("y",hv,t)}({...e,x:n}))}function Nv(t,{y:n=Tp,...e}={}){return new $v(t,function(t={}){return yv("x",uv,t)}({...e,y:n}))}function Lv(t,n,e){Am(t,"text-anchor",n.textAnchor),Am(t,"font-family",n.fontFamily),Am(t,"font-size",n.fontSize),Am(t,"font-style",n.fontStyle),Am(t,"font-variant",void 0===n.fontVariant?function(t){return t&&(gg(t)||hg(t))?"tabular-nums":void 0}(e):n.fontVariant),Am(t,"font-weight",n.fontWeight)}const Cv=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function zv(t,n,e){const i=[];let r,o=0;for(const[a,s,c]of function*(t){let n=0,e=0;const i=t.length;for(;e<i;){let i=1;switch(t[e]){case"":case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];" "===t[++e];);n=e;break;case"\r":"\n"===t[e+1]&&++i;case"\n":yield[n,e,!0],e+=i,n=e;break;default:++e}}yield[n,e,!0]}(t))void 0===r&&(r=a),o>r&&e(t,r,s)>n&&(i.push(t.slice(r,o)+(""===t[o-1]?"-":"")),r=a),c?(i.push(t.slice(r,s)),r=void 0):o=s;return i}const Dv={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Fv(t,n=0,e=t.length){let i=0;for(let r=n;r<e;r=Wv(t,r))i+=Dv[t[r]]??(Vv(t,r)?120:Dv.e);return i}function Pv(t,n=0,e=t.length){let i=0;for(let r=n;r<e;r=Wv(t,r))i+=Vv(t,r)?126:63;return i}function Ov({monospace:t,lineWidth:n,textOverflow:e}){if(null!=e||n==1/0)return t=>t.split(/\r\n?|\n/g);const i=t?Pv:Fv,r=100*n;return t=>zv(t,r,i)}function Uv({monospace:t,lineWidth:n,textOverflow:e}){if(null==e||n==1/0)return t=>t;const i=t?Pv:Fv,r=100*n;switch(e){case"clip-start":return t=>Bv(t,r,i,"");case"clip-end":return t=>Iv(t,r,i,"");case"ellipsis-start":return t=>Bv(t,r,i,jv);case"ellipsis-middle":return t=>function(t,n,e,i){t=t.trim();const r=e(t);if(r<=n)return t;const o=e(i)/2,[a,s]=Rv(t,n/2,e,o),[c]=Rv(t,r-n/2-s+o,e,-o);return c<0?i:t.slice(0,a).trimEnd()+i+t.slice(Wv(t,c)).trimStart()}(t,r,i,jv);case"ellipsis-end":return t=>Iv(t,r,i,jv)}}const jv="";function Rv(t,n,e,i){const r=[];let o=0;for(let a=0,s=0,c=t.length;a<c;a=s){s=Wv(t,a);const c=e(t,a,s);if(o+c>n){for(o+=i;o>n&&a>0;)s=a,a=r.pop(),o-=e(t,a,s);return[a,n-o]}o+=c,r.push(a)}return[-1,0]}function Iv(t,n,e,i){t=t.trim();const r=e(i),[o]=Rv(t,n,e,r);return o<0?t:t.slice(0,o).trimEnd()+i}function Bv(t,n,e,i){const r=e(t=t.trim());if(r<=n)return t;const o=e(i),[a]=Rv(t,r-n+o,e,-o);return a<0?i:i+t.slice(Wv(t,a)).trimStart()}const qv=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Hv=new RegExp("\\p{Extended_Pictographic}","uy");function Wv(t,n){return n+=function(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const e=t.charCodeAt(n+1);return e>=56320&&e<57344}return!1}(t,n)?2:1,function(t,n){return!Yv(t,n)&&(qv.lastIndex=n,qv.test(t))}(t,n)&&(n=qv.lastIndex),function(t,n){return 8205===t.charCodeAt(n)}(t,n)?Wv(t,n+1):n}function Yv(t,n){return t.charCodeAt(n)<128}function Vv(t,n){return!Yv(t,n)&&(Hv.lastIndex=n,Hv.test(t))}const Xv={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Zv=3.5,Gv=5*Zv,Jv={draw(t,n,e){const i=n*e/Gv;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-i,i-n),t.lineTo(0,-n),t.lineTo(i,i-n)}},Kv=new Map([["arrow",Jv],["spike",{draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}}]]);class Qv extends Fm{constructor(t,n={}){const{x:e,y:i,r:r=Zv,length:o,rotate:a,shape:s=Jv,anchor:c="middle",frameAnchor:l}=n,[f,u]=jp(o,12),[h,d]=jp(a,0);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:f,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,Xv),this.r=+r,this.length=u,this.rotate=d,this.shape=function(t){if(function(t){return t&&"function"==typeof t.draw}(t))return t;const n=Kv.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}(s),this.anchor=Ip(c,"anchor",["start","middle","end"]),this.frameAnchor=kg(l)}render(t,n,e,i,r){const{x:o,y:a}=n,{x:s,y:c,length:l,rotate:f}=e,{length:u,rotate:h,anchor:d,shape:p,r:g}=this,[y,b]=Dm(this,i);return im("svg:g",r).call(Mm,this,i,r).call(Sm,this,{x:s&&o,y:c&&a}).call(n=>n.selectAll().data(t).enter().append("path").call($m,this).attr("transform",kv`translate(${s?t=>s[t]:y},${c?t=>c[t]:b})${f?t=>` rotate(${f[t]})`:h?` rotate(${h})`:""}${"start"===d?"":"end"===d?l?t=>` translate(0,${l[t]})`:` translate(0,${u})`:l?t=>` translate(0,${l[t]/2})`:` translate(0,${u/2})`}`).attr("d",l?t=>{const n=hr();return p.draw(n,l[t],g),n}:(()=>{const t=hr();return p.draw(t,u,g),t})()).call(bm,this,e)).node()}}function t_(t,n={}){const{x:e=Tp,...i}=n;return new Qv(t,{...i,x:e})}function n_(t,n={}){const{y:e=Tp,...i}=n;return new Qv(t,{...i,y:e})}function e_(t,n){return arguments.length<2&&!lg(t)&&(n=t,t=null),void 0===n&&(n={}),[t,n]}function i_({anchor:t}={},n){return void 0===t?n[0]:Ip(t,"anchor",n)}function r_(t){return i_(t,["left","right"])}function o_(t){return i_(t,["right","left"])}function a_(t){return i_(t,["bottom","top"])}function s_(t){return i_(t,["top","bottom"])}function c_(){const[t,n]=e_(...arguments);return h_("y",r_(n),t,n)}function l_(){const[t,n]=e_(...arguments);return h_("fy",o_(n),t,n)}function f_(){const[t,n]=e_(...arguments);return d_("x",a_(n),t,n)}function u_(){const[t,n]=e_(...arguments);return d_("fx",s_(n),t,n)}function h_(t,n,e,{color:i="currentColor",opacity:r=1,stroke:o=i,strokeOpacity:a=r,strokeWidth:s=1,fill:c=i,fillOpacity:l=r,textAnchor:f,textStroke:u,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("y"===t?6:0),tickPadding:g,tickRotate:y,x:b,margin:m,marginTop:v=(void 0===m?20:m),marginRight:_=(void 0===m?"right"===n?40:0:m),marginBottom:x=(void 0===m?20:m),marginLeft:w=(void 0===m?"left"===n?40:0:m),label:k,labelAnchor:M,labelArrow:$,labelOffset:T,ariaLabel:A=`${t}-axis`,...S}){return p=Ep(p),g=Ep(g),y=Ep(y),void 0!==M&&(M=Ip(M,"labelAnchor",["center","top","bottom"])),$=C_($),Pm(p&&!_g(o)?function(t,n,e,{strokeWidth:i=1,strokeLinecap:r=null,strokeLinejoin:o=null,facetAnchor:a=n+("y"===t?"-empty":""),frameAnchor:s=n,tickSize:c,inset:l=0,insetLeft:f=l,insetRight:u=l,dx:h=0,y:d=("y"===t?void 0:null),ariaLabel:p,...g}){return w_(n_,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:i,strokeLinecap:r,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:d,...g,dx:"left"===n?+h-um+ +f:+h+um-u,anchor:"start",length:c,shape:"left"===n?S_:E_})}(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:y,x:b,ariaLabel:A,...S}):null,_g(c)?null:function(t,n,e,{facetAnchor:i=n+("y"===t?"-empty":""),frameAnchor:r=n,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Jm):0),text:c,textAnchor:l=(Math.abs(a)>60?"middle":"left"===n?"end":"start"),lineAnchor:f=(a>60?"top":a<-60?"bottom":"middle"),fontVariant:u,inset:h=0,insetLeft:d=h,insetRight:p=h,dx:g=0,ariaLabel:y,y:b=("y"===t?void 0:null),...m}){return w_(Nv,t,e,{ariaLabel:`${y} tick label`},{facetAnchor:i,frameAnchor:r,text:c,textAnchor:l,lineAnchor:f,fontVariant:u,rotate:a,y:b,...m,dx:"left"===n?+g-o-s+ +d:+g+ +o+ +s-p},function(t,e,i,r,o){void 0===u&&(this.fontVariant=N_(t)),void 0===c&&(o.text=k_(t,e,i,r,n))})}(t,n,e,{fill:c,fillOpacity:l,stroke:u,strokeOpacity:h,strokeWidth:d,textAnchor:f,tickSize:p,tickPadding:g,tickRotate:y,x:b,marginTop:v,marginRight:_,marginBottom:x,marginLeft:w,ariaLabel:A,...S}),_g(c)||null===k?null:Sv([],x_({fill:c,fillOpacity:l,...S},function(e,i,r,o,a){const s=o[t],{marginTop:c,marginRight:l,marginBottom:f,marginLeft:u}="y"===t&&a.inset||a,h=M??(s.bandwidth?"center":"top"),d=T??("right"===n?l:u)-3;return"center"===h?(this.textAnchor=void 0,this.lineAnchor="right"===n?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor="right"===n?"end":"start",this.lineAnchor=h,this.frameAnchor=`${h}-${n}`,this.rotate=0),this.dy="top"===h?3-c:"bottom"===h?f-3:0,this.dx="right"===n?d:-d,this.ariaLabel=`${A} label`,{facets:[[0]],channels:{text:{value:[L_(t,s,{anchor:n,label:k,labelAnchor:h,labelArrow:$})]}}}})))}function d_(t,n,e,{color:i="currentColor",opacity:r=1,stroke:o=i,strokeOpacity:a=r,strokeWidth:s=1,fill:c=i,fillOpacity:l=r,textAnchor:f,textStroke:u,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("x"===t?6:0),tickPadding:g,tickRotate:y,y:b,margin:m,marginTop:v=(void 0===m?"top"===n?30:0:m),marginRight:_=(void 0===m?20:m),marginBottom:x=(void 0===m?"bottom"===n?30:0:m),marginLeft:w=(void 0===m?20:m),label:k,labelAnchor:M,labelArrow:$,labelOffset:T,ariaLabel:A=`${t}-axis`,...S}){return p=Ep(p),g=Ep(g),y=Ep(y),void 0!==M&&(M=Ip(M,"labelAnchor",["center","left","right"])),$=C_($),Pm(p&&!_g(o)?function(t,n,e,{strokeWidth:i=1,strokeLinecap:r=null,strokeLinejoin:o=null,facetAnchor:a=n+("x"===t?"-empty":""),frameAnchor:s=n,tickSize:c,inset:l=0,insetTop:f=l,insetBottom:u=l,dy:h=0,x:d=("x"===t?void 0:null),ariaLabel:p,...g}){return w_(t_,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:i,strokeLinejoin:o,strokeLinecap:r,facetAnchor:a,frameAnchor:s,x:d,...g,dy:"bottom"===n?+h-um-u:+h+um+ +f,anchor:"start",length:c,shape:"bottom"===n?T_:A_})}(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:y,y:b,ariaLabel:A,...S}):null,_g(c)?null:function(t,n,e,{facetAnchor:i=n+("x"===t?"-empty":""),frameAnchor:r=n,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Jm):0),text:c,textAnchor:l=(Math.abs(a)>=10?a<0^"bottom"===n?"start":"end":"middle"),lineAnchor:f=(Math.abs(a)>=10?"middle":"bottom"===n?"top":"bottom"),fontVariant:u,inset:h=0,insetTop:d=h,insetBottom:p=h,dy:g=0,x:y=("x"===t?void 0:null),ariaLabel:b,...m}){return w_(Ev,t,e,{ariaLabel:`${b} tick label`},{facetAnchor:i,frameAnchor:r,text:void 0===c?null:c,textAnchor:l,lineAnchor:f,fontVariant:u,rotate:a,x:y,...m,dy:"bottom"===n?+g+ +o+ +s-p:+g-o-s+ +d},function(t,e,i,r,o){void 0===u&&(this.fontVariant=N_(t)),void 0===c&&(o.text=k_(t,e,i,r,n))})}(t,n,e,{fill:c,fillOpacity:l,stroke:u,strokeOpacity:h,strokeWidth:d,textAnchor:f,tickSize:p,tickPadding:g,tickRotate:y,y:b,marginTop:v,marginRight:_,marginBottom:x,marginLeft:w,ariaLabel:A,...S}),_g(c)||null===k?null:Sv([],x_({fill:c,fillOpacity:l,...S},function(e,i,r,o,a){const s=o[t],{marginTop:c,marginRight:l,marginBottom:f,marginLeft:u}="x"===t&&a.inset||a,h=M??(s.bandwidth?"center":"right"),d=T??("top"===n?c:f)-3;return"center"===h?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${h}`,this.textAnchor="right"===h?"end":"start"),this.lineAnchor=n,this.dy="top"===n?-d:d,this.dx="right"===h?l-3:"left"===h?3-u:0,this.ariaLabel=`${A} label`,{facets:[[0]],channels:{text:{value:[L_(t,s,{anchor:n,label:k,labelAnchor:h,labelArrow:$})]}}}})))}function p_(){const[t,n]=e_(...arguments);return m_("y",r_(n),t,n)}function g_(){const[t,n]=e_(...arguments);return m_("fy",o_(n),t,n)}function y_(){const[t,n]=e_(...arguments);return v_("x",a_(n),t,n)}function b_(){const[t,n]=e_(...arguments);return v_("fx",s_(n),t,n)}function m_(t,n,e,{y:i=("y"===t?void 0:null),x:r=null,x1:o=("left"===n?r:null),x2:a=("right"===n?r:null),ariaLabel:s=`${t}-grid`,ariaHidden:c=!0,...l}){return w_(xv,t,e,{ariaLabel:s,ariaHidden:c},{y:i,x1:o,x2:a,...__(l)})}function v_(t,n,e,{x:i=("x"===t?void 0:null),y:r=null,y1:o=("top"===n?r:null),y2:a=("bottom"===n?r:null),ariaLabel:s=`${t}-grid`,ariaHidden:c=!0,...l}){return w_(_v,t,e,{ariaLabel:s,ariaHidden:c},{x:i,y1:o,y2:a,...__(l)})}function __({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:i=n,strokeWidth:r=1,...o}){return{stroke:e,strokeOpacity:i,strokeWidth:r,...o}}function x_({fill:t,fillOpacity:n,fontFamily:e,fontSize:i,fontStyle:r,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:c,shapeRendering:l,clip:f=!1},u){return[,t]=Up(t),[,n]=jp(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:i,fontStyle:r,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:c,shapeRendering:l,clip:f,initializer:u}}function w_(t,e,i,r,o,a){let s;const c=qg(o).initializer,l=t(i,qg({...o,initializer:function(t,i,r,c,l,f){const u=null==t&&("fx"===e||"fy"===e),{[e]:h}=c;if(!h)throw new Error(`missing scale: ${e}`);const d=h.domain();let{interval:p,ticks:y,tickFormat:b,tickSpacing:m=("x"===e?80:35)}=o;if("string"==typeof y&&z_(h)&&(p=y,y=void 0),void 0===y&&(y=sg(p,h.type)??function(t,e){const[i,r]=n(t.range());return(r-i)/e}(h,m)),null==t){if(lg(y))t=qp(y);else if("function"==typeof(null==(v=y)?void 0:v.range))t=$_(y,...n(d));else if(h.interval){let e=h.interval;if(h.ticks){const[i,r]=n(d);e=cp(e,(r-i)/e[Qd]/y)??e,t=$_(e,i,r)}else{e=cp(e,(t=d).length/y)??e,e!==h.interval&&(t=$_(e,...n(t)))}if(e===h.interval){const n=Math.round(t.length/y);n>1&&(t=t.filter((t,e)=>e%n===0))}}else t=h.ticks?h.ticks(y):d;if(!h.ticks&&t.length&&t!==d){const n=new g(d);(t=t.filter(t=>n.has(t))).length||Jy(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===e||"x"===e?i=[tg(t)]:s[e]={scale:e,value:Tp}}var v;null==a||a.call(this,h,t,y,b,s);const _=Object.fromEntries(Object.entries(s).map(([n,e])=>[n,{...e,value:mp(t,e.value)}]));return u&&(i=f.filterFacets(t,_)),{data:t,facets:i,channels:_}}},c));return null==i?(s=l.channels,l.channels={}):s={},void 0!==r&&Object.assign(l,r),void 0===l.clip&&(l.clip=!1),l}function k_(t,n,e,i,r){return{value:M_(t,n,e,i,r)}}function M_(t,n,e,i,r){return"function"!=typeof i||"log"===t.type&&t.tickFormat?void 0===i&&n&&hg(n)?fp(t.type,n,r)??fm:t.tickFormat?t.tickFormat("number"==typeof e?e:null,i):"string"==typeof i&&t.domain().length>0?(hg(t.domain())?bl:uo)(i):void 0===i?fm:zp(i):i}function $_(t,n,e){return t.range(n,t.offset(t.floor(e)))}const T_={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},A_={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},S_={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},E_={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function N_(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function L_(t,n,{anchor:e,label:i=n.label,labelAnchor:r,labelArrow:o}={}){if(!(null==i||i.inferred&&z_(n)&&/^(date|time|year)$/i.test(i))){if(i=String(i),"auto"===o&&(o=(!n.bandwidth||n.interval)&&!/[]/.test(i)),!o)return i;if(!0===o){const e=function(t){return Math.sign(Id(t.domain()))*Math.sign(Id(t.range()))}(n);e&&(o=/x$/.test(t)||"center"===r?/x$/.test(t)===e<0?"left":"right":e<0?"up":"down")}switch(o){case"left":return` ${i}`;case"right":return`${i} `;case"up":return"right"===e?`${i} `:` ${i}`;case"down":return"right"===e?`${i} `:` ${i}`}return i}}function C_(t="auto"){return!_g(t)&&("boolean"==typeof t?t:Ip(t,"labelArrow",["auto","up","right","down","left"]))}function z_(t){return hg(t.domain())}function D_(t,n){if(null==n)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function F_(t,n={},e){let{columns:i,tickFormat:r,fontVariant:o=Zm(t),swatchSize:a=15,swatchWidth:s=a,swatchHeight:c=a,marginLeft:l=0,className:f,style:u,width:h}=n;const d=em(n);f=Cm(f),r=M_(t.scale,t.domain,void 0,r);const p=im("div",d).attr("class",`${f}-swatches ${f}-swatches-${null!=i?"columns":"wrap"}`);let g;return null!=i?(g=`:where(.${f}-swatches-columns .${f}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${f}-swatches-columns .${f}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${f}-swatches-columns .${f}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,p.style("columns",i).selectAll().data(t.domain).enter().append("div").attr("class",`${f}-swatch`).call(e,t,s,c).call(t=>t.append("div").attr("class",`${f}-swatch-label`).attr("title",r).text(r))):(g=`:where(.${f}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${f}-swatches-wrap .${f}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${f}-swatch`).call(e,t,s,c).append(function(){return this.ownerDocument.createTextNode(r.apply(this,arguments))})),p.call(t=>t.insert("style","*").text(`:where(.${f}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${f}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${g}`)).style("margin-left",l?+l+"px":null).style("width",void 0===h?null:+h+"px").style("font-variant",Em(o,"normal")).call(zm,u).node()}const P_=new Map([["symbol",function(t,{fill:n=(void 0!==(n=>null==(n=t.hint)?void 0:n.fill)()?t.hint.fill:"none"),fillOpacity:e=1,stroke:i=(void 0!==(n=>null==(n=t.hint)?void 0:n.stroke)()?t.hint.stroke:_g(n)?"currentColor":"none"),strokeOpacity:r=1,strokeWidth:o=1.5,r:a=4.5,...s}={},c){const[l,f]=Up(n),[u,h]=Up(i),d=D_(c,l),p=D_(c,u),g=a*a*Math.PI;return e=jp(e)[1],r=jp(r)[1],o=jp(o)[1],F_(t,s,(n,i,a,s)=>n.append("svg").attr("viewBox","-8 -8 16 16").attr("width",a).attr("height",s).attr("fill","color"===l?t=>d.scale(t):f).attr("fill-opacity",e).attr("stroke","color"===u?t=>p.scale(t):h).attr("stroke-opacity",r).attr("stroke-width",o).append("path").attr("d",n=>{const e=hr();return t.scale(n).draw(e,g),e}))}],["color",U_],["opacity",function({type:t,interpolate:n,...e},{legend:i=!0,color:r=Yn(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);!0===i&&(i="ramp");if("ramp"!==`${i}`.toLowerCase())throw new Error(`${i} opacity legends are not supported`);return U_({type:t,...e,interpolate:j_(r)},{legend:i,...o})}]]);function O_({className:t,...n},{label:e,ticks:i,tickFormat:r}={},o){return function(t={},...n){let e=t;for(const i of n)for(const n in i)if(void 0===e[n]){const r=i[n];e===t?e={...e,[n]:r}:e[n]=r}return e}(o,{className:t,...n},{label:e,ticks:i,tickFormat:r})}function U_(t,{legend:n=!0,...e}){if(!0===n&&(n="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${n}`.toLowerCase()){case"swatches":return function(t,{opacity:n,...e}={}){if(!$b(t)&&!Tb(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return F_(t,e,(t,e,i,r)=>t.append("svg").attr("width",i).attr("height",r).attr("fill",e.scale).attr("fill-opacity",jp(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}(t,e);case"ramp":return Gm(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function j_(t){const{r:n,g:e,b:i}=Yn(t)||Yn(0,0,0);return t=>`rgba(${n},${e},${i},${t})`}function R_(t,n,e,i,r,o){const{rx1y1:a,rx1y2:s,rx2y1:c,rx2y2:l}=o;"function"!=typeof n&&(n=zp(n)),"function"!=typeof e&&(e=zp(e)),"function"!=typeof i&&(i=zp(i)),"function"!=typeof r&&(r=zp(r));const f=Math.max(Math.abs(a+c),Math.abs(s+l)),u=Math.max(Math.abs(a+s),Math.abs(c+l));t.attr("d",t=>{const o=n(t),h=e(t),d=i(t),p=r(t),g=o>d,y=h>p,b=g?d:o,m=g?o:d,v=y?p:h,_=y?h:p,x=Math.min(1,(m-b)/f,(_-v)/u),w=x*(g?y?l:c:y?s:a),k=x*(g?y?s:a:y?l:c),M=x*(g?y?a:s:y?c:l),$=x*(g?y?c:l:y?a:s);return`M${b},${v+B_(w,$)}A${w},${w} 0 0 ${w<0?0:1} ${b+I_(w,$)},${v}H${m-I_(k,M)}A${k},${k} 0 0 ${k<0?0:1} ${m},${v+B_(k,M)}V${_-B_(M,k)}A${M},${M} 0 0 ${M<0?0:1} ${m-I_(M,k)},${_}H${b+I_($,w)}A${$},${$} 0 0 ${$<0?0:1} ${b},${_-B_($,w)}Z`})}function I_(t,n){return n<0?t:Math.abs(t)}function B_(t,n){return n<0?Math.abs(t):t}const q_={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},H_={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class W_ extends Fm{constructor(t={}){const{anchor:n=null}=t;super(kp,void 0,t,null==n?q_:H_),this.anchor=Rp(n,"anchor",["top","right","bottom","left"]),function(t,{inset:n=0,insetTop:e=n,insetRight:i=n,insetBottom:r=n,insetLeft:o=n}={}){t.insetTop=Ep(e),t.insetRight=Ep(i),t.insetBottom=Ep(r),t.insetLeft=Ep(o)}(this,t),n||function(t,{r:n,rx:e,ry:i,rx1:r=n,ry1:o=n,rx2:a=n,ry2:s=n,rx1y1:c=(void 0!==r?+r:void 0!==o?+o:0),rx1y2:l=(void 0!==r?+r:void 0!==s?+s:0),rx2y1:f=(void 0!==a?+a:void 0!==o?+o:0),rx2y2:u=(void 0!==a?+a:void 0!==s?+s:0)}={}){c||l||f||u?(t.rx1y1=c,t.rx1y2=l,t.rx2y1=f,t.rx2y2=u):(t.rx=Em(e,"auto"),t.ry=Em(i,"auto"))}(this,t)}render(t,n,e,i,r){const{marginTop:o,marginRight:a,marginBottom:s,marginLeft:c,width:l,height:f}=i,{anchor:u,insetTop:h,insetRight:d,insetBottom:p,insetLeft:g}=this,{rx:y,ry:b,rx1y1:m,rx1y2:v,rx2y1:_,rx2y2:x}=this,w=c+g,k=l-a-d,M=o+h,$=f-s-p;return im(u?"svg:line":m||v||_||x?"svg:path":"svg:rect",r).datum(0).call(Mm,this,i,r).call($m,this).call(bm,this,e).call(Sm,this,{}).call("left"===u?t=>t.attr("x1",w).attr("x2",w).attr("y1",M).attr("y2",$):"right"===u?t=>t.attr("x1",k).attr("x2",k).attr("y1",M).attr("y2",$):"top"===u?t=>t.attr("x1",w).attr("x2",k).attr("y1",M).attr("y2",M):"bottom"===u?t=>t.attr("x1",w).attr("x2",k).attr("y1",$).attr("y2",$):m||v||_||x?t=>t.call(R_,w,M,k,$,this):t=>t.attr("x",w).attr("y",M).attr("width",k-w).attr("height",$-M).attr("rx",y).attr("ry",b)).node()}}const Y_={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},V_=new Set(["geometry","href","src","ariaLabel","scales"]);class X_ extends Fm{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),void 0===n.title&&lg(t)&&fg(t)&&(n={...n,title:Tp});const{x:e,y:i,x1:r,x2:o,y1:a,y2:s,anchor:c,preferredAnchor:l="bottom",monospace:f,fontFamily:u=(f?"ui-monospace, monospace":void 0),fontSize:h,fontStyle:d,fontVariant:p,fontWeight:g,lineHeight:y=1,lineWidth:b=20,frameAnchor:m,format:v,textAnchor:_="start",textOverflow:x,textPadding:w=8,title:k,pointerSize:M=12,pathFilter:$="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:null!=r&&null!=o?null:e,scale:"x",optional:!0},y:{value:null!=a&&null!=s?null:i,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:null==o},y1:{value:a,scale:"y",optional:null==s},x2:{value:o,scale:"x",optional:null==r},y2:{value:s,scale:"y",optional:null==a},title:{value:k,optional:!0}},n,Y_),this.anchor=wg(c,"anchor"),this.preferredAnchor=wg(l,"preferredAnchor"),this.frameAnchor=kg(m),this.textAnchor=Em(_,"middle"),this.textPadding=+w,this.pointerSize=+M,this.pathFilter=Sp($),this.lineHeight=+y,this.lineWidth=+b,this.textOverflow=Tv(x),this.monospace=!!f,this.fontFamily=Sp(u),this.fontSize=Ep(h),this.fontStyle=Sp(d),this.fontVariant=Sp(p),this.fontWeight=Sp(g);for(const T in Y_)T in this.channels&&(this[T]=Y_[T]);this.splitLines=Ov(this),this.clipLine=Uv(this),this.format="string"==typeof v||"function"==typeof v?{title:v}:{...v}}render(t,n,e,i,r){const o=this,{x:a,y:s,fx:c,fy:l}=n,{ownerSVGElement:f,document:u}=r,{anchor:h,monospace:d,lineHeight:p,lineWidth:g}=this,{textPadding:y,pointerSize:b,pathFilter:m}=this,{marginTop:v,marginLeft:_}=i,{x1:x,y1:w,x2:k,y2:M,x:$=x??k,y:T=w??M}=e,A=c?c(t.fx)-_:0,S=l?l(t.fy)-v:0,[E,N]=Dm(this,i),L=Vm(e,E),C=Xm(e,N),z=d?Pv:Fv,D=z(jv);let F,P;"title"in e?(F=G_.call(this,{title:e.channels.title},n),P=K_):(F=G_.call(this,e.channels,n),P=Q_);const O=im("svg:g",r).call(Mm,this,i,r).call(Lv,this).call(Sm,this,{x:$&&a,y:T&&s}).call(i=>i.selectAll().data(t).enter().append("g").attr("transform",t=>`translate(${Math.round(L(t))},${Math.round(C(t))})`).call($m,this).call(t=>t.append("path").attr("filter",m)).call(i=>i.append("text").each(function(i){const r=kn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const a=P.call(o,i,t,F,n,e);if("string"==typeof a)for(const t of o.splitLines(a))U(r,{value:o.clipLine(t)});else{const t=new Set;for(const n of a){const{label:e=""}=n;e&&t.has(e)||(t.add(e),U(r,n))}}})));function U(t,{label:n,value:e,color:i,opacity:r}){n??(n=""),e??(e="");const o=null!=i||null!=r;let a,s=100*g;const[c]=Rv(n,s,z,D);if(c>=0)n=n.slice(0,c).trimEnd()+jv,a=e.trim(),e="";else{(n||!e&&!o)&&(e=" "+e);const[t]=Rv(e,s-z(n),z,D);t>=0&&(a=e.trim(),e=e.slice(0,t).trimEnd()+jv)}const l=t.append("tspan").attr("x",0).attr("dy",`${p}em`).text("");n&&l.append("tspan").attr("font-weight","bold").text(n),e&&l.append(()=>u.createTextNode(e)),o&&l.append("tspan").text(" ").attr("fill",i).attr("fill-opacity",r).style("user-select","none"),a&&l.append("title").text(a)}function j(){const{width:t,height:n}=i.facet??i;O.selectChildren().each(function(e){let{x:i,width:r,height:a}=this.getBBox();r=Math.round(r),a=Math.round(a);let s=h;if(void 0===s){const i=L(e)+A,c=C(e)+S,l=i+r+b+2*y<t,f=i-r-b-2*y>0,u=c+a+b+2*y<n,h=c-a-b-2*y>0;s=l&&f?u&&h?o.preferredAnchor:h?"bottom":"top":u&&h?l?"left":"right":(l||f)&&(u||h)?`${h?"bottom":"top"}-${l?"left":"right"}`:o.preferredAnchor}const c=this.firstChild,l=this.lastChild;if(c.setAttribute("d",function(t,n,e,i,r){const o=i+2*e,a=r+2*e;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}(s,b,y,r,a)),i)for(const t of l.childNodes)t.setAttribute("x",-i);l.setAttribute("y",+function(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}(s,l.childNodes.length,p).toFixed(6)+"em"),l.setAttribute("transform",`translate(${function(t,n,e,i,r){switch(t){case"middle":return[-i/2,r/2];case"top-left":return[e,n+e];case"top":return[-i/2,n/2+e];case"top-right":return[-i-e,n+e];case"right":return[-n/2-i-e,r/2];case"bottom-left":return[e,-n-e];case"bottom":return[-i/2,-n/2-e];case"bottom-right":return[-i-e,-n-e];case"left":return[e+n/2,r/2]}}(s,b,y,r,a)})`)}),O.attr("visibility",null)}return t.length&&(O.attr("visibility","hidden"),f.isConnected?Promise.resolve().then(j):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(j)),O.node()}}function Z_(t,{x:n,y:e,...i}={}){return void 0===i.frameAnchor&&([n,e]=Jp(n,e)),new X_(t,{...i,x:n,y:e})}function G_(t,n){var e,i;const r={};let o=this.format;o=J_(o,t,"x"),o=J_(o,t,"y"),this.format=o;for(const a in o){const n=o[a];if(null!==n&&!1!==n)if("fx"===a||"fy"===a)r[a]=!0;else{const n=_y(t,a);n&&(r[a]=n)}}for(const a in t){if(a in r||a in o||V_.has(a))continue;if(("x"===a||"y"===a)&&t.geometry)continue;const n=_y(t,a);if(n){if(null==n.scale&&"color"===n.defaultScale)continue;r[a]=n}}this.facet&&(n.fx&&!("fx"in o)&&(r.fx=!0),n.fy&&!("fy"in o)&&(r.fy=!0));for(const a in r){const t=this.format[a];if("string"==typeof t){const o=(null==(e=r[a])?void 0:e.value)??(null==(i=n[a])?void 0:i.domain())??[];this.format[a]=(hg(o)?bl:uo)(t)}else if(void 0===t||!0===t){const t=n[a];this.format[a]=(null==t?void 0:t.bandwidth)?M_(t,t.domain()):fm}}return r}function J_(t,n,e){if(!(e in t))return t;const i=`${e}1`,r=`${e}2`;if(!(!(i in t)&&i in n||!(r in t)&&r in n))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([t])=>t===e)+1,0,[i,a],[r,a]),Object.fromEntries(o)}function K_(t,n,{title:e}){return this.format.title(e.value[t],t)}function*Q_(t,n,e,i,r){for(const o in e){if("fx"===o||"fy"===o){yield{label:ex(i,e,o),value:this.format[o](n[o],t)};continue}if("x1"===o&&"x2"in e)continue;if("y1"===o&&"y2"in e)continue;const a=e[o];if("x2"===o&&"x1"in e)yield{label:nx(i,e,"x"),value:tx(this.format.x2,e.x1,a,t)};else if("y2"===o&&"y1"in e)yield{label:nx(i,e,"y"),value:tx(this.format.y2,e.y1,a,t)};else{const n=a.value[t],s=a.scale;if(!Nd(n)&&null==s)continue;yield{label:ex(i,e,o),value:this.format[o](n,t),color:"color"===s?r[o][t]:null,opacity:"opacity"===s?r[o][t]:null}}}}function tx(t,n,e,i){var r;return(null==(r=e.hint)?void 0:r.length)?`${t(e.value[i]-n.value[i],i)}`:`${t(n.value[i],i)}${t(e.value[i],i)}`}function nx(t,n,e){const i=ex(t,n,`${e}1`,e),r=ex(t,n,`${e}2`,e);return i===r?i:`${i}${r}`}function ex(t,n,e,i=e){const r=n[e],o=t[(null==r?void 0:r.scale)??e];return String((null==o?void 0:o.label)??(null==r?void 0:r.label)??i)}function ix(t={}){var n;const{facet:e,style:i,title:r,subtitle:o,caption:a,ariaLabel:s,ariaDescription:c}=t,l=Cm(t.className),f=void 0===t.marks?[]:ox(t.marks);f.push(...function(t){const n=[];for(const e of t){let t=e.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:i,preferredAnchor:r}=t;i=/^x$/i.test(i)?Wm:/^y$/i.test(i)?Ym:Hm,t=i(px(e,t)),t.title=null,void 0===r&&(t.preferredAnchor=i===Ym?"left":"bottom");const o=Z_(e.data,t);o.facet=e.facet,o.facetAnchor=e.facetAnchor,n.push(o)}}return n}(f));const u=function(t,n){if(null==t)return;const{x:e,y:i}=t;if(null==e&&null==i)return;const r=Bp(t.data);if(null==r)throw new Error("missing facet data");const o={};null!=e&&(o.fx=ly(r,{value:e,scale:"fx"}));null!=i&&(o.fy=ly(r,{value:i,scale:"fy"}));cx(o,n);const a=Lb(r,o);return{channels:o,groups:a,data:t.data}}(e,t),h=new Map;for(const P of f){const n=dx(P,u,t);n&&h.set(P,n)}const d=new Map;u&&ux(d,[u],t),ux(d,h,t);const p=ox(function(t,n,e){let{projection:i,x:r={},y:o={},fx:a={},fy:s={},axis:c,grid:l,facet:f={},facet:{axis:u=c,grid:h}=f,x:{axis:d=c,grid:p=(null===d?null:l)}=r,y:{axis:g=c,grid:y=(null===g?null:l)}=o,fx:{axis:b=u,grid:m=(null===b?null:h)}=a,fy:{axis:v=u,grid:_=(null===v?null:h)}=s}=e;(i||!Xp(r)&&!vx("x",t))&&(d=p=null);(i||!Xp(o)&&!vx("y",t))&&(g=y=null);n.has("fx")||(b=m=null);n.has("fy")||(v=_=null);void 0===d&&(d=!mx(t,"x"));void 0===g&&(g=!mx(t,"y"));void 0===b&&(b=!mx(t,"fx"));void 0===v&&(v=!mx(t,"fy"));!0===d&&(d="bottom");!0===g&&(g="left");!0===b&&(b="top"===d||null===d?"bottom":"top");!0===v&&(v="right"===g||null===g?"left":"right");const x=[];return yx(x,_,g_,s),gx(x,v,l_,"right","left",f,s),yx(x,m,b_,a),gx(x,b,u_,"top","bottom",f,a),yx(x,y,p_,o),gx(x,g,c_,"left","right",e,o),yx(x,p,y_,r),gx(x,d,f_,"bottom","top",e,r),x}(f,d,t));for(const P of p){const n=dx(P,u,t);n&&h.set(P,n)}f.unshift(...p);let g=function(t,n){const{fx:e,fy:i}=ub(t,n),r=null==e?void 0:e.scale.domain(),o=null==i?void 0:i.scale.domain();return r&&o?W(r,o).map(([t,n],e)=>({x:t,y:n,i:e})):r?r.map((t,n)=>({x:t,i:n})):o?o.map((t,n)=>({y:t,i:n})):void 0}(d,t);if(void 0!==g){const t=u?qb(g,u):void 0;for(const e of f){if(null===e.facet||"super"===e.facet)continue;const n=h.get(e);void 0!==n&&(n.facetsIndex=null!=e.fx||null!=e.fy?qb(g,n):t)}const n=new Set;for(const{facetsIndex:e}of h.values())null==e||e.forEach((t,e)=>{(null==t?void 0:t.length)>0&&n.add(e)});g.forEach(0<n.size&&n.size<g.length?(t,e)=>t.empty=!n.has(e):t=>t.empty=!1);for(const e of f)if("exclude"===e.facet){const t=h.get(e);void 0!==t&&(t.facetsIndex=Cb(t.facetsIndex))}}for(const P of Fg.keys())Xp(t[P])&&"fx"!==P&&"fy"!==P&&d.set(P,[]);const y=new Map;for(const P of f){if(y.has(P))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:n,channels:e}=h.get(P)??{},{data:i,facets:r,channels:o}=P.initialize(n,e,t);cx(o,t),y.set(P,{data:i,facets:r,channels:o})}const b=ub(ux(d,y,t),t),m=function(t,n,e={}){let i=.5-um,r=.5+um,o=.5+um,a=.5-um;for(const{marginTop:g,marginRight:y,marginBottom:b,marginLeft:m}of n)g>i&&(i=g),y>r&&(r=y),b>o&&(o=b),m>a&&(a=m);let{margin:s,marginTop:c=(void 0!==s?s:i),marginRight:l=(void 0!==s?s:r),marginBottom:f=(void 0!==s?s:o),marginLeft:u=(void 0!==s?s:a)}=e;c=+c,l=+l,f=+f,u=+u;let{width:h=640,height:d=Rm(t,e,{width:h,marginTopDefault:i,marginRightDefault:r,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-i+f-o)}=e;h=+h,d=+d;const p={width:h,height:d,marginTop:c,marginRight:l,marginBottom:f,marginLeft:u};if(t.fx||t.fy){let{margin:t,marginTop:n=(void 0!==t?t:c),marginRight:i=(void 0!==t?t:l),marginBottom:r=(void 0!==t?t:f),marginLeft:o=(void 0!==t?t:u)}=e.facet??{};n=+n,i=+i,r=+r,o=+o,p.facet={marginTop:n,marginRight:i,marginBottom:r,marginLeft:o}}return p}(b,f,t);!function(t,n){const{x:e,y:i,fx:r,fy:o}=t,a=r||o?pb(n):n;r&&yb(r,a),o&&bb(o,a);const s=r||o?gb(t,n):n;e&&yb(e,s),i&&bb(i,s)}(b,m);const v=hb(b),{fx:_,fy:x}=v,w=_||x?gb(b,m):m,k=_||x?function({fx:t,fy:n},e){const{marginTop:i,marginRight:r,marginBottom:o,marginLeft:a,width:s,height:c}=pb(e),l=t&&_x(t),f=n&&_x(n);return{marginTop:n?f[0]:i,marginRight:t?s-l[1]:r,marginBottom:n?c-f[1]:o,marginLeft:t?l[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:s,height:c}}(v,m):m,M=em(t),$=M.document,T=gt("svg").call($.documentElement);let A=T;M.ownerSVGElement=T,M.className=l,M.projection=Vb(t,w),M.path=function(){return ks(this.projection??function({x:t,y:n}){if(t||n)return t??(t=t=>t),n??(n=t=>t),Ms({point(e,i){this.stream.point(t(e),n(i))}})}(v))},M.filterFacets=(t,n)=>qb(g,{channels:n,groups:Lb(t,n)}),M.getMarkState=t=>{const n=y.get(t),e=h.get(t);return{...n,channels:{...n.channels,...null==e?void 0:e.channels}}},M.dispatchValue=t=>{A.value!==t&&(A.value=t,A.dispatchEvent(new M.document.defaultView.Event("input",{bubbles:!0})))};const S=new Set;for(const[P,O]of y)if(null!=P.initializer){const n="super"===P.facet?k:w,e=P.initializer(O.data,O.facets,O.channels,v,n,M);if(void 0!==e.data&&(O.data=e.data),void 0!==e.facets&&(O.facets=e.facets),void 0!==e.channels){const{fx:n,fy:i,...r}=e.channels;fx(r),Object.assign(O.channels,r);for(const e of Object.values(r)){const{scale:n}=e;null==n||Pg(Fg.get(n))||(lx(e,t),S.add(n))}null==n&&null==i||h.set(P,!0)}}if(S.size){const n=new Map;ux(n,y,t,t=>S.has(t)),ux(d,y,t,t=>S.has(t));const e=function(t,n){for(const e in t){const i=t[e],r=n[e];void 0===i.label&&r&&(i.label=r.label)}return t}(ub(n,t),b),{scales:i,...r}=hb(e);Object.assign(b,e),Object.assign(v,r),Object.assign(v.scales,i)}let E,N;void 0!==g&&(E={x:null==_?void 0:_.domain(),y:null==x?void 0:x.domain()},g=function(t,{x:n,y:e}){return n&&(n=Fb(n)),e&&(e=Fb(e)),t.filter(n&&e?t=>n.has(t.x)&&e.has(t.y):n?t=>n.has(t.x):t=>e.has(t.y)).sort(n&&e?(t,i)=>n.get(t.x)-n.get(i.x)||e.get(t.y)-e.get(i.y):n?(t,e)=>n.get(t.x)-n.get(e.x):(t,n)=>e.get(t.y)-e.get(n.y))}(g,E),N=function(t,n,{marginTop:e,marginLeft:i}){const r=t?({x:n})=>t(n)-i:()=>0,o=n?({y:t})=>n(t)-e:()=>0;return function(t){"svg"===this.tagName?(this.setAttribute("x",r(t)),this.setAttribute("y",o(t))):this.setAttribute("transform",`translate(${r(t)},${o(t)})`)}}(_,x,m));for(const[P,O]of y)O.values=P.scale(O.channels,v,M);const{width:L,height:C}=m;kn(T).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",L).attr("height",C).attr("viewBox",`0 0 ${L} ${C}`).attr("aria-label",s).attr("aria-description",c).call(t=>t.append("style").text(`:where(.${l}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${l} text),\n:where(.${l} tspan) {\n  white-space: pre;\n}`)).call(zm,i);for(const P of f){const{channels:t,values:e,facets:i}=y.get(P);if(void 0===g||"super"===P.facet){let n=null;if(i&&(n=i[0],n=P.filter(n,t,e),0===n.length))continue;const r=P.render(n,v,e,k,M);if(null==r)continue;T.appendChild(r)}else{let r;for(const o of g){if(!((null==(n=P.facetAnchor)?void 0:n.call(P,g,E,o))??!o.empty))continue;let a=null;if(i){const n=h.has(P);if(a=i[n?o.i:0],a=P.filter(a,t,e),0===a.length)continue;n||a!==i[0]||(a=eg(a)),a.fx=o.x,a.fy=o.y,a.fi=o.i}const s=P.render(a,v,e,w,M);if(null!=s){(r??(r=kn(T).append("g"))).append(()=>s).datum(o);for(const t of["aria-label","aria-description","aria-hidden","transform"])s.hasAttribute(t)&&(r.attr(t,s.getAttribute(t)),s.removeAttribute(t))}}null==r||r.selectChildren().each(N)}}const z=function(t,n,e){const i=[];for(const[r,o]of P_){const a=e[r];if((null==a?void 0:a.legend)&&r in t){const e=o(t[r],O_(n,t[r],a),n=>t[n]);null!=e&&i.push(e)}}return i}(b,M,t),{figure:D=null!=r||null!=o||null!=a||z.length>0}=t;D&&(A=$.createElement("figure"),A.className=`${l}-figure`,A.style.maxWidth="initial",null!=r&&A.append(rx($,r,"h2")),null!=o&&A.append(rx($,o,"h3")),A.append(...z,T),null!=a&&A.append(function(t,n){const e=t.createElement("figcaption");return e.append(n),e}($,a)),"value"in T&&(A.value=T.value,delete T.value)),A.scale=function(t){return n=>{if(!Fg.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}(v.scales),A.legend=function(t,n,e={}){return(i,r)=>{if(!P_.has(i))throw new Error(`unknown legend type: ${i}`);if(i in t)return P_.get(i)(t[i],O_(n,e[i],r),n=>t[n])}}(b,M,t);const F=function(){const t=Gy;return Gy=0,Zy=void 0,t}();return F>0&&kn(T).append("text").attr("x",L).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${F.toLocaleString("en-US")} warning${1===F?"":"s"}. Please check the console.`),A}function rx(t,n,e){if(n.ownerDocument)return n;const i=t.createElement(e);return i.append(n),i}function ox(t){return t.flat(1/0).filter(t=>null!=t).map(ax)}function ax(t){return"function"==typeof t.render?t:new sx(t)}class sx extends Fm{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function cx(t,n){for(const e in t)lx(t[e],n);return t}function lx(t,n){const{scale:e,transform:i=!0}=t;if(null==e||!i)return;const{type:r,percent:o,interval:a,transform:s=(o?t=>null==t?NaN:100*t:og(a,r))}=n[e]??{};null!=s&&(t.value=Wp(t.value,s),t.transform=!1)}function fx(t){for(const n in t)hy(n,t[n])}function ux(t,n,e,i=Ap){var r,o;for(const{channels:a}of n.values())for(const n in a){const s=a[n],{scale:c}=s;if(null!=c&&i(c))if("projection"===c){if(!tm(e)){const n=void 0===(null==(r=e.x)?void 0:r.domain),i=void 0===(null==(o=e.y)?void 0:o.domain);if(n||i){const[e,r]=nm(s);n&&hx(t,"x",e),i&&hx(t,"y",r)}}}else hx(t,c,s)}return t}function hx(t,n,e){const i=t.get(n);void 0!==i?i.push(e):t.set(n,[e])}function dx(t,n,e){if(null===t.facet||"super"===t.facet)return;const{fx:i,fy:r}=t;if(null!=i||null!=r){const n=Bp(t.data??i??r);if(void 0===n)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===n)return;const o={};return null!=i&&(o.fx=ly(n,{value:i,scale:"fx"})),null!=r&&(o.fy=ly(n,{value:r,scale:"fy"})),cx(o,e),{channels:o,groups:Lb(n,o)}}if(void 0===n)return;const{channels:o,groups:a,data:s}=n;if("auto"!==t.facet||t.data===s)return{channels:o,groups:a};s.length>0&&(a.size>1||1===a.size&&o.fx&&o.fy&&[...a][0][1].size>1)&&Qp(Bp(t.data))===Qp(s)&&Jy(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function px(t,n={}){return qg({...n,x:null,y:null},(n,e,i,r,o,a)=>a.getMarkState(t))}function gx(t,n,e,i,r,o,a){if(!n)return;const s=/^\s*both\s*$/i.test(n);a=function(t,n,{line:e=n.line,ticks:i,tickSize:r,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:l,ariaLabel:f,ariaDescription:u,label:h=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:i,tickSize:r,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:l,ariaLabel:f,ariaDescription:u,label:h,labelAnchor:d,labelArrow:p,labelOffset:g}}(s?i:n,o,a);const{line:c}=a;e!==c_&&e!==f_||!c||xg(c)||t.push(function(t){return new W_(t)}(function(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:!0===e?void 0:e}}(a))),t.push(e(a)),s&&t.push(e({...a,anchor:r,label:null}))}function yx(t,n,e,i){n&&!xg(n)&&t.push(e(function(t,{stroke:n=(mg(t)?t:void 0),ticks:e=(bx(t)?t:void 0),tickSpacing:i,ariaLabel:r,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:i,ariaLabel:r,ariaDescription:o}}(n,i)))}function bx(t){switch(typeof t){case"number":return!0;case"string":return!mg(t)}return lg(t)||"function"==typeof(null==t?void 0:t.range)}function mx(t,n){const e=`${n}-axis `;return t.some(t=>{var n;return null==(n=t.ariaLabel)?void 0:n.startsWith(e)})}function vx(t,n){for(const e of n)for(const n in e.channels){const{scale:i}=e.channels[n];if(i===t||"projection"===i)return!0}return!1}function _x(t){const n=t.domain();if(0===n.length)return[0,t.bandwidth()];let e=t(n[0]),i=t(n[n.length-1]);return i<e&&([e,i]=[i,e]),[e,i+t.bandwidth()]}const xx=new Map([["basis",function(t){return new Qh(t)}],["basis-closed",function(t){return new td(t)}],["basis-open",function(t){return new nd(t)}],["bundle",id],["bump-x",function(t){return new kh(t,!0)}],["bump-y",function(t){return new kh(t,!1)}],["cardinal",ad],["cardinal-closed",cd],["cardinal-open",fd],["catmull-rom",dd],["catmull-rom-closed",gd],["catmull-rom-open",bd],["linear",vh],["linear-closed",function(t){return new md(t)}],["monotone-x",function(t){return new kd(t)}],["monotone-y",function(t){return new Md(t)}],["natural",function(t){return new Td(t)}],["step",function(t){return new Sd(t,.5)}],["step-after",function(t){return new Sd(t,1)}],["step-before",function(t){return new Sd(t,0)}]]);function wx(t=kx,n){return"function"!=typeof t&&"auto"===`${t}`.toLowerCase()?kx:function(t=vh,n){if("function"==typeof t)return t;const e=xx.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(void 0!==n){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}(t,n)}function kx(t){return vh(t)}function Mx(t,n,e){return Math.min(200,X(t,n,e))}const $x={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Tx(t){return void 0===t.sort&&void 0===t.reverse?function(t,{sort:n,...e}={}){return{...(Zp(t)&&void 0!==t.channel?qg:Yg)(e,Zg(t)),sort:Gp(n)?n:null}}({channel:"-r"},t):t}class Ax extends Fm{constructor(t,n={}){const{x:e,y:i,r:r,rotate:o,symbol:a=Th,frameAnchor:s}=n,[c,l]=jp(o,0),[f,u]=function(t){if(null==t||jg(t))return[void 0,t];if("string"==typeof t){const n=Ug.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}(a),[h,d]=jp(r,null==f?3:4.5);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:h,scale:"r",filter:Fd,optional:!0},rotate:{value:c,optional:!0},symbol:{value:f,scale:"auto",optional:!0}},Tx(n),$x),this.r=d,this.rotate=l,this.symbol=u,this.frameAnchor=kg(s);const{channels:p}=this,{symbol:g}=p;if(g){const{fill:t,stroke:n}=p;g.hint={fill:t?t.value===g.value?"color":"currentColor":this.fill??"currentColor",stroke:n?n.value===g.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,e,i,r){const{x:o,y:a}=n,{x:s,y:c,r:l,rotate:f,symbol:u}=e,{r:h,rotate:d,symbol:p}=this,[g,y]=Dm(this,i),b=p===Th,m=l?void 0:h*h*Math.PI;return Pd(h)&&(t=[]),im("svg:g",r).call(Mm,this,i,r).call(Sm,this,{x:s&&o,y:c&&a}).call(n=>n.selectAll().data(t).enter().append(b?"circle":"path").call($m,this).call(b?t=>{t.attr("cx",s?t=>s[t]:g).attr("cy",c?t=>c[t]:y).attr("r",l?t=>l[t]:h)}:t=>{t.attr("transform",kv`translate(${s?t=>s[t]:g},${c?t=>c[t]:y})${f?t=>` rotate(${f[t]})`:d?` rotate(${d})`:""}`).attr("d",l&&u?t=>{const n=hr();return u[t].draw(n,l[t]*l[t]*Math.PI),n}:l?t=>{const n=hr();return p.draw(n,l[t]*l[t]*Math.PI),n}:u?t=>{const n=hr();return u[t].draw(n,m),n}:(()=>{const t=hr();return p.draw(t,m),t})())}).call(bm,this,e)).node()}}function Sx(t,{x:n,y:e,...i}={}){return void 0===i.frameAnchor&&([n,e]=Jp(n,e)),new Ax(t,{...i,x:n,y:e})}const Ex={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Nx extends Fm{constructor(t,n={}){const{x:e,y:i,z:r,curve:o,tension:a}=n;super(t,{x:{value:e,scale:"x"},y:{value:i,scale:"y"},z:{value:Kp(n),optional:!0}},n,Ex),this.z=r,this.curve=wx(o,a),Km(this,n)}filter(t){return t}project(t,n,e){this.curve!==kx&&super.project(t,n,e)}render(t,n,e,i,r){const{x:o,y:a}=e,{curve:s}=this;return im("svg:g",r).call(Mm,this,i,r).call(Sm,this,n).call(n=>n.selectAll().data(vm(t,[o,a],this,e)).enter().append("path").call($m,this).call(mm,this,e).call(sv,this,e,r).attr("d",s===kx&&r.projection?function(t,n,e){return n=Dp(n),e=Dp(e),i=>{let r=[];const o=[r];for(const t of i)-1===t?(r=[],o.push(r)):r.push([n[t],e[t]]);return t({type:"MultiLineString",coordinates:o})}}(r.path(),o,a):wh().curve(s).defined(t=>t>=0).x(t=>o[t]).y(t=>a[t]))).node()}}function Lx(t,{x:n,y:e,...i}={}){return[n,e]=Jp(n,e),new Nx(t,{...i,x:n,y:e})}function Cx(t,n){const e=+t;if(isNaN(e))throw new Error(`invalid ${n}: ${t}`);return e}function zx(t,n){const e=Math.floor(t);if(isNaN(e))throw new Error(`invalid ${n}: ${t}`);return e}class Dx extends Fm{constructor(t,n,e={},i){let{width:r,height:o,x:a,y:s,x1:c=(null==a?0:void 0),y1:l=(null==s?0:void 0),x2:f=(null==a?r:void 0),y2:u=(null==s?o:void 0),pixelSize:h=i.pixelSize,blur:d=0,interpolate:p}=e;if(null!=r&&(r=zx(r,"width")),null!=o&&(o=zx(o,"height")),null!=c&&(c=Cx(c,"x1")),null!=l&&(l=Cx(l,"y1")),null!=f&&(f=Cx(f,"x2")),null!=u&&(u=Cx(u,"y2")),null==a&&(null==c||null==f))throw new Error("missing x");if(null==s&&(null==l||null==u))throw new Error("missing y");null!=t&&null!=r&&null!=o&&(void 0===a&&null!=c&&null!=f&&(a=function(t,n,e){return{transform(i){const r=i.length,o=new Float64Array(r),a=(n-t)/e,s=t+a/2;for(let t=0;t<r;++t)o[t]=t%e*a+s;return o}}}(c,f,r)),void 0===s&&null!=l&&null!=u&&(s=function(t,n,e,i){return{transform(r){const o=r.length,a=new Float64Array(o),s=(n-t)/i,c=t+s/2;for(let t=0;t<o;++t)a[t]=Math.floor(t/e)%i*s+c;return a}}}(l,u,r,o))),super(t,{x:{value:a,scale:"x",optional:!0},y:{value:s,scale:"y",optional:!0},x1:{value:null==c?null:[c],scale:"x",optional:!0,filter:null},y1:{value:null==l?null:[l],scale:"y",optional:!0,filter:null},x2:{value:null==f?null:[f],scale:"x",optional:!0,filter:null},y2:{value:null==u?null:[u],scale:"y",optional:!0,filter:null},...n},e,i),this.width=r,this.height=o,this.pixelSize=Cx(h,"pixelSize"),this.blur=Cx(d,"blur"),this.interpolate=null==a||null==s?null:function(t){if("function"==typeof t)return t;if(null==t)return Ox;switch(`${t}`.toLowerCase()){case"none":return Ox;case"nearest":return Rx;case"barycentric":return function({random:t=xc(42)}={}){return(n,e,i,r,o,a)=>{const{points:s,triangles:c,hull:l}=to.from(n,t=>r[t],t=>o[t]),f=new a.constructor(e*i).fill(NaN),u=new Uint8Array(e*i),h=function(t,n){return gg(t)||hg(t)?Ix:function(t){return(n,e,i,r,o,a,s,c)=>{const l=t(s,c);return l<e?n:l<e+r?i:o}}(n)}(a,t);for(let t=0;t<c.length;t+=3){const r=c[t],o=c[t+1],l=c[t+2],d=s[2*r],p=s[2*o],g=s[2*l],y=s[2*r+1],b=s[2*o+1],m=s[2*l+1],v=Math.min(d,p,g),_=Math.max(d,p,g),x=Math.min(y,b,m),w=Math.max(y,b,m),k=(b-m)*(d-g)+(y-m)*(g-p);if(!k)continue;const M=a[n[r]],$=a[n[o]],T=a[n[l]];for(let t=Math.floor(v);t<_;++t)for(let n=Math.floor(x);n<w;++n){if(t<0||t>=e||n<0||n>=i)continue;const r=t+.5,o=n+.5,a=Math.sign(k),s=(b-m)*(r-g)+(o-m)*(g-p);if(s*a<0)continue;const c=(m-y)*(r-g)+(o-m)*(d-g);if(c*a<0)continue;const l=k-(s+c);if(l*a<0)continue;const v=t+e*n;f[v]=h(M,s/k,$,c/k,T,l/k,t,n),u[v]=1}}return function(t,n,e,i,r,o,a,s,c,l){e=Float64Array.from(s,t=>e[c[t]]),i=Float64Array.from(s,t=>i[c[t]]),r=Array.from(s,t=>r[c[t]]);const f=e.length,u=Array.from({length:f},(t,n)=>function(t,n,e){const i=n.length,r=n.at(t-2),o=e.at(t-2),a=n.at(t-1),s=e.at(t-1),c=n[t],l=e[t],f=n.at(t+1-i),u=e.at(t+1-i),h=a-c,d=s-l,p=r-a,g=o-s,y=c-f,b=l-u,m=Math.hypot(h,d),v=Math.hypot(p,g),_=Math.hypot(y,b);return(t,n)=>{const e=t-a,i=n-s,r=t-c,o=n-l;return jx(e,i,r,o)>-1e-6&&jx(e,i,h,d)*v-jx(e,i,p,g)*m>-1e-6&&jx(r,o,y,b)*m-jx(r,o,h,d)*_<=0}}(n,e,i));let h=0;for(let d=0;d<a;++d){const a=d+.5;for(let s=0;s<o;++s){const c=s+o*d;if(!n[c]){const n=s+.5;for(let o=0;o<f;++o){const p=(f+h+(o%2?(o+1)/2:-o/2))%f;if(u[p](n,a)){const o=Ux(e.at(p-1),i.at(p-1),e[p],i[p],n,a);t[c]=l(r.at(p-1),o,r[p],1-o,r[p],0,s,d),h=p;break}}}}}}(f,u,r,o,a,e,i,l,n,h),f}}();case"random-walk":return function({random:t=xc(42),minDistance:n=.5,maxSteps:e=2}={}){return(i,r,o,a,s,c)=>{const l=new c.constructor(r*o),f=to.from(i,t=>a[t],t=>s[t]);let u,h,d;for(let p=.5,g=0;p<o;++p){h=u;for(let o=.5;o<r;++o,++g){let r,y=o,b=p;d=h=f.find(y,b,h),.5===o&&(u=h);let m=0;for(;(r=Math.hypot(a[i[d]]-y,s[i[d]]-b))>n&&m<e;){const n=2*t(o,p,m)*Math.PI;y+=Math.cos(n)*r,b+=Math.sin(n)*r,d=f.find(y,b,d),++m}l[g]=c[i[d]]}}return l}}()}throw new Error(`invalid interpolate: ${t}`)}(p)}}function Fx(t,n,e){arguments.length<3&&(e=n,n=null);let{x:i,y:r,[t]:o,...a}=e;return void 0===i&&void 0===r&&function(t){if(!lg(t))return!1;for(const n of t)if(null!=n)return"object"==typeof n&&"0"in n&&"1"in n}(n)&&(i=Np,r=Lp,void 0===o&&(o=Cp)),[n,{...a,x:i,y:r,[t]:o}]}function Px({x1:t,y1:n,x2:e,y2:i},r,o,a){const s={};return t&&(s.x1=t),n&&(s.y1=n),e&&(s.x2=e),i&&(s.y2=i),function({x1:t,y1:n,x2:e,y2:i},r,{projection:o}){const{width:a,height:s,marginTop:c,marginRight:l,marginBottom:f,marginLeft:u}=r;return[t&&null==o?t[0]:u,n&&null==o?n[0]:c,e&&null==o?e[0]:a-l,i&&null==o?i[0]:s-f]}(uy(s,r),o,a)}function Ox(t,n,e,i,r,o){const a=new Array(n*e);for(const s of t)i[s]<0||i[s]>=n||r[s]<0||r[s]>=e||(a[Math.floor(r[s])*n+Math.floor(i[s])]=o[s]);return a}function Ux(t,n,e,i,r,o){const a=e-t,s=i-n,c=a*(e-r)+s*(i-o),l=a*(r-t)+s*(o-n);return c>0&&l>0?c/(c+l):+(c>l)}function jx(t,n,e,i){return t*i-e*n}function Rx(t,n,e,i,r,o){const a=new o.constructor(n*e),s=to.from(t,t=>i[t],t=>r[t]);let c,l;for(let f=.5,u=0;f<e;++f){l=c;for(let e=.5;e<n;++e,++u)l=s.find(e,f,l),.5===e&&(c=l),a[u]=o[t[l]]}return a}function Ix(t,n,e,i,r,o){return n*t+i*e+o*r}const Bx={ariaLabel:"contour",fill:"none",stroke:"currentColor",strokeMiterlimit:1,pixelSize:2};class qx extends Dx{constructor(n,{smooth:r=!0,value:o,...a}={}){const s=pm({},a,Bx);if(void 0===o)for(const t in s)if(null!=s[t].value){if(void 0!==o)throw new Error("ambiguous contour value");o=a[t],a[t]="value"}if(null!=o){const t={transform:t=>t.map(t=>t.value),label:rg(o)};for(const n in s)"value"===a[n]&&(a[n]=t)}if(null==n){if(null==o)throw new Error("missing contour value");a=function(t,n={}){const{[t]:e}=n;if("function"!=typeof e)throw new Error(`invalid ${t}: not a function`);return qg({...n,[t]:void 0},function(i,r,o,a,s,c){const{x:l,y:f}=a;if(!l)throw new Error("missing scale: x");if(!f)throw new Error("missing scale: y");const[u,h,d,p]=Px(o,a,s,c),g=d-u,y=p-h,{pixelSize:b}=this,{width:m=Math.round(Math.abs(g)/b),height:v=Math.round(Math.abs(y)/b)}=n,_=new Array(m*v*(r?r.length:1)),x=g/m,w=y/v;let k=0;for(const t of r??[void 0])for(let n=.5;n<v;++n)for(let i=.5;i<m;++i,++k)_[k]=e(l.invert(u+i*x),f.invert(h+n*w),t);return{data:_,facets:r,channels:{[t]:{value:_,scale:"auto"}}}})}("value",{value:o,...a}),o=null}else{let{interpolate:t}=a;void 0===o&&(o=Tp),void 0===t&&(a.interpolate="nearest")}super(n,{value:{value:o,optional:!0}},function({thresholds:n,interval:r,...o}){return n=function(n,e,i=Mx){if(void 0===n)return void 0===e?i:sg(e);if("string"==typeof n){switch(n.toLowerCase()){case"freedman-diaconis":return Z;case"scott":return X;case"sturges":return t;case"auto":return Mx}return ap(n)}return n}(n,r,t),qg(o,function(t,r,o,a,s,c){const[l,u,d,p]=Px(o,a,s,c),g=d-l,y=p-u,{pixelSize:b,width:m=Math.round(Math.abs(g)/b),height:v=Math.round(Math.abs(y)/b)}=this,_=m/g,x=v/y,k=o.value.value,M=[];if(this.interpolate){const{x:t,y:n}=function(t,n,{projection:e}){const{x:i,y:r}=t;let o={};return i&&(o.x=i),r&&(o.y=r),o=uy(o,n),e&&"x"===(null==i?void 0:i.scale)&&"y"===(null==r?void 0:r.scale)&&Qb("x","y",o,e),i&&(o.x=Dp(o.x)),r&&(o.y=Dp(o.y)),o}(o,a,c),e=Wp(t,t=>(t-l)*_,Float64Array),i=Wp(n,t=>(t-u)*x,Float64Array),s=[o.x,o.y,o.value],f=[e,i,k];for(const o of r){const t=this.filter(o,s,f);M.push(this.interpolate(t,m,v,e,i,k))}}else if(r){const t=m*v,n=r.length;for(let e=0;e<n;++e)M.push(k.slice(e*t,e*t+t))}else M.push(k);if(this.blur>0)for(const n of M)G({data:n,width:m,height:v},this.blur);const $=function(t,n,r,o){if("function"==typeof(null==t?void 0:t.range))return t.range(t.floor(r),o);"function"==typeof t&&(t=t(n,r,o));if("number"!=typeof t)return qp(t);const a=e(...i(r,o,t),t);for(;a[a.length-1]>=o;)a.pop();for(;a[1]<r;)a.shift();return a}(n,k,...function(t){return[w(t,t=>w(t,Wx)),f(t,t=>f(t,Wx))]}(M));if(null===$)throw new Error(`unsupported thresholds: ${n}`);const{contour:T}=xr().size([m,v]).smooth(this.smooth),A=[],S=[];for(const n of M)S.push(h(A.length,A.push(...Wp($,t=>T(n,t)))));for(const{coordinates:n}of A)for(const t of n)for(const n of t)for(const t of n)t[0]=t[0]/_+l,t[1]=t[1]/x+u;return{data:A,facets:S,channels:fy(this.contourChannels,A)}})}(a),Bx);const c={geometry:{value:Tp}};for(const t in this.channels){const n=this.channels[t],{scale:e}=n;"x"!==e&&"y"!==e&&"value"!==t&&(c[t]=n,delete this.channels[t])}this.contourChannels=c,this.smooth=!!r}filter(t,{x:n,y:e,value:i,...r},o){return super.filter(t,r,o)}render(t,n,e,i,r){const{geometry:o}=e,a=ks();return im("svg:g",r).call(Mm,this,i,r).call(Sm,this,n).call(n=>{n.selectAll().data(t).enter().append("path").call($m,this).attr("d",t=>a(o[t])).call(bm,this,e)}).node()}}function Hx(){return new qx(...Fx("value",...arguments))}function Wx(t){return isFinite(t)?t:NaN}var Yx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Vx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}Fm.prototype.plot=function({marks:t=[],...n}={}){return ix({...n,marks:[...t,this]})};export{ll as A,cl as B,fi as C,Yx as D,Vx as E,Sv as F,Hx as G,Lx as H,Sx as I,ix as J,Ge as a,Je as b,vo as c,mo as d,ho as e,oo as f,uo as g,Dc as h,We as i,Pc as j,Uc as k,Bc as l,il as m,ol as n,ul as o,bo as p,fl as q,Fc as r,zc as s,yl as t,bl as u,Oc as v,jc as w,Gc as x,rl as y,al as z};
